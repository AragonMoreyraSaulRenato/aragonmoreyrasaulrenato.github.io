(this["webpackJsonpfrontend-cixous"]=this["webpackJsonpfrontend-cixous"]||[]).push([[0],{1096:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(29),c=t.n(o),i=(t(734),t(664)),l=t(665),s=t(716),u=t(715),p=t(30),d=t(190),m=t(24),f=t(5),v=t(1147),h=t(1151),b=t(7),E=t(129),g=t(1158),_=t(659),y=t(294),x=t(477),j=t(59),O=t(494),C=t.n(O),k=t(541),w=t(349),S=t(99),A=t.n(S),D=t(714),T=t(39),R=t(666),I=t(10),N=t.n(I),L=(t(538),t(86)),P=t(1146),q=t(3),F=t(660),z=t(352),Y=t(103),U=Object(F.a)(Object(z.a)({palette:{primary:{light:"#3b434b",main:"#0A151F",dark:"#070e15",contrastText:"#fff"}}})),M=Object(Y.a)((function(e){var a,t,n,r;return{appBar:(a={backgroundImage:"linear-gradient(45deg, #D84315, #F57C00)",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},Object(m.a)(a,e.breakpoints.down("sm"),{marginLeft:"0px"}),Object(m.a)(a,e.breakpoints.up("md"),{marginLeft:"0px"}),a),appBarShift:(t={backgroundImage:"linear-gradient(45deg, #D84315, #F57C00)",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},Object(m.a)(t,e.breakpoints.down("sm"),{width:"100%"}),Object(m.a)(t,e.breakpoints.up("md"),{width:"calc(100% - ".concat(240,"px)")}),t),hide:{display:"none"},drawer:{background:"#0A151F",color:"#D1D2D4",width:240,flexShrink:0},drawerPaper:{background:"#0A151F",color:"#D1D2D4",width:240,overflow:"hidden"},drawerHeader:Object(q.a)(Object(q.a)({display:"flex",alignItems:"center",padding:e.spacing(1)},e.mixins.toolbar),{},{justifyContent:"center"}),content:(n={transition:e.transitions.create("padding",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},Object(m.a)(n,e.breakpoints.down("xs"),{paddingLeft:"0px",margin:0}),Object(m.a)(n,e.breakpoints.up("md"),{paddingLeft:"0px",margin:e.spacing(3)}),n),contentShift:(r={transition:e.transitions.create("padding",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},Object(m.a)(r,e.breakpoints.down("sm"),{paddingLeft:"0px"}),Object(m.a)(r,e.breakpoints.up("md"),{paddingLeft:240}),r),menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,textAlign:"center"}}})),B=(t(738),t(17)),W=t(492),H=t.n(W),G=t(493),V=t.n(G),J=t(167),Z=t.n(J),$=t(412),Q=t.n($),K=t(151),X=t.n(K),ee=t(708),ae=t.n(ee),te=t(160),ne=t.n(te),re=t(409),oe=t.n(re),ce=t(491),ie=t.n(ce),le=t(709),se=t.n(le),ue=t(410),pe=t.n(ue),de=t(411),me=t.n(de),fe=t(298),ve=t.n(fe),he=t(710),be=t.n(he),Ee=t(705),ge=t.n(Ee),_e=t(706),ye=t.n(_e),xe=t(707),je=t.n(xe),Oe=t(1141),Ce=t(1103),ke=t(1125),we=t(539),Se=t(238),Ae=t.n(Se),De=t(239),Te=t.n(De),Re=t(1099),Ie=t(1104),Ne=t(9),Le=t(1124),Pe=Object(Y.a)((function(e){return{nested:{paddingLeft:e.spacing(4)},icons:{color:"#D1D2D4",position:"relative"}}})),qe=Object(Ne.a)({root:{"&$selected":{backgroundColor:"#66686B",color:"white"},"&$selected:hover":{backgroundColor:"#66686B",color:"white"},"&:hover":{backgroundColor:"#66686B",color:"white"}},selected:{}})(Ce.a);function Fe(e){var a=e.name,t=e.childs,o=e.icon,c=e.location,i=Pe(),l=Object(n.useState)(!!t.find((function(e){return e.route===c.pathname}))),s=Object(f.a)(l,2),u=s[0],p=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{button:!0,onClick:function(){return p(!u)}},r.a.createElement(ke.a,{className:i.icons},o),r.a.createElement(we.a,{primary:a}),u?r.a.createElement(Ae.a,null):r.a.createElement(Te.a,null)),r.a.createElement(Re.a,{in:u,timeout:"auto",unmountOnExit:!0},t.map((function(e,a){return r.a.createElement(ze,Object.assign({},e,{key:"list-item-child-".concat(a),selected:e.selected,index:a,location:c}))}))))}function ze(e){var a=e.name,t=e.route,n=e.icon,o=(e.index,e.location.pathname),c=Object(B.a)(e,["name","route","icon","index","location"]),i=Pe();return r.a.createElement(Ie.a,{component:"div",disablePadding:!0},r.a.createElement(qe,Object.assign({button:!0},c,{className:i.nested,component:p.c,selected:t===o,to:t}),r.a.createElement(ke.a,{className:i.icons},n),r.a.createElement(we.a,{primary:a})))}var Ye=Object(d.i)((function(e){var a=e.items,t=e.name,n=Object(B.a)(e,["items","name"]),o=Pe();return r.a.createElement(Ie.a,{subheader:r.a.createElement(Le.a,{className:o.icons,component:"div"},t)},a.map((function(e,a){return r.a.createElement(Fe,Object.assign({key:"list-item-superior-".concat(a)},e,n))})))})),Ue=t(668),Me=t(1),Be=t.n(Me),We=t(6),He=t(12),Ge=t(1136),Ve=t(1137),Je=t(370),Ze=t.n(Je),$e=t(1134),Qe=t(1135),Ke=t(124),Xe=t.n(Ke),ea=t(182),aa=t.n(ea),ta=t(1138),na=t(1126),ra=t(192),oa=t(1101),ca=t(360),ia=t(1127),la=t(1128),sa="https://getconsultoria.herokuapp.com",ua={get:function(e){fetch(e.url,{method:"GET",headers:e.headers}).then((function(a){a.status>=200&&a.status<=299?e.exito(a):e.fallo(a)})).catch(e.error_request)},post:function(e){fetch(e.url,{method:"POST",headers:e.headers,body:JSON.stringify(e.data)}).then((function(a){a.status>=200&&a.status<=299?e.exito(a):e.fallo(a)})).catch(e.error_request)},put:function(e){fetch(e.url,{method:"PUT",headers:e.headers,body:JSON.stringify(e.data)}).then((function(a){a.status>=200&&a.status<=299?e.exito(a):e.fallo(a)})).catch(e.error_request)},deleted:function(e){fetch(e.url,{method:"DELETE",headers:e.headers}).then((function(a){a.status>=200&&a.status<=299?e.exito(a):e.fallo(a)})).catch(e.error_request)},postForm:function(e){fetch(e.url,{method:"POST",headers:e.headers,body:e.data}).then((function(a){a.status>=200&&a.status<=299?e.exito(a):e.fallo(a)})).catch(e.error_request)},putForm:function(e){fetch(e.url,{method:"PUT",headers:e.headers,body:e.data}).then((function(a){a.status>=200&&a.status<=299?e.exito(a):e.fallo(a)})).catch(e.error_request)},BASE_URL:sa,EMPRESA_ALL:"id_empresa-razon_comercial-razon_social-RFC-id_regimen_capital-fecha_constitucion-fecha_alta-es_interna-estatus-id_giro-calle-no_exterior-no_interior-cp-colonia-municipio-entidad-correo-id_representante-observaciones-url_logo-identificador",REPRESENTANTE_ALL:"id_representante-RFC-nombre-primer_apellido-segundo_apellido-genero-correo-observaciones-estatus",EMPLEADO_ALL:"id_empleado-RFC-nombre-primer_apellido-segundo_apellido-curp-estado_civil-genero-id_nacionalidad-no_imss-estatus-calle-no_exterior-no_interior-cp-colonia-municipio-entidad_reside-entidad_labora-fecha_nacimiento-no_cuenta-no_tarjeta-clabe-id_banco-identificador-id_empresa_pertene-salario_diario-salario_capturado-id_empresa_labora-url_foto",GIROS_ALL:"id_giro-nombre_giro-descripcion",CONTRATO_ALL:"id_contrato-id_empleado-id_empresa_labora-id_departamento-id_puesto-id_jornada-id_regimen_contratacion-id_tipo_contrato-fecha_contrato_externo-fecha_inicio_contrato-fecha_fin_contrato-motivo_contrato-salario_diario-salario_capturado-clave_patronal"},pa=[{code:"MEX",name:"Estado de M\xe9xico"},{code:"COA",name:"Coahuila"},{code:"MIC",name:"Michoac\xe1n"},{code:"VER",name:"Veracruz"},{code:"AGU",name:"Aguascalientes"},{code:"BCN",name:"Baja California"},{code:"BCS",name:"Baja California Sur"},{code:"CAM",name:"Campeche"},{code:"CHP",name:"Chiapas"},{code:"CHH",name:"Chihuahua"},{code:"CMX",name:"Ciudad de M\xe9xico"},{code:"COL",name:"Colima"},{code:"DUR",name:"Durango"},{code:"GUA",name:"Guanajuato"},{code:"GRO",name:"Guerrero"},{code:"HID",name:"Hidalgo"},{code:"JAL",name:"Jalisco"},{code:"MOR",name:"Morelos"},{code:"NAY",name:"Nayarit"},{code:"NLE",name:"Nuevo Le\xf3n"},{code:"OAX",name:"Oaxaca"},{code:"PUE",name:"Puebla"},{code:"QUE",name:"Quer\xe9taro"},{code:"ROO",name:"Quintana Roo"},{code:"SLP",name:"San Luis Potos\xed"},{code:"SIN",name:"Sinaloa"},{code:"SON",name:"Sonora"},{code:"TAB",name:"Tabasco"},{code:"TAM",name:"Tamaulipas"},{code:"TLA",name:"Tlaxcala"},{code:"YUC",name:"Yucat\xe1n"},{code:"ZAC",name:"Zacatecas"}];function da(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}function ma(e){switch(e=da(e)){case"mexico":case"estado de mexico":return pa[0].code;case"coahuila de zaragoza":case"coahuila":return pa[1].code;case"michoacan de ocampo":case"michoacan":return pa[2].code;case"veracruz de ignacio de la llave":case"veracruz":return pa[3].code;default:return pa.find((function(a){return da(a.name)===e})).code}}function fa(e){return pa.some((function(a){return a.code===e.toUpperCase()}))}function va(e){var a=pa.find((function(a){return a.code===e.toUpperCase()}));return a?a.name:null}var ha=[].concat(pa),ba=Object(Y.a)((function(e){return{container:{padding:e.spacing(4)}}})),Ea=Object(Y.a)({root:{"&$disabled":{color:"rgba(0, 0, 0, 0.87)"}},disabled:{}},{name:"MuiInputBase"});function ga(e){var a=e.data,t=e.setData,n=e.onlySee,o=ba();Ea();var c=r.a.useState([]),i=Object(f.a)(c,2),l=i[0],s=i[1],u=r.a.useState(!1),p=Object(f.a)(u,2),d=p[0],v=p[1],h=r.a.useState(""),b=Object(f.a)(h,2),E=b[0],g=b[1],_=r.a.useState(""),y=Object(f.a)(_,2),x=y[0],j=y[1];r.a.useEffect((function(){var e=!0;if(5===a.cp.value.length&&0===l.length){var n=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r,o,c,i,l;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,o=r.response,c=o.asentamiento,i=o.municipio,l=o.estado,e&&(g("Encontrado"),t((function(e){return Object(q.a)(Object(q.a)({},e),{},{municipio:{value:i,verify:!0},entidad:{value:ma(l),verify:!0}})})),v(!1),s(c));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),r=function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e&&(g("No encontrado"),v(!0));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();e&&ua.get({url:"https://api-sepomex.hckdrk.mx/query/info_cp/".concat(a.cp.value,"?type=simplified"),headers:new Headers,exito:n,fallo:r,error_request:function(a){e&&(g("No encontrado"),v(!0))}})}return function(){return e=!1}}),[x,a.cp.value,l]);var O=function(e){var a=e.target,n=a.name,r=a.value;t((function(e){return Object(q.a)(Object(q.a)({},e),{},Object(m.a)({},n,{value:r,verify:"".concat(r).length>0}))}))},C=function(e){var a=e.target,n=a.name,r=a.value;t((function(e){return Object(q.a)(Object(q.a)({},e),{},Object(m.a)({},n,{value:r,verify:!0}))}))};return r.a.createElement(na.a,{container:!0,spacing:3,className:o.container},r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(ca.a,{disabled:n,required:!0,variant:"outlined",label:"Calle",fullWidth:!0,name:"calle",placeholder:"Ej. Calle, Av., Priv.",type:"text",InputLabelProps:{shrink:!0},value:a.calle.value,onChange:O,error:""!==a.calle.verify&&!a.calle.verify,inputProps:{maxLength:60},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:3,md:3,lg:3},r.a.createElement(ca.a,{variant:"outlined",label:"No. Exterior",fullWidth:!0,disabled:n,name:"no_exterior",placeholder:"Ej. 100-A, S/N",type:"text",InputLabelProps:{shrink:!0},value:a.no_exterior.value,onChange:C,inputProps:{maxLength:5},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:3,md:3,lg:3},r.a.createElement(ca.a,{variant:"outlined",label:"No. Interior",fullWidth:!0,name:"no_interior",placeholder:"Ej. dpto 10, S/N",type:"text",InputLabelProps:{shrink:!0},value:a.no_interior.value,onChange:C,disabled:n,inputProps:{maxLength:5},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:3,md:n?6:3,lg:n?6:3},r.a.createElement(ca.a,{required:!0,variant:"outlined",label:"C\xf3digo Postal",name:"cp",fullWidth:!0,placeholder:"Ej. 91193",InputLabelProps:{shrink:!0},value:a.cp.value,onChange:function(e){var a=e.target.value;t((function(e){return Object(q.a)(Object(q.a)({},e),{},{cp:{value:a,verify:5==="".concat(a).length},municipio:{value:"",verify:""},entidad:{value:"",verify:""},colonia:{value:"",verify:""}})})),s([]),5===a.length&&j(a)},error:""!==a.cp.verify&&!a.cp.verify,inputProps:{maxLength:5,onKeyPress:function(e){/[0-9]/.test(e.key)||e.preventDefault()}},disabled:n,helperText:E,autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:3,md:n?6:3,lg:n?6:3},d?r.a.createElement(ca.a,{disabled:n,required:!0,variant:"outlined",fullWidth:!0,name:"colonia",label:"Colonia",value:a.colonia.value,placeholder:"Ej. Centro",InputLabelProps:{shrink:!0},onChange:O,error:""!==a.colonia.verify&&!a.colonia.verify,autoComplete:"off"}):r.a.createElement(ca.a,{disabled:n,required:!0,variant:"outlined",fullWidth:!0,name:"colonia",label:"Colonia",select:!0,value:"".concat(l.length>0&&""!==a.colonia.value?a.colonia.value:"DEFAULT"),placeholder:"Selecciona",InputLabelProps:{shrink:!0},onChange:O,error:""!==a.colonia.verify&&!a.colonia.verify},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Selecciona"),l.map((function(e,a){return r.a.createElement(k.a,{key:"colonia-".concat(a),value:e},e)})))),r.a.createElement(na.a,{item:!0,xs:12,sm:3,md:n?6:3,lg:n?6:3},r.a.createElement(ca.a,{required:!0,variant:"outlined",name:"municipio",label:"Municipio",fullWidth:!0,disabled:!d||n,placeholder:"Ej. Del. Col. Alc. Loc.",type:"text",InputLabelProps:{shrink:!0},value:a.municipio.value,onChange:O,error:""!==a.municipio.verify&&!a.municipio.verify,autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:3,md:n?6:3,lg:n?6:3},r.a.createElement(ca.a,{required:!0,variant:"outlined",fullWidth:!0,disabled:!d||n,name:"entidad",label:"Estado",select:!0,value:"".concat(ha.length>0&&""!==a.entidad.value?a.entidad.value:"DEFAULT"),placeholder:"Selecciona",InputLabelProps:{shrink:!0},onChange:O,error:""!==a.entidad.verify&&!a.entidad.verify},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Selecciona"),ha.map((function(e,a){return r.a.createElement(k.a,{key:"estados-".concat(e.code),value:e.code},e.name)})))),!e.expandable&&r.a.createElement(na.a,{container:!0,item:!0,direction:"row",justify:"flex-end",alignItems:"center",xs:12,sm:12,md:12,lg:12},r.a.createElement(ra.a,{startIcon:r.a.createElement(ia.a,null),onClick:e.buttons.back},"Anterior"),r.a.createElement(ra.a,{variant:"outlined",color:"primary",endIcon:r.a.createElement(la.a,null),onClick:e.buttons.next},"Siguiente")))}var _a=t(476),ya=t(1155),xa=t(1129),ja=t(45),Oa=t.n(ja),Ca=t(193),ka=t.n(Ca),wa=t(670),Sa=t.n(wa);function Aa(e){var a=e.inputRef,t=Object(B.a)(e,["inputRef"]);return r.a.createElement(Oa.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:[/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/],placeholderChar:"\u2000"}))}function Da(e){var a=e.inputRef,t=Object(B.a)(e,["inputRef"]);return r.a.createElement(Oa.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:[/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/],placeholderChar:"\u2000"}))}function Ta(e){var a=e.inputRef,t=Object(B.a)(e,["inputRef"]);return r.a.createElement(Oa.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:[/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/],placeholderChar:"\u2000"}))}function Ra(e){var a=e.inputRef,t=Object(B.a)(e,["inputRef"]);return r.a.createElement(Oa.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:[/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/," ",/\d/],placeholderChar:"\u2000"}))}function Ia(e){var a=e.inputRef,t=Object(B.a)(e,["inputRef"]);return r.a.createElement(Oa.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:[/[a-zA-Z]/,/[a-zA-Z]/,/[a-zA-Z]/,/[a-zA-Z]/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\w/,/\w/,/\w/],placeholderChar:"\u2000"}))}function Na(e){var a=e.inputRef,t=Object(B.a)(e,["inputRef"]);return r.a.createElement(Oa.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:[/[a-zA-Z]/,/[a-zA-Z]/,/[a-zA-Z]/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\w/,/\w/,/\w/],placeholderChar:"\u2000"}))}function La(e){var a=e.inputRef,t=Object(B.a)(e,["inputRef"]);return r.a.createElement(Oa.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:[/[a-zA-Z]/,/[a-zA-Z]/,/[a-zA-Z]/,/[a-zA-Z]/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/[a-zA-Z]/,/[a-zA-Z]/,/[a-zA-Z]/,/\w/,/\w/,/\w/,/\w/,/\w/],placeholderChar:" "}))}function Pa(e){var a=e.inputRef,t=Object(B.a)(e,["inputRef"]);return r.a.createElement(Oa.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:[/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/],placeholderChar:"\u2000"}))}function qa(e){var a=e.inputRef,t=Object(B.a)(e,["inputRef"]);return r.a.createElement(Oa.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:Sa.a,placeholderChar:"\u2000"}))}function Fa(e){var a=e.inputRef,t=Object(B.a)(e,["inputRef"]);return r.a.createElement(Oa.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:[/[a-zA-Z]/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/],placeholderChar:"\u2000"}))}function za(e){var a=e.inputRef,t=Object(B.a)(e,["inputRef"]);return r.a.createElement(Oa.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:[/\d/,/\d/],placeholderChar:"\u2000"}))}var Ya={prefix:"",suffix:"",includeThousandsSeparator:!0,thousandsSeparatorSymbol:"",allowDecimal:!0,decimalSymbol:".",decimalLimit:4,integerLimit:4,allowNegative:!1,allowLeadingZeroes:!1};function Ua(e){var a=e.inputRef,t=Object(B.a)(e,["inputRef"]),n=ka()(Ya);return r.a.createElement(Oa.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:n,placeholderChar:"\u2000"}))}function Ma(e){var a=e.inputRef,t=Object(B.a)(e,["inputRef"]),n=ka()({prefix:"",suffix:"",includeThousandsSeparator:!0,thousandsSeparatorSymbol:"",allowDecimal:!0,decimalSymbol:".",decimalLimit:4,integerLimit:6,allowNegative:!1,allowLeadingZeroes:!1});return r.a.createElement(Oa.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:n,placeholderChar:"\u2000"}))}function Ba(e){var a=e.inputRef,t=Object(B.a)(e,["inputRef"]),n=ka()({prefix:"",suffix:"",includeThousandsSeparator:!0,thousandsSeparatorSymbol:"",allowDecimal:!0,decimalSymbol:".",decimalLimit:8,integerLimit:2,allowNegative:!1,allowLeadingZeroes:!1});return r.a.createElement(Oa.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:n,placeholderChar:"\u2000"}))}var Wa=t(240),Ha=t.n(Wa),Ga=t(77),Va=t.n(Ga),Ja=t(1111),Za=t(1113),$a=t(1112),Qa=t(1131),Ka=t(1130),Xa=t(717),et=t(365),at=t.n(et),tt=function(){return!!localStorage.getItem("fjFKsjfo_")},nt=function(){localStorage.removeItem("fjFKsjfo_")},rt=Object(n.createContext)(null);function ot(e){var a=e.children,t=e.redirect,o=Object(B.a)(e,["children","redirect"]),c=Object(d.g)(),i=function(){var e=r.a.useState({rol:void 0,permisos:void 0,token:void 0}),a=Object(f.a)(e,2),t=a[0],o=a[1];return Object(n.useEffect)((function(){(function(){var e=Object(We.a)(Be.a.mark((function e(){var a,t,n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=localStorage.getItem("fjFKsjfo_"))&&(t=new at.a("iToxD"),n=t.decrypt(a),o(JSON.parse(n)));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),{getSession:t}}().getSession,l={};i&&(l={"Content-Type":"application/json",authorization:i.token});var s=function(e){var a=e.error;return!(!a||401!==a.httpCode&&401!==a.status)&&(nt(),c.push("/nomina/signin"),!0)};return r.a.createElement(d.b,Object.assign({},o,{render:function(e){var n=e.location;return tt()?r.a.createElement(rt.Provider,{value:{cabeceras:l,rol:i.rol,permisos:i.permisos,rfc:i.rfc,logout:nt,isTokenExpired:s}},a):r.a.createElement(d.a,{to:{pathname:t,state:{from:n}}})}}))}function ct(e){var a=e.children,t=e.restricted,n=(e.path,e.redirect),o=Object(B.a)(e,["children","restricted","path","redirect"]);return r.a.createElement(d.b,Object.assign({},o,{render:function(e){e.location;return tt()&&t?r.a.createElement(d.a,{to:n}):Object(q.a)({},a)}}))}var it=Object(Y.a)((function(e){return{container:{padding:e.spacing(4)}}})),lt=Object(Y.a)({root:{"&$disabled":{color:"rgba(0, 0, 0, 0.87)"}},disabled:{}},{name:"MuiInputBase"}),st=r.a.forwardRef((function(e,a){return r.a.createElement(Xa.a,Object.assign({direction:"up",ref:a},e))}));function ut(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}function pt(e){var a=Object(n.useContext)(rt),t=a.cabeceras,o=a.isTokenExpired,c=it(),i=Object(d.g)(),l=r.a.useState({open:!1}),s=Object(f.a)(l,2),u=s[0],p=s[1],v=e.data,h=e.setData,b=e.phones,E=e.setPhones,g=e.onlySee,_=r.a.useState({open:!1,message:"",severity:"",title:""}),x=Object(f.a)(_,2),O=x[0],C=x[1];lt();var w=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,n,r,o,c,i,l,s,u,p;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:(t=e.sent).length>0?(n=t[0],r=n.id_representante,o=n.rfc,c=n.nombre,i=n.primer_apellido,l=n.segundo_apellido,s=n.genero,u=n.correo,p=n.observaciones,h((function(e){return Object(q.a)(Object(q.a)({},e),{},{existe:{value:!0},id_representante:{value:r,verify:!0},rfc:{value:o,verify:!0},nombre:{value:c,verify:!0},primer_apellido:{value:i,verify:!0},segundo_apellido:{value:null===l||void 0===l?"":l,verify:!0},genero:{value:s,verify:!0},correo:{value:u,verify:!0},observaciones:{value:null===p||void 0===p?"":p,verify:!0}})})),D(r),C({open:!0,message:"El RFC ya se encuentra registrado",severity:"success",title:"Representante encontrado"})):C({open:!0,message:"El RFC no est\xe1 registrado, se har\xe1 el registro autom\xe1ticamente",severity:"info",title:"Representante no encontrado"});case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),S=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,o(t)||C({open:!0,message:"Ha ocurrido un error",severity:"error",title:"Busqueda de representante fallida"});case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),A=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,n=[{value:"",verify:"",tipo:"C",helperText:""},{value:"",verify:"",tipo:"F",helperText:""}],t.telefonos.forEach((function(e){switch(e.tipo){case"C":n[0]={value:e.numero,verify:!0,tipo:e.tipo,helperText:""};break;case"F":n[1]={value:e.numero,verify:!0,tipo:e.tipo,helperText:""};break;default:n.push({value:e.numero,verify:!0,tipo:e.tipo,helperText:""})}})),E(n);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),D=function(e){ua.get({url:"".concat(ua.BASE_URL,"/api/rh/representante/telefono/").concat(e),headers:t,exito:A,fallo:S,error_request:function(e){i.push("/server-error")}})},T=function(e,a){C(Object(q.a)(Object(q.a)({},O),{},{open:!1}))},R=function(e,a){var t=a.filter((function(t){return t.value===a[e].value}));return 1===t.length},I=function(e,a){var t=a.target,n=t.value,r=t.name,o=Object(He.a)(b);o[e].value=n.replace(/\s/g,""),o[e].tipo=r;var c=R(e,Object(He.a)(o));o[e].verify=!(n.length>0)||c,o[e].helperText=n.length>0&&!c?"Repetido":"",o.forEach((function(e,a){R(a,Object(He.a)(o))&&(e.helperText="",e.verify=!0)})),E(o)},N=function(e){var a=e.target,t=a.name,n=a.value;h((function(e){return Object(q.a)(Object(q.a)({},e),{},Object(m.a)({},t,{value:n,verify:"".concat(n).length>0}))}))},L=function(e){var a=e.target,t=a.name,n=a.value;h((function(e){return Object(q.a)(Object(q.a)({},e),{},Object(m.a)({},t,{value:n,verify:!0}))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(na.a,{container:!0,spacing:3,className:c.container,id:"representante"},r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(na.a,{container:!0,spacing:3},r.a.createElement(na.a,{item:!0,xs:12,sm:6,lg:g?6:3},r.a.createElement(ca.a,{required:!0,variant:"outlined",label:"RFC",fullWidth:!0,placeholder:"Ej. ABCE010101B01",InputLabelProps:{shrink:!0},value:v.rfc.value,onChange:function(e){var a=e.target.value;(a=a.replace(/\s/g,"").toUpperCase()).length<13?(h((function(e){return Object(q.a)(Object(q.a)({},e),{},{existe:{value:!1},id_representante:{value:"",verify:""},rfc:{value:a,verify:!1},nombre:{value:"",verify:""},primer_apellido:{value:"",verify:""},segundo_apellido:{value:"",verify:""},genero:{value:"",verify:""},correo:{value:"",verify:""},observaciones:{value:"",verify:""}})})),E([{value:"",verify:!0,tipo:"C",helperText:""},{value:"",verify:!0,tipo:"F",helperText:""}])):13===a.length&&(h((function(e){return Object(q.a)(Object(q.a)({},e),{},{rfc:{value:a,verify:!0}})})),function(e){ua.get({url:"".concat(ua.BASE_URL,"/api/rh/representante/").concat(e.toUpperCase(),"?query=").concat(ua.REPRESENTANTE_ALL),headers:t,exito:w,fallo:S,error_request:function(e){i.push("/server-error")}})}(a))},disabled:g,inputProps:{className:c.uppercase},error:""!==v.rfc.verify&&!v.rfc.verify,InputProps:{inputComponent:Ia},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:6,lg:g?6:3},r.a.createElement(ca.a,{required:!0,label:"Nombre",variant:"outlined",name:"nombre",fullWidth:!0,disabled:v.existe.value||g,placeholder:"Ej. Juana",InputLabelProps:{shrink:!0},value:v.nombre.value,onChange:N,error:""!==v.nombre.verify&&!v.nombre.verify,autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:4,md:4,lg:g?4:2},r.a.createElement(ca.a,{required:!0,variant:"outlined",label:"Primer Apellido",fullWidth:!0,disabled:v.existe.value||g,placeholder:"Ej. P\xe9rez",InputLabelProps:{shrink:!0},value:v.primer_apellido.value,name:"primer_apellido",onChange:N,error:""!==v.primer_apellido.verify&&!v.primer_apellido.verify,autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:4,md:4,lg:g?4:2},r.a.createElement(ca.a,{label:"Segundo Apellido",fullWidth:!0,variant:"outlined",disabled:v.existe.value||g,placeholder:"Ej. L\xf3pez",InputLabelProps:{shrink:!0},value:v.segundo_apellido.value,name:"segundo_apellido",onChange:L,error:""!==v.segundo_apellido.verify&&!v.segundo_apellido.verify,autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:4,md:4,lg:g?4:2},r.a.createElement(ca.a,{required:!0,fullWidth:!0,variant:"outlined",label:"G\xe9nero",disabled:v.existe.value||g,select:!0,className:c.select,value:"".concat(""!==v.genero.value?v.genero.value:"DEFAULT"),name:"genero",onChange:N,error:""!==v.genero.verify&&!v.genero.verify},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Selecciona"),r.a.createElement(k.a,{value:"M"},"Mujer"),r.a.createElement(k.a,{value:"H"},"Hombre"))))),r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:g?12:6,lg:g?12:6},r.a.createElement(na.a,{container:!0,spacing:2},r.a.createElement(na.a,{item:!0,xs:12,md:12,lg:12},r.a.createElement(ca.a,{required:!0,label:"Correo",variant:"outlined",fullWidth:!0,disabled:v.existe.value||g,placeholder:"Ej. ejemplo@ejemplo.com",InputLabelProps:{shrink:!0},value:v.correo.value,name:"correo",onChange:N,error:""!==v.correo.verify&&!v.correo.verify,InputProps:{inputComponent:qa},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,md:12,lg:12},r.a.createElement(j.a,{variant:"subtitle2",style:{textAlign:"center"},color:"initial"}," Telefonos")),r.a.createElement(na.a,{item:!0,xs:6,md:6,lg:6},r.a.createElement(ca.a,{variant:"outlined",name:"C",disabled:v.existe.value||g,label:"Tel. Celular",fullWidth:!0,placeholder:"Ej. 111 222 3344",InputLabelProps:{shrink:!0},value:e.phones[0].value,onChange:function(e){return I(0,e)},InputProps:{inputComponent:Pa},error:""!==e.phones[0].verify&&!e.phones[0].verify,helperText:b[0].helperText,autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:6,md:6,lg:6},r.a.createElement(ca.a,{variant:"outlined",name:"F",disabled:v.existe.value||g,label:"Tel. Fijo",fullWidth:!0,placeholder:"Ej. 111 222 3344",InputLabelProps:{shrink:!0},value:e.phones[1].value,onChange:function(e){return I(1,e)},InputProps:{inputComponent:Pa},error:""!==e.phones[1].verify&&!e.phones[1].verify,helperText:b[1].helperText,autoComplete:"off"})),function(){var a=Object(He.a)(b);return a.splice(0,2),a.map((function(a,t){return r.a.createElement(na.a,{key:"telefono-extra-representante-".concat(t+1),item:!0,xs:6,md:6,lg:6},r.a.createElement(ca.a,{variant:"outlined",name:"".concat(t+1),disabled:v.existe.value||g,label:"Tel. Extra ".concat(t+1),fullWidth:!0,placeholder:"Ej. 111 222 3344",InputLabelProps:{shrink:!0},value:e.phones[t+2].value,onChange:function(e){return I(t+2,e)},InputProps:{inputComponent:Pa,endAdornment:r.a.createElement(_a.a,{position:"end"},r.a.createElement(y.a,{disabled:g,"aria-label":"delete",onClick:function(){return function(e){var a=Object(He.a)(b),t=a.splice(e,1)[0];0===t.value.length?E(a):p({open:!0,pos:e,telefono:t})}(t+2)}},r.a.createElement(Va.a,null)))},error:""!==e.phones[t+2].verify&&!e.phones[t+2].verify,helperText:e.phones[t+2].helperText,autoComplete:"off"}))}))}(),!v.existe.value&&!g&&r.a.createElement(na.a,{item:!0,xs:12,md:12,lg:12},r.a.createElement(na.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(ra.a,{disabled:v.existe.value,size:"small",onClick:function(){var e=Object(He.a)(b);e.push({value:"",verify:"",tipo:"".concat(e.length-2),helperText:""}),E(e)},startIcon:r.a.createElement(Ha.a,null)},"Agregar"))))),r.a.createElement(na.a,{item:!0,container:!0,xs:12,md:g?12:6,lg:g?12:6},r.a.createElement(ca.a,{variant:"outlined",label:"Observaciones",fullWidth:!0,disabled:v.existe.value||g,multiline:!0,placeholder:"Ej. Representante: \nPago en cheque\nCada 14 del mes",InputLabelProps:{shrink:!0},value:v.observaciones.value,name:"observaciones",onChange:L})),!e.expandable&&r.a.createElement(na.a,{container:!0,item:!0,direction:"row",justify:"flex-end",alignItems:"center",xs:12,md:12,lg:12},r.a.createElement(ra.a,{startIcon:r.a.createElement(ia.a,null),onClick:e.buttons.back},"Anterior"))),r.a.createElement(oa.a,{open:O.open,autoHideDuration:6e3,onClose:T},r.a.createElement(ut,{onClose:T,severity:O.severity},r.a.createElement(xa.a,null,O.title),O.message)),r.a.createElement(Ja.a,{open:u.open,TransitionComponent:st,onClose:function(){return p({open:!1})}},r.a.createElement(Ka.a,null,"Eliminar Tel\xe9fono"),r.a.createElement($a.a,null,r.a.createElement(Qa.a,null,"Est\xe1 apunto de eliminar un tel\xe9fono ".concat(void 0===u.telefono?"":u.telefono.value)),r.a.createElement(Qa.a,null,"\xbfEst\xe1 seguro que desea continuar?")),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:function(){return p({open:!1})}},"Cancelar"),r.a.createElement(ra.a,{onClick:function(){!function(){var e=Object(He.a)(b);e.splice(u.pos,1),E(e),p({open:!1})}(),p({open:!1})},color:"secondary"},"Eliminar"))))}var dt=t(474),mt=t(475),ft=t(621),vt=t(622),ht=t(1156),bt=t(463),Et=t(671),gt=t(672),_t=t.n(gt),yt=t(1132),xt=Object(Y.a)((function(e){return{orange:{color:e.palette.common.white,backgroundColor:"#F57C00"},perfil:{textAlign:"center",width:"100%",height:"100%"},imagen:{width:"100%",height:"auto",maxWidth:"150px",maxHeight:"150px",minWidth:"150px",minHeight:"150px",borderRadius:"100%",boxShadow:"-5px 5px 25px 2px rgba(0,0,0,0.14);"},textPerfil:{textAlign:"center"},input:{display:"none"},editar:{backgroundColor:"#626262",color:"#fff","&:hover":{backgroundColor:"#4D4D4D"}}}}));function jt(e){var a=xt(),t=e.onlySee,n=function(a){var t=a.target.files;1===t.length?t[0].size>0&&e.changeImg(t[0]):e.changeImg(null)},o=function(){e.changeImg(null)},c=function(){return null===e.file?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{accept:"image/*",className:a.input,onChange:n,id:"url_avatar",type:"file",name:"url_avatar"}),r.a.createElement("label",{htmlFor:"url_avatar"},r.a.createElement(y.a,{size:"small",color:"primary","aria-label":"imagen_subir",component:"span",className:a.editar},r.a.createElement(_t.a,{fontSize:"small"})))):r.a.createElement(y.a,{size:"small",color:"primary",onClick:o,"aria-label":"upload picture",component:"span",className:a.editar},r.a.createElement(A.a,{fontSize:"small"}))};return r.a.createElement("div",{className:a.perfil},r.a.createElement(yt.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:r.a.createElement(r.a.Fragment,null,!t&&r.a.createElement(c,null))},null!==e.file||null!==e.url&&""!==e.url?null===e.file&&null!==e.url?r.a.createElement(Et.Image,{cloudName:"get-consultoria",publicId:e.url,responsive:!0,width:"auto",className:a.imagen}):null!==e.file?r.a.createElement("div",null,r.a.createElement("img",{alt:"foto",className:a.imagen,src:window.URL.createObjectURL(e.file)})):void 0:r.a.createElement(g.a,{className:"".concat(a.imagen," ").concat(a.orange)},"PNG/JPG")))}var Ot=Object(Y.a)((function(e){return{container:{padding:e.spacing(4)},uppercase:{textTransform:"uppercase"},radioGroup:{marginTop:"15px"}}}));var Ct=function(e){var a=Ot(),t=Object(d.g)(),n=r.a.useContext(rt),o=n.cabeceras,c=n.isTokenExpired,i=e.data,l=e.setData,s=e.onlySee,u=e.setContrato,p=r.a.useState([]),v=Object(f.a)(p,2),h=v[0],b=v[1],E=r.a.useState([]),g=Object(f.a)(E,2),_=g[0],y=g[1],x=r.a.useState([{title:"Activo",value:"A"},{title:"Pendiente",value:"P"},{title:"Baneado",value:"B"}]),O=Object(f.a)(x,1)[0];r.a.useEffect((function(){var e=!0,a=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,e&&(r=n.regimenesCapitales,b(r));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),n=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=6;break}return a.next=3,t.json();case 3:n=a.sent,r=n.giros,y(r);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),r=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,c(n)||e&&console.log(n);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return ua.get({url:"".concat(ua.BASE_URL,"/api/rh/giro?query=").concat(ua.GIROS_ALL),headers:o,exito:n,fallo:r,error_request:function(e){t.push("/nomina/server-error")}}),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/regimen"),headers:o,exito:a,fallo:r,error_request:function(e){t.push("/nomina/server-error")}}),function(){return e=!1}}),[]);var C=function(e){var a=e.target,t=a.name,n=a.value;"es_interna"===t&&u("true"===n?function(e){return Object(q.a)(Object(q.a)({},e),{},{fecha_inicio:i.fecha_alta})}:function(e){return Object(q.a)(Object(q.a)({},e),{},{fecha_inicio:{value:"",verify:""}})}),l((function(e){return Object(q.a)(Object(q.a)({},e),{},Object(m.a)({},t,{value:n,verify:"".concat(n).length>0}))}))},w=function(e,a){if(console.log(a),null!==a){var t=a.format("YYYY"),n=N()("1900","YYYY").format("YYYY"),r=N()(new Date,"YYYY").format("YYYY"),o=t>=n&&t<=r,c={value:a,verify:a instanceof N.a&&!isNaN(a)&&o};l((function(a){return Object(q.a)(Object(q.a)({},a),{},Object(m.a)({},e,c))}))}};return r.a.createElement(na.a,{container:!0,spacing:3,className:a.container},r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:s?12:3,lg:s?12:2},r.a.createElement(na.a,{container:!0,spacing:0},r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(j.a,{variant:"subtitle2",style:{textAlign:"center"},color:"initial",gutterBottom:!0}," Logo")),r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(jt,{file:i.fileImg,url:i.url_logo.value,changeImg:function(e){l((function(a){return Object(q.a)(Object(q.a)({},a),{},{fileImg:e})}))},onlySee:s})))),r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:s?12:9,lg:s?12:10},r.a.createElement(na.a,{container:!0,spacing:2},r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(j.a,{variant:"subtitle2",style:{textAlign:"center"},color:"initial",gutterBottom:!0},"General")),r.a.createElement(na.a,{item:!0,xs:12,sm:8,md:8,lg:s?8:4},r.a.createElement(ca.a,{variant:"outlined",required:!0,disabled:s,label:"Raz\xf3n Social",fullWidth:!0,placeholder:"Ej. Grupo Empresarial",error:""!==e.data.razon_social.verify&&!e.data.razon_social.verify,InputLabelProps:{shrink:!0},value:e.data.razon_social.value,name:"razon_social",onChange:C,autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:4,md:4,lg:s?4:2},r.a.createElement(ca.a,{variant:"outlined",required:!0,fullWidth:!0,label:"R\xe9gimen Capital",select:!0,disabled:s,value:"".concat(h.length>0&&""!==e.data.id_regimen_capital.value?e.data.id_regimen_capital.value:"DEFAULT"),error:""!==e.data.id_regimen_capital.verify&&!e.data.id_regimen_capital.verify,name:"id_regimen_capital",onChange:C,autoComplete:"off"},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Selecciona"),h.map((function(e){return r.a.createElement(k.a,{key:"regimenes-".concat(e.id_regimen_capital),value:e.id_regimen_capital},e.nombre_regimen)})))),r.a.createElement(na.a,{item:!0,xs:12,sm:8,md:8,lg:s?8:4},r.a.createElement(ca.a,{variant:"outlined",required:!0,label:"Raz\xf3n Comercial",fullWidth:!0,disabled:s,placeholder:"Ej. Grupo...",InputLabelProps:{shrink:!0},value:e.data.razon_comercial.value,name:"razon_comercial",onChange:C,error:""!==e.data.razon_comercial.verify&&!e.data.razon_comercial.verify,autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:4,md:4,lg:s?4:2},r.a.createElement(ca.a,{required:!0,id:"rfc",variant:"outlined",label:"RFC",fullWidth:!0,disabled:s,placeholder:"Ej. ABC010101D01",InputLabelProps:{shrink:!0},value:e.data.rfc.value,onChange:function(e){var a=e.target.value;(a=a.replace(/\s/g,"")).length<12?l(Object(q.a)(Object(q.a)({},i),{},{rfc:{value:a,verify:!1}})):12===a.length&&l(Object(q.a)(Object(q.a)({},i),{},{rfc:{value:a,verify:!0}}))},inputProps:{className:a.uppercase},error:""!==e.data.rfc.verify&&!e.data.rfc.verify,InputProps:{inputComponent:Na},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:4,md:4,lg:s?4:3},r.a.createElement(bt.b,{autoOk:!0,disabled:s,inputVariant:"outlined",maxDateMessage:"Fecha es mayor al m\xe1ximo permitido",minDateMessage:"Fecha es menor al m\xednimo permitido",invalidDateMessage:"Formato invalido",InputLabelProps:{shrink:!0},fullWidth:!0,required:!0,error:""!==e.data.fecha_constitucion.verify&&!e.data.fecha_constitucion.verify,id:"fecha_constitucion",label:"Fecha Constituci\xf3n",format:"DD/MM/YYYY",placeholder:"Mes/D\xeda/A\xf1o",value:""!==e.data.fecha_constitucion.value?N()(e.data.fecha_constitucion.value,"DD/MM/YYYY"):null,maxDate:N()(new Date,"DD/MM/YYYY"),onChange:function(e){return w("fecha_constitucion",e)},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:4,md:4,lg:s?4:3},r.a.createElement(bt.b,{autoOk:!0,disabled:s,inputVariant:"outlined",maxDateMessage:"Fecha es mayor al m\xe1ximo permitido",minDateMessage:"Fecha es menor al m\xednimo permitido",invalidDateMessage:"Formato invalido",InputLabelProps:{shrink:!0},fullWidth:!0,required:!0,error:""!==e.data.fecha_alta.verify&&!e.data.fecha_alta.verify,placeholder:"Mes/D\xeda/A\xf1o",id:"fecha_alta",label:"Fecha Alta",format:"DD/MM/YYYY",value:""!==e.data.fecha_alta.value?N()(e.data.fecha_alta.value,"DD/MM/YYYY"):null,minDate:""!==e.data.fecha_constitucion.value?N()(e.data.fecha_constitucion.value,"DD/MM/YYYY"):N()(new Date,"DD/MM/YYYY"),maxDate:N()(new Date,"DD/MM/YYYY"),onChange:function(e){return w("fecha_alta",e)},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:4,md:4,lg:s?4:3},r.a.createElement(ca.a,{variant:"outlined",required:!0,fullWidth:!0,disabled:s,label:"Giro",select:!0,className:a.select,value:"".concat(_.length>0&&""!==e.data.id_giro.value?e.data.id_giro.value:"DEFAULT"),InputLabelProps:{shrink:!0},name:"id_giro",onChange:C,error:""!==e.data.id_giro.verify&&!e.data.id_giro.verify},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Selecciona"),_.map((function(e){return r.a.createElement(k.a,{key:"giros-".concat(e.id_giro),value:e.id_giro},e.nombre_giro)})))),r.a.createElement(na.a,{item:!0,xs:12,sm:4,md:4,lg:s?4:3},r.a.createElement(ca.a,{variant:"outlined",required:!0,fullWidth:!0,disabled:s,label:"Estatus",select:!0,className:a.select,value:"".concat(O.length>0&&""!==e.data.estatus.value?e.data.estatus.value:"DEFAULT"),InputLabelProps:{shrink:!0},name:"estatus",onChange:C,error:""!==e.data.estatus.verify&&!e.data.estatus.verify},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Selecciona"),O.map((function(e){return r.a.createElement(k.a,{key:"estatus-".concat(e.value),value:e.value},e.title)})))),r.a.createElement(na.a,{item:!0,xs:12,sm:4,md:4,lg:s?4:3},r.a.createElement(dt.a,{required:!0,disabled:s,component:"fieldset",className:a.select,fullWidth:!0,error:""!==e.data.es_interna.verify&&!e.data.es_interna.verify},r.a.createElement(mt.a,{shrink:!0},"Tipo Empresa"),r.a.createElement(ft.a,{row:!0,className:a.radioGroup,name:"es_interna",onChange:C,value:e.data.es_interna.value},r.a.createElement(vt.a,{color:"secondary",style:{margin:0},value:"false",control:r.a.createElement(ht.a,{style:{padding:3},color:"primary"}),label:r.a.createElement(j.a,{variant:"body2",color:"initial"},"Externa")}),r.a.createElement(vt.a,{color:"secondary",style:{margin:0},value:"true",control:r.a.createElement(ht.a,{style:{padding:3},color:"primary"}),label:r.a.createElement(j.a,{variant:"body2",color:"initial"},"Interna")})))),!e.expandable&&r.a.createElement(na.a,{container:!0,item:!0,direction:"row",justify:"flex-end",alignItems:"center",xs:12,sm:4,lg:9},r.a.createElement(ra.a,{variant:"outlined",color:"primary",endIcon:r.a.createElement(la.a,null),onClick:e.buttons.next},"Siguiente")))))},kt=r.a.forwardRef((function(e,a){return r.a.createElement(Xa.a,Object.assign({direction:"up",ref:a},e))})),wt=Object(Y.a)((function(e){return{container:{padding:e.spacing(4)}}}));function St(e){var a=r.a.useState({open:!1,value:"",pos:""}),t=Object(f.a)(a,2),n=t[0],o=t[1],c=wt(),i=e.phones,l=e.setPhones,s=e.data,u=e.setData,p=e.onlySee,d=function(e,a){var t=a.target,n=t.value,r=t.name,o=Object(He.a)(i);o[e].value=n,o[e].tipo=r;var c=v(e,Object(He.a)(o));o[e].verify=!(n.length>0)||c,o[e].helperText=n.length>0&&!c?"Repetido":"",o.forEach((function(e,a){v(a,Object(He.a)(o))&&(e.helperText="",e.verify=!0)})),l(o)},v=function(e,a){var t=a.filter((function(t){return t.value===a[e].value}));return 1===t.length};return r.a.createElement(r.a.Fragment,null,r.a.createElement(na.a,{container:!0,spacing:3,className:c.container},r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:p?12:6,lg:p?12:6},r.a.createElement(na.a,{container:!0,spacing:2},r.a.createElement(na.a,{item:!0,xs:12,md:12,lg:12},r.a.createElement(ca.a,{required:!0,variant:"outlined",label:"Correo",fullWidth:!0,placeholder:"Ej. ejemplo@ejemplo.com",InputLabelProps:{shrink:!0},value:s.correo.value,name:"correo",disabled:p,onChange:function(e){var a=e.target,t=a.name,n=a.value;u((function(e){return Object(q.a)(Object(q.a)({},e),{},Object(m.a)({},t,{value:n,verify:"".concat(n).length>0}))}))},error:""!==s.correo.verify&&!s.correo.verify,InputProps:{inputComponent:qa},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,md:12,lg:12},r.a.createElement(j.a,{variant:"subtitle2",style:{textAlign:"center"},color:"initial"}," Telefonos")),r.a.createElement(na.a,{item:!0,xs:6,md:6,lg:6},r.a.createElement(ca.a,{variant:"outlined",name:"C",disabled:p,label:"Tel. Celular",fullWidth:!0,placeholder:"Ej. 111 222 3344",InputLabelProps:{shrink:!0},value:i[0].value,onChange:function(e){return d(0,e)},InputProps:{inputComponent:Pa},error:""!==i[0].verify&&!i[0].verify,helperText:i[0].helperText,autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:6,md:6,lg:6},r.a.createElement(ca.a,{variant:"outlined",name:"F",label:"Tel. Fijo",disabled:p,fullWidth:!0,placeholder:"Ej. 111 222 3344",InputLabelProps:{shrink:!0},value:i[1].value,onChange:function(e){return d(1,e)},InputProps:{inputComponent:Pa},error:""!==i[1].verify&&!i[1].verify,helperText:i[1].helperText,autoComplete:"off"})),function(){var e=Object(He.a)(i);return e.splice(0,2),e.map((function(e,a){return r.a.createElement(na.a,{key:"telefono-extra-empleado-".concat(a+1),item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(ca.a,{variant:"outlined",name:"".concat(a+1),required:!0,label:"Tel. Extra ".concat(a+1),fullWidth:!0,placeholder:"Ej. 111 222 3344",InputLabelProps:{shrink:!0},value:e.value,onChange:function(e){return d(a+2,e)},error:""!==e.verify&&!e.verify,helperText:e.helperText,InputProps:{inputComponent:Pa,endAdornment:r.a.createElement(_a.a,{position:"end"},r.a.createElement(y.a,{"aria-label":"delete",onClick:function(){return function(e){var a=Object(He.a)(i),t=a.splice(e,1)[0];0===t.value.replace(/\s/g,"").length?l(a):o({open:!0,value:t.value,pos:e})}(a+2)}},r.a.createElement(Va.a,null)))},autoComplete:"off"}))}))}(),!p&&r.a.createElement(na.a,{item:!0,xs:12,md:12,lg:12},r.a.createElement(na.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(ra.a,{color:"primary",size:"small",onClick:function(){var e=Object(He.a)(i);e.push({value:"",verify:"",tipo:"".concat(e.length-2),helperText:""}),l(e)},startIcon:r.a.createElement(Ha.a,null)},"Agregar"))))),r.a.createElement(na.a,{item:!0,container:!0,xs:12,md:p?12:6,lg:p?12:6},r.a.createElement(ca.a,{variant:"outlined",label:"Observaciones",fullWidth:!0,multiline:!0,disabled:p,placeholder:"Ej. Representante: \nPago en cheque\nCada 14 del mes",InputLabelProps:{shrink:!0},value:s.observaciones.value,name:"observaciones",onChange:function(e){var a=e.target,t=a.name,n=a.value;u((function(e){return Object(q.a)(Object(q.a)({},e),{},Object(m.a)({},t,{value:n,verify:!0}))}))}})),!e.expandable&&r.a.createElement(na.a,{container:!0,item:!0,direction:"row",justify:"flex-end",alignItems:"center",xs:12,sm:12,md:12,lg:12},r.a.createElement(ra.a,{startIcon:r.a.createElement(ia.a,null),onClick:e.buttons.back},"Anterior"),r.a.createElement(ra.a,{variant:"outlined",color:"primary",endIcon:r.a.createElement(la.a,null),onClick:e.buttons.next},"Siguiente"))),r.a.createElement(Ja.a,{open:n.open,TransitionComponent:kt,onClose:function(){return o({open:!1})}},r.a.createElement(Ka.a,null,"Eliminar tel\xe9fono"),r.a.createElement($a.a,null,r.a.createElement(Qa.a,null,"Est\xe1 apunto de eliminar el tel\xe9fono ".concat(n.value)),r.a.createElement(Qa.a,null,"\xbfEst\xe1 seguro que desea continuar?")),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:function(){return o({open:!1})}},"Cancelar"),r.a.createElement(ra.a,{onClick:function(){!function(e){var a=e.pos,t=Object(He.a)(i);t.splice(a,1),l(t)}(Object(q.a)({},n)),o({open:!1})},color:"secondary"},"Eliminar"))))}var At=t(237),Dt=t(1139),Tt=t(620),Rt=t(1133),It=t(674),Nt=t.n(It),Lt=t(673),Pt=t.n(Lt),qt=Object(Y.a)((function(e){return{button:{marginTop:"5px !important",float:"right",color:"#4caf50 !important",backgroundColor:"transparent !important",animation:"$pulse 3s infinite"},"@keyframes pulse":{"0%":{boxShadow:"0 0 0 0 rgba(76, 175, 80,0.7)"},"70%":{boxShadow:"0 0 0 5px rgba(76, 175, 80,0)"},"100%":{boxShadow:"0 0 0 0 rgba(76, 175, 80,0)"}}}}));function Ft(e){var a=qt();return r.a.createElement(Rt.a,{size:"small","aria-label":"full-screen",className:a.button,onClick:e.onClick},e.open?r.a.createElement(Pt.a,{fontSize:"small"}):r.a.createElement(Nt.a,null))}var zt=t(100),Yt=t.n(zt),Ut={esTexto:function(e){return new RegExp("^[a-zA-Z ]+$").test(e)||0===e.length},esCorreo:function(e){return new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(e)||e.length>0},esNumero:function(e){return new RegExp("^[0-9]+$").test(e)||0===e.length},esTelefono:function(e){}},Mt=t(368),Bt=t.n(Mt),Wt=t(369),Ht=t.n(Wt),Gt=r.a.forwardRef((function(e,a){return r.a.createElement(Xa.a,Object.assign({direction:"up",ref:a},e))})),Vt=Object(Y.a)((function(e){return{container:{padding:e.spacing(4)},select:{textAlign:"left"},radioGroup:{marginTop:"15px"},uppercase:{textTransform:"uppercase"}}})),Jt=[{value:"S",title:"Semanal"},{value:"Q",title:"Quincenal"},{value:"C",title:"Catorcenal"},{value:"M",title:"Mensual"}],Zt=[{title:"Alta",value:"A"},{title:"Reingreso",value:"R"},{title:"Taslado",value:"T"}];var $t=Object(L.b)((function(e){var a=e.editable,t=e.data,n=e.setData,o=e.onlySee,c=e.registros,i=e.setRegistros,l=Vt(),s=r.a.useContext(rt),u=s.cebeceras,p=s.isTokenExpired,d=r.a.useState({}),v=Object(f.a)(d,2),h=v[0],b=v[1],E=r.a.useState({open:!1}),g=Object(f.a)(E,2),_=g[0],x=g[1],O=[{categoria:1,nombre_categoria:"CLASE 1"},{categoria:2,nombre_categoria:"CLASE 2"},{categoria:3,nombre_categoria:"CLASE 3"},{categoria:4,nombre_categoria:"CLASE 4"},{categoria:5,nombre_categoria:"CLASE 5"}],C=function(e,a){if(null!==e){var r={value:e,verify:e instanceof N.a&&!isNaN(e)&&e.isBefore(""!==t.fecha_fin.value?t.fecha_fin.value:N()())};n((function(e){return Object(q.a)(Object(q.a)({},e),{},Object(m.a)({},a,r))}))}},w=function(e){var a=e.target,t=a.name,r=a.value;n((function(e){return Object(q.a)(Object(q.a)({},e),{},Object(m.a)({},t,{value:r,verify:"".concat(r).length>0}))}))},S=function(){var e=Object(He.a)(c);e.push({categoria:"",clave_patronal:"",verify:"",helperText:""}),i(e)},D=function(){var e=[];return c.forEach((function(a,t){var n;e.push(r.a.createElement(na.a,{key:"registro-patronal-".concat(t+1),item:!0,xs:12,md:12,lg:12},r.a.createElement(na.a,{container:!0,spacing:2},r.a.createElement(na.a,{item:!0,xs:12,sm:6},r.a.createElement(ca.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Clase IMSS",select:!0,disabled:o,className:l.select,value:"".concat(O.length>0&&""!==c[t].categoria?c[t].categoria:"DEFAULT"),InputLabelProps:{shrink:!0},name:"categoria",onChange:function(e){return function(e,a){var t=e.target,n=t.name,r=t.value,o=Object(He.a)(c);o[a][n]=r,o[a].verify=!o.some((function(e,t){return e.clave_patronal.replace(/\s/g,"")===o[a].clave_patronal.replace(/\s/g,"")&&a!==t})),i(o)}(e,t)},error:""!==c[t].verify&&!c[t].verify},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Selecciona"),(n=c[t].categoria,O.filter((function(e){return!c.some((function(a){return"".concat(a.categoria)==="".concat(e.categoria)&&"".concat(a.categoria)!=="".concat(n)}))}))).map((function(e){return r.a.createElement(k.a,{key:"categorias-imss-".concat(e.categoria),value:e.categoria},e.nombre_categoria)})))),r.a.createElement(na.a,{item:!0,xs:12,sm:6},r.a.createElement(ca.a,{variant:"outlined",name:"clave_patronal",required:!0,label:"Clave ".concat(t+1),fullWidth:!0,placeholder:"Ej. X111 222 333",InputLabelProps:{shrink:!0},value:c[t].clave_patronal,onChange:function(e){return function(e,a){var t=e.target,n=t.name,r=t.value,o=Object(He.a)(c);o[a][n]=r.toUpperCase(),o[a].verify=!o.some((function(e,t){return e.clave_patronal.replace(/\s/g,"")===r.replace(/\s/g,"")&&a!==t})),o[a].verify?o[a].helperText="":o[a].helperText="Repetido",i(o)}(e,t)},error:""!==c[t].verify&&!c[t].verify,helperText:c[t].helperText,inputProps:{className:l.uppercase},InputProps:{inputComponent:Fa,endAdornment:r.a.createElement(_a.a,{position:"end"},r.a.createElement(y.a,{size:"small","aria-label":"delete",onClick:function(){return function(e){if(e>0){var a=c.filter((function(a,t){return t!==e}));i(a)}else{var t=Object(He.a)(c);t[0]={categoria:"",clave_patronal:"",verify:"",helperText:""},i(t)}}(t)}},r.a.createElement(Va.a,null)))},autoComplete:"off"})))))})),e},T=function(){if(t.new)n(Object(q.a)(Object(q.a)({},h),{},{new:!1})),b({});else{b(Object(q.a)({},t));var e={};Object.keys(t).forEach((function(a){return e["".concat(a)]={value:"",verify:""}})),e.new=!0,n(Object(q.a)(Object(q.a)({},e),{},{motivo_contrato:{value:"A",verify:!0}}))}};return r.a.createElement(r.a.Fragment,null,"true"===e.isInterna?r.a.createElement(na.a,{container:!0,spacing:4,className:l.container},r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:5,lg:5},r.a.createElement(na.a,{container:!0,spacing:2},r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(j.a,{variant:"subtitle2",display:"block",style:{textAlign:"center"}},"Registros Patronales")),D(),!o&&c.length<5&&r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:12,lg:12,container:!0,direction:"row",justify:"flex-end",alignItems:"center"},r.a.createElement(ra.a,{size:"small",color:"primary",onClick:S,startIcon:r.a.createElement(Bt.a,null)},"Agregar")))),r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:7,lg:7},r.a.createElement(na.a,{container:!0,spacing:2},r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(j.a,{variant:"subtitle2",style:{textAlign:"center"},color:"initial"},"N\xf3mina")),r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:4,lg:5},r.a.createElement(bt.b,{autoOk:!0,disabled:!a||o,inputVariant:"outlined",maxDateMessage:"Fecha es mayor al m\xe1ximo permitido",minDateMessage:"Fecha es menor al m\xednimo permitido",invalidDateMessage:"Formato invalido",InputLabelProps:{shrink:!0},fullWidth:!0,required:!0,error:""!==t.fecha_inicio.verify&&!t.fecha_inicio.verify,placeholder:"D\xeda/Mes/A\xf1o",id:"fecha_inicio",label:"Fecha Inicio",format:"DD/MM/YYYY",value:""!==t.fecha_inicio.value?N()(t.fecha_inicio.value):null,maxDate:""!==t.fecha_fin.value?N()(t.fecha_fin.value).add(1,"months"):N()(),onChange:function(e){return C(e,"fecha_inicio")},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:4,lg:4},r.a.createElement(ca.a,{disabled:!a||o,variant:"outlined",required:!0,fullWidth:!0,label:"Periodo",select:!0,name:"periodo_calculo",className:l.select,value:"".concat(Jt.length>0&&""!==t.periodo_calculo.value?t.periodo_calculo.value:"DEFAULT"),InputLabelProps:{shrink:!0},onChange:w,error:""!==t.periodo_calculo.verify&&!t.periodo_calculo.verify},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Selecciona"),Jt.map((function(e){return r.a.createElement(k.a,{key:"periodo_calculo-".concat(e.value),value:e.value},e.title)})))),r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(ca.a,{disabled:!0,variant:"outlined",required:!0,label:"Comisi\xf3n",fullWidth:!0,name:"comision",placeholder:"0.0",InputLabelProps:{shrink:!0},InputProps:{inputComponent:za,endAdornment:r.a.createElement(_a.a,{position:"end"},"%")},autoComplete:"off"})),!e.expandable&&r.a.createElement(na.a,{container:!0,item:!0,direction:"row",justify:"flex-end",alignItems:"center",xs:12,sm:12,md:12,lg:12},r.a.createElement(ra.a,{startIcon:r.a.createElement(ia.a,null),onClick:e.buttons.back},"Anterior"),r.a.createElement(ra.a,{variant:"outlined",color:"primary",endIcon:r.a.createElement(la.a,null),onClick:e.buttons.next},"Siguiente"))))):r.a.createElement(na.a,{container:!0,spacing:3,className:l.container},r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(bt.b,{autoOk:!0,disabled:a&&!t.new||o,inputVariant:"outlined",maxDateMessage:"Fecha es mayor al m\xe1ximo permitido",minDateMessage:"Fecha es menor al m\xednimo permitido",invalidDateMessage:"Formato invalido",InputLabelProps:{shrink:!0},fullWidth:!0,required:!0,error:""!==t.fecha_inicio.verify&&!t.fecha_inicio.verify,placeholder:"D\xeda/Mes/A\xf1o",id:"fecha_inicio",label:"Fecha Inicio",format:"DD/MM/YYYY",value:""!==t.fecha_inicio.value?N()(t.fecha_inicio.value):null,maxDate:""!==t.fecha_fin.value?N()(t.fecha_fin.value).subtract(1,"days"):N()(),onChange:function(e){return C(e,"fecha_inicio")},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(bt.b,{autoOk:!0,disabled:a&&!t.new||o,inputVariant:"outlined",maxDateMessage:"Fecha es mayor al m\xe1ximo permitido",minDateMessage:"Fecha es menor al m\xednimo permitido",invalidDateMessage:"Formato invalido",InputLabelProps:{shrink:!0},fullWidth:!0,required:!0,error:""!==t.fecha_fin.verify&&!t.fecha_fin.verify,placeholder:"D\xeda/Mes/A\xf1o",id:"fecha_fin",label:"Fecha Fin",format:"DD/MM/YYYY",value:""!==t.fecha_fin.value?N()(t.fecha_fin.value):null,minDate:""!==t.fecha_inicio.value?N()(t.fecha_inicio.value).add(1,"days"):N()().add(1,"days"),onChange:function(e){return function(e,a){if(null!==e){var r={value:e,verify:e instanceof N.a&&!isNaN(e)&&e.isAfter(""!==t.fecha_inicio.value?t.fecha_inicio.value:N()())};n((function(e){return Object(q.a)(Object(q.a)({},e),{},Object(m.a)({},a,r))}))}}(e,"fecha_fin")},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:4,md:4,lg:2},r.a.createElement(ca.a,{disabled:a&&!t.new||o,variant:"outlined",required:!0,label:"Comisi\xf3n",fullWidth:!0,name:"comision",placeholder:"Ej. 10",InputLabelProps:{shrink:!0},value:t.comision.value,onChange:w,InputProps:{inputComponent:za,endAdornment:r.a.createElement(_a.a,{position:"end"},"%")},error:""!==t.comision.verify&&!t.comision.verify,autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:4,md:4,lg:2},r.a.createElement(ca.a,{disabled:a&&!t.new||o,variant:"outlined",required:!0,fullWidth:!0,label:"Periodo",select:!0,name:"periodo_calculo",className:l.select,value:"".concat(Jt.length>0&&""!==t.periodo_calculo.value?t.periodo_calculo.value:"DEFAULT"),InputLabelProps:{shrink:!0},onChange:w,error:""!==t.periodo_calculo.verify&&!t.periodo_calculo.verify},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Selecciona"),Jt.map((function(e){return r.a.createElement(k.a,{key:"periodo_calculo-".concat(e.value),value:e.value},e.title)})))),r.a.createElement(na.a,{item:!0,xs:12,sm:4,md:4,lg:2},r.a.createElement(ca.a,{disabled:a&&!t.new||o,variant:"outlined",required:!0,fullWidth:!0,label:"Motivo",select:!0,name:"motivo_contrato",className:l.select,value:"".concat(Zt.length>0&&""!==t.motivo_contrato.value?t.motivo_contrato.value:"DEFAULT"),InputLabelProps:{shrink:!0},onChange:w,error:""!==t.motivo_contrato.verify&&!t.motivo_contrato.verify},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Selecciona"),Zt.map((function(e){return r.a.createElement(k.a,{key:"motivo_contrato-".concat(e.value),value:e.value},e.title)})))),!e.expandable&&r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(na.a,{container:!0,item:!0,direction:"row",justify:"flex-end",alignItems:"center",xs:12,sm:12,md:12,lg:12},console.log(t),void 0!==t.id_contrato.value&&""!==t.id_contrato.value&&r.a.createElement(ra.a,{color:"secondary",startIcon:r.a.createElement(Ht.a,null),onClick:function(){return x({open:!0,tipo:"FIN"})}},"Terminar Contrato"),r.a.createElement(ra.a,{color:"primary",endIcon:t.new?r.a.createElement(A.a,null):r.a.createElement(Z.a,null),onClick:t.new?T:function(){return x({open:!0,tipo:"NEW"})}},"".concat(t.new?"Cancelar":"Nuevo Contrato"))),r.a.createElement(na.a,{container:!0,item:!0,direction:"row",justify:"flex-end",alignItems:"center",xs:12,sm:12,md:12,lg:12},r.a.createElement(ra.a,{startIcon:r.a.createElement(ia.a,null),onClick:e.buttons.back},"Anterior"),r.a.createElement(ra.a,{variant:"outlined",color:"primary",endIcon:r.a.createElement(la.a,null),onClick:e.buttons.next},"Siguiente"))),r.a.createElement(Ja.a,{open:_.open,TransitionComponent:Gt,onClose:function(){return x({open:!1})}},r.a.createElement(Ka.a,null,"".concat("NEW"===_.tipo?"Nuevo":"Terminar"," Contrato")),r.a.createElement($a.a,null,r.a.createElement(Qa.a,null,"".concat("NEW"===_.tipo?"Est\xe1 apunto de crear un nuevo contrato, si existe un anterior este finalizar\xe1 con fecha de hoy":"El contrato finalizar\xe1 con fecha de hoy"," ").concat(N()().format("DD/MM/YYYY"),", "),"\xbfEst\xe1 seguro que desea continuar?")),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:function(){return x({open:!1})}},"Cancelar"),r.a.createElement(ra.a,{onClick:function(){"NEW"===_.tipo?T():ua.put({url:"".concat(ua.BASE_URL,"/api/rh/empresa/contrato/").concat(t.id_contrato.value),headers:u,data:{fecha_fin:N()().format("YYYY/MM/DD")},exito:function(){var a=Object(We.a)(Be.a.mark((function a(r){var o,c;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=console,a.next=3,r.json();case 3:a.t1=a.sent,a.t0.log.call(a.t0,a.t1),e.enqueueSnackbar("Contrato terminado",{variant:"success",preventDuplicate:!0}),o={},c={},Object.keys(t).forEach((function(e){o[e]={value:"",verify:""},c[e]=""})),o.new=!1,n(Object(q.a)(Object(q.a)({},o),{},{motivo_contrato:"A"})),e.setOldContrato(c);case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.json(),p(t)||console.log(t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(){var e=Object(We.a)(Be.a.mark((function e(a){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,a.json();case 3:return e.t1=e.sent,e.abrupt("return",e.t0.log.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}),x({open:!1})},color:"secondary"},"Continuar")))))})),Qt=t(371),Kt=t.n(Qt),Xt=function(e){var a={fecha_inicio:{value:"",verify:""},fecha_fin:{value:"",verify:""},comision:{value:"",verify:""},periodo_calculo:{value:"",verify:""},motivo_contrato:{value:"",verify:"A"}};return e&&(a.id_contrato={value:"",verify:""},a[e]=!1),a},en=Object(Y.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},cardContent:{padding:"0px"},header:{background:"#fafafa"},title:{flexGrow:1,textAlign:"center",marginTop:"15px ",marginBottom:"15px"},actions:{padding:e.spacing(4)},save:{color:e.palette.common.white,backgroundColor:At.a[500],"&:hover":{backgroundColor:At.a[600]}},buttonProgress:{color:At.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},wrapper:{margin:"0px 24px 8px 16px",position:"relative"},subheader:{textAlign:"center"},back:{left:-12,float:"left"}}}));function an(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}function tn(){var e=en(),a=Object(d.g)(),t=r.a.useContext(rt),n=t.cabeceras,o=t.isTokenExpired,c=r.a.useState({expandable:!1,actual:0,global:0}),i=Object(f.a)(c,2),l=i[0],s=i[1],u=r.a.useState(!1),p=Object(f.a)(u,2),m=p[0],v=p[1],h=r.a.useState(""),b=Object(f.a)(h,2),E=b[0],g=b[1],_=r.a.useState({fileImg:null,url_logo:{value:"",verify:""},id_empresa:{value:"",verify:""},razon_comercial:{value:"",verify:""},razon_social:{value:"",verify:""},rfc:{value:"",verify:""},id_regimen_capital:{value:"",verify:""},fecha_constitucion:{value:"",verify:""},fecha_alta:{value:"",verify:""},es_interna:{value:"false",verify:!0},id_giro:{value:"",verify:""},estatus:{value:"A",verify:!0},id_representante:{value:"",verify:""}}),x=Object(f.a)(_,2),O=x[0],C=x[1],k=r.a.useState({calle:{value:"",verify:""},no_exterior:{value:"",verify:""},no_interior:{value:"",verify:""},colonia:{value:"",verify:""},municipio:{value:"",verify:""},entidad:{value:"",verify:""},cp:{value:"",verify:""}}),w=Object(f.a)(k,2),S=w[0],A=w[1],D=r.a.useState({correo:{value:"",verify:""},observaciones:{value:"",verify:""}}),T=Object(f.a)(D,2),R=T[0],I=T[1],L=r.a.useState(Xt()),P=Object(f.a)(L,2),F=P[0],z=P[1],Y=r.a.useState([{categoria:"",clave_patronal:"",verify:"",helperText:""}]),U=Object(f.a)(Y,2),M=U[0],W=U[1],H=r.a.useState([{value:"",verify:"",tipo:"C",helperText:""},{value:"",verify:"",tipo:"F",helperText:""}]),G=Object(f.a)(H,2),V=G[0],J=G[1],Z=r.a.useState({existe:{value:!1},rfc:{value:"",verify:""},nombre:{value:"",verify:""},primer_apellido:{value:"",verify:""},segundo_apellido:{value:"",verify:""},genero:{value:"",verify:""},correo:{value:"",verify:""},observaciones:{value:"",verify:""}}),$=Object(f.a)(Z,2),Q=$[0],K=$[1],ee=r.a.useState([{value:"",verify:"",tipo:"C",helperText:""},{value:"",verify:"",tipo:"F",helperText:""}]),ae=Object(f.a)(ee,2),te=ae[0],ne=ae[1],re=r.a.useState({open:!1,message:"",severity:"",title:""}),oe=Object(f.a)(re,2),ce=oe[0],ie=oe[1],le=function(e,a){ie(Object(q.a)(Object(q.a)({},ce),{},{open:!1}))},se=function(e){s(Object(q.a)(Object(q.a)({},l),{},{actual:e}))};r.a.useEffect((function(){var e=S.colonia.value.replace(/[<>"',.:;{}\-_[\]\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1]/g,""),a=(O.razon_comercial.value+O.razon_social.value+O.rfc.value).replace(/[<>"',.:;{}\-_[\]\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1]/g,""),t=N()(O.fecha_constitucion.value).format("DDMMYYYY"),n=S.municipio.value.replace(/[<>"',.:;{}\-_[\]\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1]/g,""),r=S.entidad.value.replace(/[<>"',.:;{}\-_[\]\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1]/g,"");if(""!==a&&""!==t&&""!==n&&""!==r){var o=a.split(" "),c=n.split(" "),i=(e+"GETCONSULTORIA").split(" "),l="";l=o.length<2?o[0].substring(0,4):o[0].substring(0,2)+o[1].substring(0,2);var s="";s=c.length<2?c[0].substring(0,2):c[0].charAt(0)+c[1].charAt(0);var u="";u=i.length<2?i[0].substring(0,2):i[0].charAt(0)+i[1].charAt(0);var p=t.substring(t.length,t.length-2);g((l+r+s+u+p).toUpperCase())}}),[O.razon_social.value,O.rfc.value,O.razon_comercial.value,O.id_regimen_capital.value,O.fecha_constitucion.value,S.municipio.value,S.entidad.value,S.colonia.value]);var ue=function(){var e=function(e){ie({open:!0,message:"Es necesario rellenar los campos requeridos",severity:"warning",title:"Campos vacios!"}),s(Object(q.a)(Object(q.a)({},e),{},{actual:e})),v(!1)};return{separeEmpresa:function(e){var a=Object(q.a)(Object(q.a)(Object(q.a)({},O),S),R),t=Object.keys(a),n=new FormData;return t.forEach((function(t){if("rfc"===t)n.append(t,a[t].value.toUpperCase());else if(t.includes("fecha"))n.append(t,N.a.utc(a[t].value,"DD/MM/YYYY").format("YYYY/MM/DD"));else if("fileImg"===t)null!==a.fileImg&&n.append("logo",a.fileImg);else if("id_representante"===t)n.append("id_representante",Q.existe.value?Q.id_representante.value:parseInt(e));else{var r=a[t].value;void 0!==r&&null!==r&&""!==r&&n.append(t,a[t].value)}})),n.append("identificador ",E),n},separeEmpresaTel:function(e){var a=[];return V.forEach((function(e){var t=e.value.replace(/\s/g,"");t.length>=5&&a.push({numero:t,tipo:e.tipo})})),a.length>0?{id_empresa:e,telefonos:a}:null},separeRepreTel:function(e){var a=[];return te.forEach((function(e){var t=e.value.replace(/\s/g,"");t.length>=5&&a.push({numero:t,tipo:e.tipo})})),a.length>0?{id_representante:e,telefonos:a}:null},separeRepresentante:function(){return{representante:{rfc:Q.rfc.value.toUpperCase(),nombre:Q.nombre.value,primer_apellido:Q.primer_apellido.value,segundo_apellido:Q.segundo_apellido.value,genero:Q.genero.value,correo:Q.correo.value,observaciones:Q.observaciones.value}}},separeContrato:function(e){var a=[],t={};return"true"===O.es_interna.value?(t.comision="0",t.motivo_contrato="A",a=["fecha_inicio","periodo_calculo","comision","motivo_contrato"]):a=Object.keys(F),a.forEach((function(e){"true"===O.es_interna.value?"comision"!==e&&"motivo_contrato"!==e&&(t[e]=F[e].value):t[e]=F[e].value,e.includes("fecha")&&(t[e]=N.a.utc(F[e].value,"DD/MM/YYYY").format("YYYY/MM/DD")),"comision"===e&&(t[e]=parseInt(t[e])/100)})),Object(q.a)({id_empresa:e},t)},separeRegistrosPatronales:function(e){var a=[];return M.forEach((function(e){e.helperText,e.verify;var t=Object(B.a)(e,["helperText","verify"]);t.clave_patronal=t.clave_patronal.replace(/\s/g,""),a.push(Object(q.a)({},t))})),{id_empresa:e,registros:a}},ValidaAll:function(){return function(){var e=["razon_comercial","razon_social","rfc","fecha_constitucion","fecha_alta","id_regimen_capital","es_interna","id_giro","estatus"],a=Object(q.a)({},O);return e.forEach((function(e){a[e].verify="".concat(a[e].value).length>0&&a[e].verify})),C(a),0===e.filter((function(e){return!0!==a[e].verify})).length}()?function(){var e=["calle","cp","colonia","municipio","entidad"],a=Object(q.a)({},S);return e.forEach((function(e){a[e].verify="".concat(a[e].value).length>0&&a[e].verify})),A(a),0===e.filter((function(e){return!0!==a[e].verify})).length}()?function(){var e=Object(q.a)({},R);return e.correo.verify=Ut.esCorreo(e.correo.value)&&e.correo.value.length>0,I(e),0===["correo"].filter((function(a){return!0!==e[a].verify})).length}()&&function(){var e=Object(He.a)(V),a=[];e.forEach((function(e){if(10===e.value.replace(/\s/g,"").length){var t=e.verify;e.verify=t,a.push(t)}}));var t=a.filter((function(e){return!0!==e}));return 0===a.length?(e[0].verify=!1,e[0].helperText="Registra al menos uno",e[1].verify=!1,e[1].helperText="Registra al menos uno",!1):(J(e),0===t.length)}()?function(){var e=Object(q.a)({},F),a=[];return"false"===O.es_interna.value?(a=Object.keys(F)).forEach((function(a){e[a].verify="".concat(e[a].value).length>0&&e[a].verify})):(a=["fecha_inicio","periodo_calculo"]).forEach((function(a){e[a].verify="".concat(e[a].value).length>0&&e[a].verify})),z(e),0===a.filter((function(a){return!0!==e[a].verify})).length}()?function(){if("true"===O.es_interna.value){var e=Object(He.a)(M),a=[];return e.forEach((function(e){e.verify=11===e.clave_patronal.replace(/\s/g,"").length&&Number.isInteger(e.categoria)&&e.verify,e.verify||(e.helperText="Verifica la clase y clave"),a.push(e.verify)})),W(e),0===a.filter((function(e){return!0!==e})).length}return!0}()&&function(){var e=["rfc","nombre","primer_apellido","genero","correo"],a=Object(q.a)({},Q);return e.forEach((function(e){a[e]="rfc"===e?{value:Q[e].value,verify:13==="".concat(Q[e].value).replace(/\s/g,"").length&&Q[e].verify}:{value:Q[e].value,verify:"".concat(Q[e].value).length>0&&Q[e].verify}})),K(a),0===e.filter((function(e){return!0!==a[e].verify})).length}()?!!function(){var e=Object(He.a)(te),a=[];e.forEach((function(e){if(10===e.value.replace(/\s/g,"").length){var t=e.verify;e.verify=t,a.push(t)}}));var t=a.filter((function(e){return!0!==e}));return 0===a.length?(e[0].verify=!1,e[0].helperText="Registra al menos uno",e[1].verify=!1,e[1].helperText="Registra al menos uno",!1):(ne(e),0===t.length)}()||(e(5),!1):(e(4),!1):(e(3),!1):(e(2),!1):(e(1),!1):(e(0),!1)}}}(),pe=function(){var e=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.json(),o(t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return{back:function(){s(Object(q.a)(Object(q.a)({},l),{},{actual:l.actual-1}))},next:function(){s(Object(q.a)(Object(q.a)({},l),{},{actual:l.actual+1,global:l.global+1}))},send:function(){var t=new Headers;t.append("authorization",n.authorization);var r=function(r){ua.postForm({url:"".concat(ua.BASE_URL,"/api/rh/empresa"),data:ue.separeEmpresa(r),headers:t,exito:function(){var t=Object(We.a)(Be.a.mark((function t(r){var c;return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.json();case 2:c=t.sent,i(c[0].id_empresa),"true"===O.es_interna.value&&l(c[0].id_empresa),u=c[0].id_empresa,ua.post({url:"".concat(ua.BASE_URL,"/api/rh/empresa/telefono"),headers:n,data:ue.separeEmpresaTel(u),exito:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,o(t)||(v(!1),ie({open:!0,message:"La empresa ha quedado registrada con ID: ".concat(E),severity:"success",title:"Registro con \xe9xito!"}),C({fileImg:null,url_logo:{value:"",verify:""},id_empresa:{value:"",verify:""},razon_comercial:{value:"",verify:""},razon_social:{value:"",verify:""},rfc:{value:"",verify:""},id_regimen_capital:{value:"",verify:""},fecha_constitucion:{value:"",verify:""},fecha_alta:{value:"",verify:""},es_interna:{value:"false",verify:!0},id_giro:{value:"",verify:""},estatus:{value:"A",verify:!0},id_representante:{value:"",verify:""}}),I({correo:{value:"",verify:""},observaciones:{value:"",verify:""}}),A({calle:{value:"",verify:""},no_exterior:{value:"",verify:""},no_interior:{value:"",verify:""},colonia:{value:"",verify:""},municipio:{value:"",verify:""},entidad:{value:"",verify:""},cp:{value:"",verify:""}}),K({existe:{value:!1},rfc:{value:"",verify:""},nombre:{value:"",verify:""},primer_apellido:{value:"",verify:""},segundo_apellido:{value:"",verify:""},genero:{value:"",verify:""},correo:{value:"",verify:""},observaciones:{value:"",verify:""}}),s({expandable:!1,actual:0,global:0}),ne([{value:"",verify:"",tipo:"C",helperText:""},{value:"",verify:"",tipo:"F",helperText:""}]),J([{value:"",verify:"",tipo:"C",helperText:""},{value:"",verify:"",tipo:"F",helperText:""}]),z(Xt()),g(""));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:e,error_request:function(){a.push("/server-error")}});case 6:case"end":return t.stop()}var u}),t)})));return function(e){return t.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,o(t)||(v(!1),n={open:!0,severity:"error"},t.error.detail.includes("correo")?(ce.message="Correo duplicado",ce.title="Ya est\xe1 asociado a otra empresa, proporciona uno distinto"):t.error.detail.includes("razon_social")?(ce.message="Raz\xf3n Social duplicada",ce.title="Es posible que la empresa ya est\xe9 registrada"):t.error.detail.includes("rfc")&&(ce.message="RFC duplicado",ce.title="Es posible que la empresa ya est\xe9 registrada"),ie(n));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){a.push("/server-error")}})},c=function(t){ua.post({url:"".concat(ua.BASE_URL,"/api/rh/representante/telefono"),headers:n,data:ue.separeRepreTel(t),exito:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:e,error_request:function(){a.push("/server-error")}})},i=function(t){ua.post({url:"".concat(ua.BASE_URL,"/api/rh/empresa/contrato"),data:ue.separeContrato(t),headers:n,exito:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:e,error_request:function(e){a.push("/server-error")}})},l=function(t){ua.post({url:"".concat(ua.BASE_URL,"/api/rh/empresa/registro_patronal"),headers:n,data:ue.separeRegistrosPatronales(t),exito:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:e,error_request:function(){a.push("/server-error")}})};ue.ValidaAll()&&(v(!0),Q.existe.value?r():ua.post({url:"".concat(ua.BASE_URL,"/api/rh/representante"),data:ue.separeRepresentante(),headers:n,exito:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,o(t)||(n=t.representate,t.created&&(K((function(e){return Object(q.a)(Object(q.a)({},e),{},{id_representante:{value:n[0].id_representante},existe:{value:!0}})})),C((function(e){return Object(q.a)(Object(q.a)({},e),{},{id_representante:{value:n[0].id_representante}})})),c(n[0].id_representante),r(n[0].id_representante),"false"===O.es_interna.value&&i(n[0].id_representante)));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:e,error_request:function(e){v(!1),a.push("/server-error")}}))}}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement($e.a,{className:e.root},r.a.createElement(Qe.a,{className:e.cardContent},r.a.createElement(Ie.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:r.a.createElement(Le.a,{className:e.subheader,component:"div",display:"block"},r.a.createElement(y.a,{className:e.back,onClick:function(){a.goBack()}},r.a.createElement(Yt.a,null)),r.a.createElement(j.a,{className:e.title,variant:"button",gutterBottom:!0},"Formulario Empresa"),r.a.createElement(Ft,{onClick:function(){s(Object(q.a)(Object(q.a)({},l),{},{expandable:!l.expandable}))},open:l.expandable})),className:e.root},r.a.createElement(Ce.a,{className:e.header,button:!0,onClick:se.bind(this,0)},r.a.createElement(ke.a,null,r.a.createElement(Xe.a,null)),r.a.createElement(we.a,{primary:"Informacion"}),0===l.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:0===l.actual||l.expandable,timeout:"auto"},r.a.createElement(Ct,{data:O,setContrato:z,setData:C,buttons:pe,expandable:l.expandable,edit:!1})),r.a.createElement(Ce.a,{className:e.header,button:!0,onClick:se.bind(this,1)},r.a.createElement(ke.a,null,r.a.createElement(aa.a,null)),r.a.createElement(we.a,{primary:"Direcci\xf3n"}),1===l.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:1===l.actual||l.expandable,timeout:"auto"},r.a.createElement(ga,{data:S,setData:A,buttons:pe,expandable:l.expandable,edit:!1})),r.a.createElement(Ce.a,{className:e.header,button:!0,onClick:se.bind(this,2)},r.a.createElement(ke.a,null,r.a.createElement(Ze.a,null)),r.a.createElement(we.a,{primary:"Contacto"}),2===l.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:2===l.actual||l.expandable,timeout:"auto"},r.a.createElement(St,{data:R,setData:I,buttons:pe,expandable:l.expandable,phones:V,setPhones:J})),r.a.createElement(Ce.a,{className:e.header,button:!0,onClick:se.bind(this,3)},r.a.createElement(ke.a,null,r.a.createElement(Kt.a,null)),r.a.createElement(we.a,{primary:"Contrato"}),3===l.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:3===l.actual||l.expandable,timeout:"auto"},r.a.createElement($t,{registros:M,setRegistros:W,isInterna:O.es_interna.value,data:F,setData:z,edit:!1,expandable:l.expandable,buttons:pe})),r.a.createElement(Ce.a,{className:e.header,button:!0,onClick:se.bind(this,4)},r.a.createElement(ke.a,null,r.a.createElement(X.a,null)),r.a.createElement(we.a,{primary:"Representante"}),4===l.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:4===l.actual||l.expandable,timeout:"auto"},r.a.createElement(pt,{data:Q,setData:K,phones:te,setPhones:ne,expandable:l.expandable,loading:m,edit:!1,buttons:pe})))),r.a.createElement(ta.a,null,r.a.createElement(na.a,{container:!0},r.a.createElement(na.a,{item:!0,xs:12,sm:6,container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(j.a,{style:{marginLeft:24},variant:"button",color:"initial"},"Identificador: ".concat(E))),r.a.createElement(na.a,{item:!0,xs:12,sm:6,container:!0,direction:"row",justify:"flex-end",alignItems:"center"},r.a.createElement("div",{className:e.wrapper},r.a.createElement(ra.a,{variant:"contained",className:e.save,disabled:m,endIcon:r.a.createElement(Dt.a,null),onClick:pe.send},"Guardar",m&&r.a.createElement(Tt.a,{size:24,className:e.buttonProgress}))))))),r.a.createElement(oa.a,{open:ce.open,autoHideDuration:5e3,onClose:le},r.a.createElement(an,{onClose:le,severity:ce.severity},r.a.createElement(xa.a,null,ce.title),ce.message)))}var nn=t(157),rn=t(723),on=t(1140),cn=t(191),ln=t(1142),sn=t(675),un=t.n(sn),pn=t(372),dn=t.n(pn),mn=t(373),fn=t.n(mn),vn=Object(Y.a)((function(e){return{wrapper:{margin:e.spacing(2),position:"relative"},buttonSuccess:{backgroundColor:At.a[500],"&:hover":{backgroundColor:At.a[700]}},fabProgress:{color:At.a[500],position:"absolute",top:-4,left:-4,zIndex:1},square:{color:"#FFFFFF",backgroundColor:"#cb0606",fontSize:e.spacing(2)},divider:{marginLeft:"30px",marginRight:"30px"}}}));function hn(e){var a=r.a.useContext(rt),t=a.cabeceras,n=a.isTokenExpired,o=vn(),c=e.id,i=e.tipo,l=r.a.useState(null),s=Object(f.a)(l,2),u=s[0],p=s[1],d=r.a.useState(!1),m=Object(f.a)(d,2),v=m[0],h=m[1],b=function(){var a=!0,r=function(){var a=new FormData;return a.append("documento",u),a.append("id_".concat(i),c),a.append("id_tipo_documento",e.data.id_tipo_documento),a},o=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,console.log(n[0]),r={id_tipo_documento:e.data.id_tipo_documento,textShow:e.data.tipo,fecha_modificacion:n[0].fecha_modificacion,url_documento:n[0].url_documento},p(null),r["id_".concat(i)]=c,h(!1),e.delete(r),e.toast({open:!0,message:"Se ha guardado el documento, puedes revisarlo",severity:"success",title:"Guardado con exito!"});case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),l=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,n(t)||(console.log(t),h(!1));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return a&&(h(!0),function(){var e=new Headers;e.append("authorization",t.authorization),ua.postForm({url:"".concat(ua.BASE_URL,"/api/rh/").concat(i,"/documento"),headers:e,data:r(),exito:o,fallo:l,error_request:function(e){console.log("Errooooor")}})}()),function(){return a=!1}};return r.a.createElement($e.a,{elevation:0},r.a.createElement(on.a,{avatar:r.a.createElement(y.a,{disabled:!0},r.a.createElement(g.a,{variant:"rounded",className:o.square},"PDF")),action:r.a.createElement("div",{className:o.wrapper},null!==u?r.a.createElement(r.a.Fragment,null,r.a.createElement(Rt.a,{disabled:v,size:"small","aria-label":"save",color:"primary",className:o.buttonSuccess,onClick:function(a){null===u?e.toast({open:!0,message:"Sube un a archivo e intenta nuevamente",severity:"warning",title:"No archivo no encontrado!"}):b()}},r.a.createElement(un.a,null)),v&&r.a.createElement(Tt.a,{size:48,className:o.fabProgress})):r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{style:{display:"none"},id:"input-file-".concat(e.data.id_tipo_documento),type:"file",accept:"application/pdf",onChange:function(e){var a=e.target.files;p(a[0])}}),r.a.createElement(Rt.a,{size:"small","aria-label":"save",color:"primary",htmlFor:"input-file-".concat(e.data.id_tipo_documento),component:"label"},r.a.createElement(dn.a,null)))),title:e.data.tipo,subheader:r.a.createElement(r.a.Fragment,null,null!==u?r.a.createElement(r.a.Fragment,null,"".concat(u.name),r.a.createElement(y.a,{"aria-label":"delete",className:o.margin,size:"small",onClick:function(e){p(null)}},r.a.createElement(fn.a,{fontSize:"inherit"}))):"Selecciona un archivo")}),r.a.createElement(Oe.a,{className:o.divider}))}var bn=t(676),En=t.n(bn),gn=r.a.forwardRef((function(e,a){return r.a.createElement(Xa.a,Object.assign({direction:"up",ref:a},e))})),_n=Object(Y.a)((function(e){return{wrapper:{position:"relative"},buttonSuccess:{backgroundColor:At.a[500],"&:hover":{backgroundColor:At.a[700]}},fabProgress:{color:At.a[500],position:"absolute",top:-4,left:-4,zIndex:1},square:{color:"#FFFFFF",backgroundColor:"#cb0606",fontSize:e.spacing(2)},divider:{marginLeft:"30px",marginRight:"30px"},action:{top:"50%"}}}));function yn(e){var a=r.a.useContext(rt),t=a.cabeceras,n=a.isTokenExpired,o=_n(),c=r.a.useState(!1),i=Object(f.a)(c,2),l=i[0],s=i[1],u=e.data,p=u.id_tipo_documento,d=u.url_documento,m=u.textShow,v=u.fecha_modificacion,h=e.id,b=e.tipo,E=e.index,_=r.a.useState(null),x=Object(f.a)(_,2),j=x[0],O=x[1],C=function(){O(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement($e.a,{elevation:0},r.a.createElement(on.a,{avatar:r.a.createElement(y.a,{"aria-label":"pdf",onClick:function(){return window.open("".concat(d.url,"&raw=1"),"_blank")}},r.a.createElement(g.a,{variant:"rounded",className:o.square},"PDF")),action:r.a.createElement("div",{className:o.action},r.a.createElement(y.a,{"aria-label":"settings",onClick:function(e){O(e.currentTarget)}},r.a.createElement(En.a,null)),r.a.createElement(w.a,{anchorEl:j,keepMounted:!0,open:Boolean(j),onClose:C},r.a.createElement(k.a,{onClick:function(){C()}},"Abrir"),r.a.createElement(k.a,{onClick:function(){O(null),s(!0)}},"Eliminar"))),title:m,subheader:"Modificaci\xf3n: ".concat(N()(v).format("DD/MM/YYYY"))}),r.a.createElement(Oe.a,{className:o.divider})),r.a.createElement(Ja.a,{open:l,TransitionComponent:gn,onClose:function(){return s(!1)}},r.a.createElement(Ka.a,null,"Eliminar documento"),r.a.createElement($a.a,null,r.a.createElement(Qa.a,null,"Est\xe1 apunto de eliminar el documento ",'"'.concat(m,'"'),", \xbfEst\xe1 seguro de continuar?")),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:function(){return s(!1)}},"Cancelar"),r.a.createElement(ra.a,{onClick:function(){var a=!0,r=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,console.log(n),e.delete(E,p),e.backdrop(!1),e.toast({open:!0,message:"Se ha elimado el documento, agrega uno nuevo",severity:"success",title:"Elimaci\xf3n con exito!"});case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),o=function(){var a=Object(We.a)(Be.a.mark((function a(t){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=a.sent,n(r)||(e.backdrop(!1),e.toast({open:!0,message:"No se ha podido eliminar el archivo, intenta de nuevo",severity:"error",title:"Uuups! Ha ocurrido un error"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return a&&(s(!1),e.backdrop(!0),ua.deleted({url:"".concat(ua.BASE_URL,"/api/rh/").concat(b,"/documento/").concat(h,"/").concat(p),headers:t,exito:r,fallo:o,error_request:function(e){console.log("Errooooor")}})),function(){return a=!1}},color:"secondary"},"Eliminar"))))}var xn=t(1154),jn=t(1143),On=t(464),Cn=t(677),kn=t.n(Cn),wn=t(678),Sn=t.n(wn);function An(e){var a=e.children,t=e.value,n=e.index,o=Object(B.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},o),t===n&&r.a.createElement(On.a,{p:0},a))}function Dn(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Tn=Object(Ne.a)((function(e){return{badge:{top:5,right:-15,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%"}}}))(yt.a),Rn=Object(Y.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,minHeight:"145px"},paper:{padding:e.spacing(3)},frame:{width:"100%",height:"600px",border:"none"},doc:{marginTop:"24px"},media:{height:100,width:100},iconSuccess:{color:At.a[500],fontSize:100},iconError:{color:"#D0D0D0",fontSize:100},pendientes:{padding:"16px"},title:{textAlign:"center",paddingTop:"15px"}}}));function In(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}function Nn(e){var a=r.a.useContext(rt),t=a.cabeceras,n=a.isTokenExpired,o=Rn(),c=Object(d.g)(),i=e.id,l=e.tipo,s=e.onlySee,u=r.a.useState(0),p=Object(f.a)(u,2),m=p[0],v=p[1],h=r.a.useState(null),b=Object(f.a)(h,2),E=b[0],g=b[1],_=r.a.useState(null),y=Object(f.a)(_,2),x=y[0],O=y[1],C=r.a.useState(null),k=Object(f.a)(C,2),w=k[0],S=k[1],A=r.a.useState(null),D=Object(f.a)(A,2),T=D[0],R=D[1],I=r.a.useState(!1),N=Object(f.a)(I,2),L=N[0],P=N[1],F=r.a.useState({open:!1,message:"",severity:"",title:""}),z=Object(f.a)(F,2),Y=z[0],U=z[1],M=r.a.useCallback((function(){var e=!0,a=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,e&&g(n.tipo_documento);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),r=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,Array.isArray(n.documentos)&&((r=n.documentos).forEach((function(e){e.textShow="Cargando..."})),e&&O(r));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),o=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,n(t)||(P(!1),U({open:!0,message:"Ha ocurrido un error, intenta nuevamente",severity:"error",title:"Uuups!"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return e&&(P(!0),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/").concat(l,"/documento/").concat(i),headers:t,exito:r,fallo:o,error_request:function(e){c.push("/server-error")}}),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/tipo_documento"),headers:t,exito:a,fallo:o,error_request:function(e){c.push("/server-error")}})),function(){return e=!1}}),[]);r.a.useEffect((function(){M()}),[M]),r.a.useEffect((function(){var e=!0;if(Array.isArray(E)&&Array.isArray(x)){var a=x;a.forEach((function(e){e.textShow=E.find((function(a){return a.id_tipo_documento===e.id_tipo_documento})).tipo}));var t=E.filter((function(e){return!x.some((function(a){return a.id_tipo_documento===e.id_tipo_documento}))})).filter((function(e){return!0===e[l]}));e&&(P(!1),t.length>0&&!s&&v(1),R(a),S(t))}return function(){return e=!1}}),[E,x]);var B=function(e,a){U(Object(q.a)(Object(q.a)({},Y),{},{open:!1}))},W=function(e){var a=w.filter((function(a){return a.id_tipo_documento!==e.id_tipo_documento}));S(a);var t=T;t.push(e),R(t)},H=function(e,a){var t=T.filter((function(e){return e.id_tipo_documento!==a}));R(t);var n=E.find((function(e){return e.id_tipo_documento===a})),r=w;r.push(n),S(r)},G=function(e){U(e)},V=function(){return r.a.createElement($e.a,{elevation:0},r.a.createElement(on.a,{avatar:r.a.createElement(ln.a,{animation:"wave",variant:"rect",width:50,height:50}),title:r.a.createElement(ln.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),subheader:r.a.createElement(ln.a,{animation:"wave",height:10,width:"40%"})}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(cn.a,{className:o.root,elevation:2},r.a.createElement(j.a,{className:o.title,variant:"button",display:"block",gutterBottom:!0},"Documentos ","".concat(l)),r.a.createElement(xn.a,{value:m,onChange:function(e,a){v(a)},"aria-label":"simple tabs example",indicatorColor:"primary",centered:!0,textColor:"primary"},r.a.createElement(jn.a,Object.assign({label:r.a.createElement(Tn,{color:"primary",badgeContent:null!==T?T.length:"0"},"Guardados")},Dn(0))),!s&&r.a.createElement(jn.a,Object.assign({label:r.a.createElement(Tn,{color:"secondary",badgeContent:null!==w?w.length:"0"},"Faltantes")},Dn(1)))),r.a.createElement(An,{value:m,index:0},L?V():function(){if(Array.isArray(T))return T.length>0?T.map((function(e,a){return r.a.createElement(na.a,{item:!0,xs:12,key:"see-document-".concat(a)},r.a.createElement(yn,{index:a,data:e,id:i,tipo:l,toast:G,delete:H,backdrop:P}))})):r.a.createElement(na.a,{className:o.pendientes,container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(na.a,{item:!0},r.a.createElement(kn.a,{className:o.iconError})),r.a.createElement(na.a,{item:!0},r.a.createElement(j.a,{variant:"h6",gutterBottom:!0},"Documentos vacios!")),r.a.createElement(na.a,{item:!0},r.a.createElement(j.a,{variant:"body1",gutterBottom:!0},"Ning\xfan documento ha sido guadado a\xfan.")))}()),r.a.createElement(An,{value:m,index:1},L?V():function(){if(Array.isArray(w))return w.length>0?w.map((function(e,a){return r.a.createElement(na.a,{item:!0,xs:12,key:"input-file-".concat(a)},r.a.createElement(hn,{tipo:l,id:i,data:e,delete:W,index:a,toast:G,backdrop:P}))})):r.a.createElement(na.a,{className:o.pendientes,container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(na.a,{item:!0},r.a.createElement(Sn.a,{className:o.iconSuccess})),r.a.createElement(na.a,{item:!0},r.a.createElement(j.a,{variant:"h6",gutterBottom:!0},"Sin Pendientes!")),r.a.createElement(na.a,{item:!0},r.a.createElement(j.a,{variant:"body1",gutterBottom:!0},"Todos los documentos ya fueron completados")))}())),r.a.createElement(oa.a,{open:Y.open,autoHideDuration:6e3,onClose:B},r.a.createElement(In,{onClose:B,severity:Y.severity},r.a.createElement(xa.a,null,Y.title),Y.message)))}var Ln=t(243),Pn=t.n(Ln),qn=t(242),Fn=t.n(qn),zn=t(1144),Yn=t(623),Un=t(624),Mn=t(625),Bn=t(626),Wn=t(627),Hn=t(628),Gn=t(497),Vn=Object(Gn.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,minHeight:"60px"},paper:{padding:e.spacing(3)},title:{textAlign:"center",paddingTop:"15px"}}})),Jn=Object(n.createContext)(null);function Zn(e){var a=e.idContrato,t=e.periodo,o=Object(d.g)(),c=r.a.useContext(rt),i=c.cabeceras,l=c.isTokenExpired,s=Vn(),u=r.a.useState(),p=Object(f.a)(u,2),m=p[0],v=p[1],h=function(){var e=Object(We.a)(Be.a.mark((function e(){var t,n,r,c,s;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(sa,"/api/rh/nomina?id_contrato=").concat(a),{method:"GET",headers:i});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,l(n)||(r=(r=n.nomina).sort((function(e,a){return N()(e.fecha_inicio_periodo).format("YYYYMMDD")-N()(a.fecha_inicio_periodo).format("YYYYMMDD")})),c=b(r),s=N()().format("YYYY"),c[s]=c[s]?c[s]:[],v(c)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),o.push("/server-error");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),b=function(e){return e.reduce((function(e,a){return e[N()(a.fecha_inicio_periodo).format("YYYY")]=e[N()(a.fecha_inicio_periodo).format("YYYY")]||[],e[N()(a.fecha_inicio_periodo).format("YYYY")].push(a),e}),{})};return Object(n.useEffect)((function(){h()}),[]),r.a.createElement(Jn.Provider,{value:{getAllDatas:h,idContrato:a,periodo:t}},r.a.createElement(cn.a,{className:s.root,elevation:2},r.a.createElement(j.a,{className:s.title,variant:"button",display:"block",gutterBottom:!0},"Calendario de N\xf3minas"),m?Object.keys(m).length>0&&Object.keys(m).map((function(e,n){return r.a.createElement($n,{data:m[e],name:e,periodo:t,idContrato:a,key:"collapsible-table-".concat(n),defaulOpen:n===Object.keys(m).length-1})})):r.a.createElement(na.a,{container:!0,spacing:2,style:{padding:15}},r.a.createElement(na.a,{item:!0,xs:6},r.a.createElement(ln.a,{animation:"wave",height:70})),r.a.createElement(na.a,{item:!0,xs:6},r.a.createElement(ln.a,{animation:"wave",height:70})))))}function $n(e){var a=e.data,t=e.name,o=e.periodo,c=e.idContrato,i=e.defaulOpen,l=Object(d.g)(),s=Object(n.useState)(!!i),u=Object(f.a)(s,2),p=u[0],m=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{button:!0,onClick:function(){return m(!p)}},r.a.createElement(ke.a,null,r.a.createElement(Fn.a,null)),r.a.createElement(we.a,{primary:t}),p?r.a.createElement(Ae.a,null):r.a.createElement(Te.a,null)),r.a.createElement(Re.a,{in:p,timeout:"auto",unmountOnExit:!0},a.length>0?r.a.createElement(zn.a,null,r.a.createElement(Yn.a,{size:"small"},r.a.createElement(Un.a,null,r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,{align:"center"},"Fecha Incio"),r.a.createElement(Bn.a,{align:"center"},"Fecha Fin"),r.a.createElement(Bn.a,{align:"center"},"Estatus"),r.a.createElement(Bn.a,{align:"center"},"Acci\xf3n"))),r.a.createElement(Wn.a,null,a.map((function(e,a){return r.a.createElement(Mn.a,{key:"nominas-inicio-fin-".concat(a),hover:!0},r.a.createElement(Bn.a,{align:"center"},N.a.utc(e.fecha_inicio_periodo).format("DD/MMM/YYYY")),r.a.createElement(Bn.a,{align:"center"},N.a.utc(e.fecha_fin_periodo).format("DD/MMM/YYYY")),r.a.createElement(Bn.a,{align:"center"},er(e.estatus)),r.a.createElement(Bn.a,{align:"center"},r.a.createElement(ra.a,{variant:"text",color:"secondary",style:{padding:0},fullWidth:!0,onClick:function(){var a=N.a.utc(e.fecha_fin_periodo).format("YYYY");l.push("/nomina/activas/".concat(e.id_nomina,"&").concat(e.id_contrato,"&").concat(e.id_empresa,"&").concat(a))}},"Ver")))}))))):r.a.createElement(Qn,{periodo:o,idContrato:c})))}function Qn(e){var a=e.periodo,t=e.idContrato,o=r.a.useContext(rt),c=o.cabeceras,i=o.isTokenExpired,l=r.a.useState(N()().startOf("month")),s=Object(f.a)(l,2),u=s[0],p=s[1],d=r.a.useState(!1),m=Object(f.a)(d,2),v=m[0],h=m[1],b=r.a.useState(!1),E=Object(f.a)(b,2),g=E[0],_=E[1],y=Object(n.useContext)(Jn).getAllDatas,x=function(){var e=Object(We.a)(Be.a.mark((function e(){var n,r,o;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),n={fecha_inicio:u,id_contrato:t,periodo:a},e.next=4,fetch("".concat(sa,"/api/rh/nomina/funtion/calendar"),{method:"POST",headers:c,body:JSON.stringify(n)});case 4:return r=e.sent,e.next=7,r.json();case 7:o=e.sent,i(o)||(y(),h(!1),_(!1));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(na.a,{spacing:2,style:{padding:24},container:!0},r.a.createElement(na.a,{item:!0,sm:6},r.a.createElement(bt.a,{inputVariant:"outlined",maxDateMessage:"La fecha no puede ser anterior a un a\xf1o",minDateMessage:"Fecha es menor al m\xednimo permitido",invalidDateMessage:"Formato invalido",InputLabelProps:{shrink:!0},fullWidth:!0,required:!0,value:u,onChange:function(e){return p(e)},placeholder:"Mes/D\xeda/A\xf1o",id:"fecha_nacimiento",label:"Fecha de Inicio",format:"DD/MM/YYYY",autoComplete:"off",minDate:N()().startOf("month"),maxDate:Kn(a)})),r.a.createElement(na.a,{item:!0,sm:6,container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ra.a,{variant:"text",color:"secondary",onClick:function(){return _(!0)}},"Crear Calendario"))),r.a.createElement(Ja.a,{open:g,onClose:function(){return _(!1)},"aria-labelledby":""},v&&r.a.createElement(Hn.a,{color:"secondary"}),r.a.createElement(Ka.a,{id:""},"Crear Nominas"),r.a.createElement($a.a,null,r.a.createElement(Qa.a,null,"\xbfEst\xe1 apunto de crear el calendario de nominas?"),r.a.createElement(Qa.a,null,"Inicio: ",r.a.createElement("b",null,u.format("DD/MM/YYYY"))),r.a.createElement(Qa.a,null,"Periodo: ",r.a.createElement("b",null,Xn(a)))),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:function(){return _(!1)},color:"default"},"Cancel"),r.a.createElement(ra.a,{disabled:v,color:"secondary",onClick:x},"Confirmar"))))}var Kn=function(e){switch(e){case"S":return N.a.utc().endOf("year").subtract(6,"days");case"C":return N.a.utc().endOf("year").subtract(13,"days");case"Q":return N.a.utc().endOf("year").startOf("month").add(15,"days");case"M":return N.a.utc().endOf("year").startOf("month").add(1,"days");default:return N()()}},Xn=function(e){switch(e){case"S":return"Semanal";case"C":return"Catorcenal";case"Q":return"Quincenal";case"M":return"Mensual";default:return""}},er=function(e){switch(e){case"C":return"Pendiente";case"P":return"Pren\xf3mina";case"N":return"N\xf3mina";case"A":return"Pagada";default:return"Indeterminado"}},ar=function(){var e=Object(We.a)(Be.a.mark((function e(a,t){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(sa,"/api/rh/empresa/detalle_registro_patronal"),{method:"POST",headers:t,body:JSON.stringify(a)}).then((function(e){if(e.ok)return e.json();throw new Error(e)})));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),tr=function(){var e=Object(We.a)(Be.a.mark((function e(a,t,n){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(sa,"/api/rh/empresa/detalle_registro_patronal/").concat(a),{method:"PUT",headers:n,body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),nr=Object(Gn.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,minHeight:"60px"},paper:{padding:e.spacing(3)},title:{textAlign:"center",paddingTop:"15px"}}})),rr=Object(n.createContext)(null);function or(e){var a=e.idEmpresa,t=e.registrosPatronales,o=Object(n.useContext)(rt),c=o.cabeceras,i=o.isTokenExpired,l=nr(),s=Object(n.useState)(),u=Object(f.a)(s,2),p=u[0],d=u[1],m=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,n,r,o,l;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(sa,"/api/rh/empresa/detalle_registro_patronal?id_empresa=").concat(a),{method:"GET",headers:c});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,i(n)||(r=n.registros,o=v(r),l=N()().format("YYYY"),o[l]=o[l]?o[l]:[],d(o));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),v=function(e){return e.reduce((function(e,a){var t=N()(a.fecha_registro).format("YYYY");return e[t]=e[t]||[],e[t].push(a),e}),{})};return Object(n.useEffect)((function(){m(a)}),[]),r.a.createElement(rr.Provider,{value:{refresh:function(){return m(a)}}},r.a.createElement(cn.a,{className:l.root,elevation:2},r.a.createElement(j.a,{className:l.title,variant:"button",display:"block",gutterBottom:!0},"Primas de Riesgo"),p?Object.keys(p).length>0&&Object.keys(p).map((function(e,a){return r.a.createElement(cr,{data:p[e],name:e,key:"collapsible-table-registros-".concat(a),defaulOpen:a===Object.keys(p).length-1,registrosPatronales:t})})):r.a.createElement(na.a,{container:!0,spacing:2,style:{padding:15}},r.a.createElement(na.a,{item:!0,xs:6},r.a.createElement(ln.a,{animation:"wave",height:70})),r.a.createElement(na.a,{item:!0,xs:6},r.a.createElement(ln.a,{animation:"wave",height:70})))))}function cr(e){var a=e.data,t=e.name,o=e.defaulOpen,c=e.registrosPatronales,i=Object(n.useState)(!!o),l=Object(f.a)(i,2),s=l[0],u=l[1],p=Object(n.useState)({open:!1,edit:!1}),d=Object(f.a)(p,2),m=d[0],v=d[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{button:!0,onClick:function(){return u(!s)}},r.a.createElement(ke.a,null,r.a.createElement(Fn.a,null)),r.a.createElement(we.a,{primary:t}),s?r.a.createElement(Ae.a,null):r.a.createElement(Te.a,null)),r.a.createElement(Re.a,{in:s,timeout:"auto",unmountOnExit:!0},r.a.createElement(zn.a,null,r.a.createElement(Yn.a,{size:"small"},a.length>0&&r.a.createElement(Un.a,null,r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,{align:"center"},"Clase"),r.a.createElement(Bn.a,{align:"center"},"Clave"),r.a.createElement(Bn.a,{align:"center"},"Valor"))),r.a.createElement(Wn.a,null,a.sort((function(e,a){return e.categoria-a.categoria})).map((function(e,a){return r.a.createElement(Mn.a,{key:"prima-riesgo-inicio-fin-".concat(a),hover:!0,onClick:function(){t===N()().format("YYYY")&&v({open:!0,edit:!0,categoria:e.categoria,valor_por_riesgo:e.valor_por_riesgo,folio_registro:e.folio_registro})}},r.a.createElement(Bn.a,{align:"center"},e.categoria),r.a.createElement(Bn.a,{align:"center"},e.clave_patronal),r.a.createElement(Bn.a,{align:"center"},e.valor_por_riesgo))})),t===N()().format("YYYY")&&a.length<5&&r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,{align:"center",colSpan:"4"},r.a.createElement(ra.a,{onClick:function(){return v({open:!0,edit:!1})}},"Agregar"))))))),m.open&&r.a.createElement(ir,Object.assign({},m,{onClose:function(){return v(Object(q.a)(Object(q.a)({},m),{},{open:!1}))},registrosPatronales:c,registrosActuales:a})))}function ir(e){var a,t,o=e.open,c=e.edit,i=e.folio_registro,l=e.categoria,s=e.valor_por_riesgo,u=e.onClose,p=e.registrosPatronales,d=e.registrosActuales,m=Object(n.useContext)(rt),v=m.cabeceras,h=m.isTokenExpired,b=Object(n.useState)({categoria:l||"0",valor_por_riesgo:s||""}),E=Object(f.a)(b,2),g=E[0],_=E[1],y=Object(n.useState)(!1),x=Object(f.a)(y,2),O=x[0],C=x[1],w=Object(n.useState)({isError:!1,message:""}),S=Object(f.a)(w,2),A=S[0],D=S[1],T=Object(n.useContext)(rr).refresh;return r.a.createElement(Ja.a,{open:o,onClose:u,maxWidth:"xs",fullWidth:!0},O&&r.a.createElement(Hn.a,{color:"secondary"}),r.a.createElement(Ka.a,null,c?"Editanto ":"Agregando "," Prima de Riesgo "),r.a.createElement($a.a,null,r.a.createElement(na.a,{spacing:2,style:{padding:24},container:!0},r.a.createElement(na.a,{item:!0,xs:6},r.a.createElement(ca.a,{fullWidth:!0,select:!0,error:A.isError,label:"Clave",disabled:c,value:g.categoria,onChange:function(e){var a=e.target.value;return _(Object(q.a)(Object(q.a)({},g),{},{categoria:a}))},variant:"outlined"},r.a.createElement(k.a,{value:"0",disabled:!0},"Selecciona"),(a=p,t=d,c?a:a.filter((function(e){return!t.some((function(a){return e.categoria===a.categoria}))}))).map((function(e,a){return r.a.createElement(k.a,{key:"menu-item-clase-".concat(a),value:e.categoria},"CLASE ".concat(e.categoria))})))),r.a.createElement(na.a,{item:!0,xs:6},r.a.createElement(ca.a,{fullWidth:!0,label:"Prima Riesgo",variant:"outlined",error:A.isError,placeholder:"0.542",InputProps:{inputComponent:Ba},value:g.valor_por_riesgo,onChange:function(e){var a=e.target.value;return _(Object(q.a)(Object(q.a)({},g),{},{valor_por_riesgo:a}))}})),r.a.createElement(na.a,{item:!0,xs:12},A.isError&&r.a.createElement(j.a,{variant:"button",color:"secondary"},A.message)))),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:u,color:"default"},"Cancel"),r.a.createElement(ra.a,{onClick:function(){if(C(!0),"0"===g.categoria||isNaN(parseFloat(g.valor_por_riesgo)))D({isError:!0,message:"Revisa los campos"}),C(!1),setTimeout((function(){D({isError:!1,message:""})}),1500);else{var e=p.find((function(e){return e.categoria===g.categoria})).clave_patronal;if(c)tr(i,{valor_por_riesgo:g.valor_por_riesgo},v).then((function(e){h(e)||(C(!1),T(),u())}));else{var a={registros:[{clave_patronal:e,fecha_registro:N()().format("YYYY-MM-DD"),valor_por_riesgo:g.valor_por_riesgo}]};ar(a,v).then((function(e){h(e)||(C(!1),T(),u())}))}}},color:"secondary"},"Guardar")))}var lr=Object(Y.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper,marginBottom:24},cardContent:{padding:"0px"},header:{background:"#fafafa"},title:{flexGrow:1,textAlign:"center",marginTop:"15px ",marginBottom:"15px"},actions:{padding:e.spacing(4)},save:{color:e.palette.common.white,backgroundColor:At.a[500],"&:hover":{backgroundColor:At.a[600]}},buttonProgress:{color:At.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},wrapper:{margin:"0px 24px 8px 16px",position:"relative"},delete:{marginRight:e.spacing(1)},subheader:{textAlign:"center"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fafafa"},back:{left:-12,float:"left"},butonHide:{opacity:0}}})),sr=r.a.forwardRef((function(e,a){return r.a.createElement(Xa.a,Object.assign({direction:"up",ref:a},e))}));function ur(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}var pr=Object(L.b)((function(e){var a=lr(),t=Object(d.g)(),n=Object(d.h)(),o=r.a.useRef(),c=r.a.useContext(rt),i=c.cabeceras,l=c.isTokenExpired,s=c.permisos,u=c.rol,p=e.onlySee,v=void 0===n.id?e.id:n.id,h=r.a.useState({open:!1,type:""}),E=Object(f.a)(h,2),g=E[0],_=E[1],x=r.a.useState({expandable:!1,actual:0,global:0}),O=Object(f.a)(x,2),C=O[0],k=O[1],w=r.a.useState(!1),S=Object(f.a)(w,2),A=S[0],D=S[1],T=r.a.useState(!0),R=Object(f.a)(T,2),I=R[0],L=R[1],P=r.a.useState({fileImg:null,url_logo:{value:"",verify:""},id_empresa:{value:"",verify:""},razon_comercial:{value:"",verify:""},razon_social:{value:"",verify:""},rfc:{value:"",verify:""},id_regimen_capital:{value:"",verify:""},fecha_constitucion:{value:"",verify:""},fecha_alta:{value:"",verify:""},es_interna:{value:"false",verify:!0},id_giro:{value:"",verify:""},estatus:{value:"A",verify:!0},id_representante:{value:"",verify:""}}),F=Object(f.a)(P,2),z=F[0],Y=F[1],U=r.a.useState({calle:{value:"",verify:""},no_exterior:{value:"",verify:""},no_interior:{value:"",verify:""},colonia:{value:"",verify:""},municipio:{value:"",verify:""},entidad:{value:"",verify:""},cp:{value:"",verify:""}}),M=Object(f.a)(U,2),W=M[0],H=M[1],G=r.a.useState({correo:{value:"",verify:""},observaciones:{value:"",verify:""}}),V=Object(f.a)(G,2),J=V[0],Z=V[1],$=r.a.useState([{value:"",verify:"",tipo:"C",helperText:""},{value:"",verify:"",tipo:"F",helperText:""}]),Q=Object(f.a)($,2),K=Q[0],ee=Q[1],ae=r.a.useState(Xt("new")),te=Object(f.a)(ae,2),ne=te[0],re=te[1],oe=r.a.useState(""),ce=Object(f.a)(oe,2),ie=ce[0],le=ce[1],se=r.a.useState([{categoria:"",clave_patronal:"",verify:"",helperText:""}]),ue=Object(f.a)(se,2),pe=ue[0],de=ue[1],me=r.a.useState({}),fe=Object(f.a)(me,2),ve=fe[0],he=fe[1],be=r.a.useState(Xt()),Ee=Object(f.a)(be,2),ge=Ee[0],_e=Ee[1],ye=r.a.useState([]),xe=Object(f.a)(ye,2),je=xe[0],Oe=xe[1],Se=r.a.useState({}),Ae=Object(f.a)(Se,2),De=Ae[0],Te=Ae[1],Ne=r.a.useState({existe:{value:!1},rfc:{value:"",verify:""},nombre:{value:"",verify:""},primer_apellido:{value:"",verify:""},segundo_apellido:{value:"",verify:""},genero:{value:"",verify:""},correo:{value:"",verify:""},observaciones:{value:"",verify:""}}),Pe=Object(f.a)(Ne,2),qe=Pe[0],Fe=Pe[1],ze=r.a.useState([{value:"",verify:"",tipo:"C",helperText:""},{value:"",verify:"",tipo:"F",helperText:""}]),Ye=Object(f.a)(ze,2),Ue=Ye[0],Me=Ye[1],Je=r.a.useState({open:!1,message:"",severity:"",title:""}),Ke=Object(f.a)(Je,2),ea=Ke[0],ca=Ke[1],ia=function(e,a){ca(Object(q.a)(Object(q.a)({},ea),{},{open:!1}))},la=function(e){k(Object(q.a)(Object(q.a)({},C),{},{actual:e}))},sa=function(){var e=function(e){ca({open:!0,message:"Es necesario rellenar los campos requeridos",severity:"warning",title:"Campos vacios!"}),k(Object(q.a)(Object(q.a)({},e),{},{actual:e})),D(!1)};return{separeContratoPost:function(){var e={};return["fecha_inicio","fecha_fin","comision","motivo_contrato","periodo_calculo"].forEach((function(a){if(a.includes("fecha")){var t=N()(ne[a].value).format("YYYY/MM/DD");"Invalid date"!==t&&(e[a]=t)}else if("comision"===a){var n=parseInt(ne[a].value)/100;e[a]=isNaN(n)?0:n}else e[a]=ne[a].value})),Object(q.a)({id_empresa:v},e)},separeContrato:function(e){var a={};return Object.keys(ne).forEach((function(e){e.includes("fecha")?N()(ne[e].value).format("YYYY-MM-DD")!==N()(ve[e]).format("YYYY-MM-DD")&&(a[e]=N()(ne[e].value).format("YYYY-MM-DD")):ne[e].value!==ve[e]&&(a[e]=ne[e].value)})),Object.keys(a).length>0?Object(q.a)({id_empresa:e},a):null},separeRegistrosPatronales:function(e){var a=[];return pe.forEach((function(e){e.helperText,e.verify;var t=Object(B.a)(e,["helperText","verify"]);t.clave_patronal=t.clave_patronal.replace(/\s/g,""),a.push(Object(q.a)({},t))})),{id_empresa:z.id_empresa.value,registros:a}},separeEmpresa:function(e){var a=Object(q.a)(Object(q.a)(Object(q.a)({},z),W),J),t=Object.keys(a),n=new FormData;t.forEach((function(e){var t="";switch(e){case"fecha_constitucion":case"fecha_alta":t=N()(a[e].value);var r=N()(De[e]);!t.isSame(r)&&t.isValid()&&n.append(e,t);break;case"id_representante":(t=De.id_representante)!==qe.id_representante.value&&n.append("id_representante",qe.id_representante.value);break;case"id_empresa":case"fileImg":case"identificador":case"url_logo":break;case"rfc":(t=a.rfc.value.toUpperCase())!==De[e]&&n.append("rfc",t);break;case"es_interna":"".concat(a[e].value)!=="".concat(De[e])&&n.append(e,a[e].value);break;default:(t=a[e].value)!==De[e]&&""!==t&&n.append(e,a[e].value+"")}})),null!==a.fileImg&&n.append("logo",a.fileImg);var r,o=0,c=Object(nn.a)(n.entries());try{for(c.s();!(r=c.n()).done;){var i=r.value;console.log(i[0]+", "+i[1]),o++}}catch(l){c.e(l)}finally{c.f()}return 0===o?null:n},separeEmpresaTel:function(){var e=[];return K.forEach((function(a){var t=a.value.replace(/\s/g,"");t.length>=5&&e.push({numero:t,tipo:a.tipo})})),e.length>0?{id_empresa:z.id_empresa.value,telefonos:e}:null},separeRepreTel:function(){var e=[];return Ue.forEach((function(a){var t=a.value.replace(/\s/g,"");t.length>=5&&e.push({numero:t,tipo:a.tipo})})),e.length>0?{id_representante:qe.id_representante.value,telefonos:e}:null},separeRepresentante:function(){return{representante:{rfc:qe.rfc.value.toUpperCase(),nombre:qe.nombre.value,primer_apellido:qe.primer_apellido.value,segundo_apellido:qe.segundo_apellido.value,genero:qe.genero.value,correo:qe.correo.value,observaciones:qe.observaciones.value}}},ValidaAll:function(){return function(){var e=["razon_comercial","razon_social","rfc","fecha_constitucion","fecha_alta","id_regimen_capital","es_interna","id_giro","estatus"],a=Object(q.a)({},z);return e.forEach((function(e){a[e].verify="".concat(a[e].value).length>0&&a[e].verify})),Y(a),0===e.filter((function(e){return!0!==a[e].verify})).length}()?function(){var e=["calle","cp","colonia","municipio","entidad"],a=Object(q.a)({},W);return e.forEach((function(e){a[e].verify="".concat(a[e].value).length>0&&a[e].verify})),H(a),0===e.filter((function(e){return!0!==a[e].verify})).length}()?function(){var e=Object(q.a)({},J);return e.correo.verify=Ut.esCorreo(e.correo.value)&&e.correo.value.length>0,Z(e),0===["correo"].filter((function(a){return!0!==e[a].verify})).length}()&&function(){var e=Object(He.a)(K),a=[];e.forEach((function(e){if(10===e.value.replace(/\s/g,"").length){var t=e.verify;e.verify=t,a.push(t)}}));var t=a.filter((function(e){return!0!==e}));return 0===a.length?(e[0].verify=!1,e[0].helperText="Registra al menos uno",e[1].verify=!1,e[1].helperText="Registra al menos uno",!1):(ee(e),0===t.length)}()?function(){if(!ne.new)return!0;var e={},a=[],t=[];if("false"===z.es_interna.value){e=Object(q.a)({},ne),(a=Object.keys(ne)).forEach((function(a){"new"!==a&&"id_empresa"!==a&&"id_contrato"!==a&&(e[a].verify="".concat(ne[a].value).length>0&&ne[a].verify,t.push(e[a].verify))}));var n=t.filter((function(e){return!0!==e}));return re(e),0===n.length}(a=["fecha_inicio","periodo_calculo"]).forEach((function(a){e[a].verify="".concat(ne[a].value).length>0&&ne[a].verify})),e.motivo_contrato="A",e.comision=" 0";var r=a.filter((function(a){return!0!==e[a].verify}));return re(Object(q.a)(Object(q.a)({},ne),e)),0===r.length}()&&function(){if("true"===z.es_interna.value){var e=Object(He.a)(pe),a=[];return e.forEach((function(e){e.verify=11===e.clave_patronal.replace(/\s/g,"").length&&Number.isInteger(parseInt(e.categoria))&&e.verify,e.verify||(e.helperText="Verifica la clase y clave"),a.push(e.verify)})),de(e),0===a.filter((function(e){return!0!==e})).length}return!0}()?function(){var e=["rfc","nombre","primer_apellido","genero","correo"],a=Object(q.a)({},qe);return e.forEach((function(e){a["".concat(e)]="rfc"===e?{value:qe[e].value,verify:13==="".concat(qe[e].value).replace(/\s/g,"").length&&qe[e].verify}:{value:qe[e].value,verify:"".concat(qe[e].value).length>0&&qe[e].verify}})),Fe(a),0===e.filter((function(e){return!0!==a[e].verify})).length}()?!!function(){var e=Object(He.a)(Ue),a=[];e.forEach((function(e){if(10===e.value.replace(/\s/g,"").length){var t=e.verify;e.verify=t,a.push(t)}}));var t=a.filter((function(e){return!0!==e}));return 0===a.length?(e[0].verify=!1,e[0].helperText="Registra al menos uno",e[1].verify=!1,e[1].helperText="Registra al menos uno",!1):(Me(e),0===t.length)}()||(e(5),!1):(e(4),!1):(e(3),!1):(e(2),!1):(e(1),!1):(e(0),!1)}}}(),pa={send:function(){var a=function(a){var n=sa.separeEmpresa(a),r=new Headers;if(r.append("authorization",i.authorization),null!==n){ua.putForm({url:"".concat(ua.BASE_URL,"/api/rh/empresa/").concat(z.id_empresa.value),headers:r,data:n,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:D(!1),e.enqueueSnackbar("Empresa actualizada",{variant:"success",preventDuplicate:!0});case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,l(t)||(D(!1),n={open:!0,severity:"error"},t.error.detail.includes("correo")?(ea.message="Correo duplicado",ea.title="Ya est\xe1 asociado a otra empresa, proporciona uno distinto"):t.error.detail.includes("razon_social")?(ea.message="Raz\xf3n Social duplicada",ea.title="Es posible que la empresa ya est\xe9 registrada"):t.error.detail.includes("rfc")&&(ea.message="RFC duplicado",ea.title="Es posible que la empresa ya est\xe9 registrada"),ca(n));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){t.push("/server-error")}});var o,c={},s=Object(nn.a)(n.entries());try{for(s.s();!(o=s.n()).done;){var u=o.value;c[u[0]]=u[1]}}catch(p){s.e(p)}finally{s.f()}Te((function(e){return Object(q.a)(Object(q.a)({},e),c)}))}},n=function(a){ua.post({url:"".concat(ua.BASE_URL,"/api/rh/representante/telefono"),headers:i,data:sa.separeRepreTel(a),exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,console.log(n),e.enqueueSnackbar("Representante creado",{variant:"success",preventDuplicate:!0});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.json(),l(t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(){t.push("server-error")}})},r=function(){var a,n=function(a,n){for(var r=0;r<a.length;r++)a[r].categoria===n[r].categoria&&a[r].clave_patronal===n[r].clave_patronal||ua.put({url:"".concat(ua.BASE_URL,"/api/rh/empresa/registro_patronal/").concat(n[r].clave_patronal),headers:i,data:a[r],exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.enqueueSnackbar("Registros Patronales actualizados",{variant:"success",preventDuplicate:!0});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.json(),l(t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){t.push("/server-error")}})},r=sa.separeRegistrosPatronales();if(r.registros.length>ge.length){var o=[];ge.forEach((function(e){var a=r.registros.findIndex((function(a){return a.categoria===e.categoria}));a>=0&&o.push(r.registros.splice(a,1)[0])})),a=r,ua.post({url:"".concat(ua.BASE_URL,"/api/rh/empresa/registro_patronal"),headers:i,data:a,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.enqueueSnackbar("Registros agregados",{variant:"success",preventDuplicate:!0});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.json(),l(t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(){t.push("/server-error")}}),n(o,ge),_e([].concat(Object(He.a)(r.registros),o))}else if(r.registros.length<ge.length){var c=[];r.registros.forEach((function(e){var a=ge.findIndex((function(a){return a.tipo===e.tipo}));a>=0&&(c.push(ge[a]),ge.splice(a,1))})),function(a){a.forEach((function(a){Object.keys(a).length>0&&ua.deleted({url:"".concat(ua.BASE_URL,"/api/rh/empresa/registro_patronal/").concat(a.clave_patronal),headers:i,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.enqueueSnackbar("Registros eliminados",{variant:"success",preventDuplicate:!0});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.json(),l(t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){t.push("/server-error")}})}))}(ge),n(r.registros,c),_e(r.registros)}else n(r.registros,ge),_e(r.registros)};sa.ValidaAll()&&(A||(D(!0),o.current=setTimeout((function(){D(!1),e.enqueueSnackbar("Actualizado",{variant:"success",preventDuplicate:!0})}),2e3)),qe.existe.value?(a(),function(){var a,n=function(a,n){for(var r=function(r){n.find((function(e){return e.tipo===a[r].tipo})).numero!==a[r].numero&&ua.put({url:"".concat(ua.BASE_URL,"/api/rh/empresa/telefono/").concat(z.id_empresa.value,"/").concat(n[r].numero),headers:i,data:a[r],exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.enqueueSnackbar("Tel\xe9fonos actualizados",{variant:"success",preventDuplicate:!0});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.json(),l(t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){t.push("/server-error")}})},o=0;o<a.length;o++)r(o)},r=sa.separeEmpresaTel();if(r.telefonos.length>je.length){var o=[];je.forEach((function(e){var a=r.telefonos.findIndex((function(a){return a.tipo===e.tipo}));a>=0&&o.push(r.telefonos.splice(a,1)[0])})),a=r,ua.post({url:"".concat(ua.BASE_URL,"/api/rh/empresa/telefono"),headers:i,data:a,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.enqueueSnackbar("Tel\xe9fonos agregados",{variant:"success",preventDuplicate:!0});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.json(),l(t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(){t.push("/server-error")}}),n(o,je),Oe([].concat(Object(He.a)(r.telefonos),o))}else if(r.telefonos.length<je.length){var c=[];r.telefonos.forEach((function(e){var a=je.findIndex((function(a){return a.tipo===e.tipo}));a>=0&&(c.push(je[a]),je.splice(a,1))})),function(a){a.forEach((function(a){Object.keys(a)>0&&ua.deleted({url:"".concat(ua.BASE_URL,"/api/rh/empresa/telefono/").concat(z.id_empresa.value,"/").concat(a.numero),headers:i,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.enqueueSnackbar("Tel\xe9fonos eliminados",{variant:"success",preventDuplicate:!0});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.json(),l(t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){t.push("/server-error")}})}))}(je),n(r.telefonos,c),Oe(r.telefonos)}else n(r.telefonos,je),Oe(r.telefonos)}(),function(){if(console.log(ne),ne.new){console.log("POST");var a=sa.separeContratoPost();void 0!==ve.id_contrato&&""!==ve.id_contrato&&ua.put({url:"".concat(ua.BASE_URL,"/api/rh/empresa/contrato/").concat(ve.id_contrato),headers:i,data:{fecha_fin:N()().format("YYYY/MM/DD")},exito:function(){var e=Object(We.a)(Be.a.mark((function e(a){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,a.json();case 3:return e.t1=e.sent,e.abrupt("return",e.t0.log.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.json(),l(t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){return t.push("/server-error")}}),ua.post({url:"".concat(ua.BASE_URL,"/api/rh/empresa/contrato"),headers:i,data:a,exito:function(){var t=Object(We.a)(Be.a.mark((function t(n){var r,o;return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:r=t.sent,o=r.contratoEmpresa,he(Object(q.a)(Object(q.a)({},a),{},{id_contrato:o[0].id_contrato})),re((function(e){return Object(q.a)(Object(q.a)({},e),{},{id_contrato:{value:o[0].id_contrato},new:!1})})),e.enqueueSnackbar("Contrato creado",{variant:"success",preventDuplicate:!0});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.json(),l(t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){return t.push("/server-error")}});var n=new FormData;n.append("estatus","A");var r=Object(q.a)({},i);r["Content-Type"]="multipart/form-data",ua.putForm({url:"".concat(ua.BASE_URL,"/api/rh/empresa/").concat(z.id_empresa.value),headers:r,data:n,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:a.sent.updated&&e.enqueueSnackbar("Identificador creado",{variant:"success",preventDuplicate:!0});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.json(),l(t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){t.push("/server-error")}})}else{var o=sa.separeContrato(),c=sa.separeContratoPost();z.es_interna.value||(null!==o?ua.put({url:"".concat(ua.BASE_URL,"/api/rh/empresa/contrato/").concat(ne.id_contrato.value),headers:i,data:o,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.enqueueSnackbar("Contrato actualizado",{variant:"success",preventDuplicate:!0}),he(Object(q.a)(Object(q.a)({},ve),o));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.json(),l(t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){t.push("/server-error")}}):ua.post({url:"".concat(ua.BASE_URL,"/api/rh/empresa/contrato"),headers:i,data:c,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,r=n.contratoEmpresa,he(Object(q.a)(Object(q.a)({},c),{},{id_contrato:r[0].id_contrato})),re((function(e){return Object(q.a)(Object(q.a)({},e),{},{id_contrato:{value:r[0].id_contrato},new:!1})})),e.enqueueSnackbar("Contrato creado",{variant:"success",preventDuplicate:!0});case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.json(),l(t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){return t.push("/server-error")}}))}}(),"true"===z.es_interna.value&&r(z.id_empresa.value)):ua.post({url:"".concat(ua.BASE_URL,"/api/rh/representante"),data:sa._separeRepresentante(),headers:i,exito:function(){var t=Object(We.a)(Be.a.mark((function t(o){var c,i;return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.json();case 2:c=t.sent,i=c.representate,c.created&&(Fe((function(e){return Object(q.a)(Object(q.a)({},e),{},{id_representante:{value:i[0].id_representante},existe:{value:!0}})})),n(i[0].id_representante),a(i[0].id_representante),z.es_interna.value&&r(z.id_empresa.value),e.enqueueSnackbar("Representante creado",{variant:"success",preventDuplicate:!0}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.json(),l(t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){D(!1),t.push("/server-error")}}))},next:function(){k(Object(q.a)(Object(q.a)({},C),{},{actual:C.actual+1,global:C.global+1}))},back:function(){k(Object(q.a)(Object(q.a)({},C),{},{actual:C.actual-1}))},deleted:function(a){var n=new FormData;n.append("estatus",a),Object(q.a)({},i)["Content-Type"]="multipart/form-data",ua.putForm({url:"".concat(ua.BASE_URL,"/api/rh/empresa/").concat(z.id_empresa.value),headers:i,data:n,exito:function(){var t=Object(We.a)(Be.a.mark((function t(n){return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:t.sent[0].estatus===a&&("B"===a?e.enqueueSnackbar("Empresa dada de baja",{variant:"warning",preventDuplicate:!0}):e.enqueueSnackbar("Empresa activada",{variant:"info",preventDuplicate:!0}),Te(Object(q.a)(Object(q.a)({},De),{},{estatus:a})));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.json(),l(t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(){var e=Object(We.a)(Be.a.mark((function e(a){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/server-error");case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()})}};return r.a.useEffect((function(){var e=!0,a=function(e,a,t){var n=Object(q.a)({},a);Object.keys(n).forEach((function(a){a.includes("fecha")?n[a]={value:void 0!==e[a]&&null!==e[a]?N()(e[a]):"",verify:!0}:"identificador"===a?n[a]=e[a]:"entidad"===a?n[a]={value:fa(e[a])?e[a]:ma(e[a]),verify:!0}:"es_interna"===a?n[a]={value:void 0!==e[a]&&null!==e[a]?e[a]+"":"",verify:!0}:"fileImg"!==a&&(n[a]={value:void 0!==e[a]&&null!==e[a]?e[a]:"",verify:!0})})),t(n)},n=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.json(),l(t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),r=function(e){var a=Object.keys(e),t=Object(q.a)({},e);return a.forEach((function(a){return t[a]={value:null!==e[a]&&null!==e[a]?e[a]:"",verify:!0}})),t},o=function(a){ua.get({url:"".concat(ua.BASE_URL,"/api/rh/representante/").concat(a,"?query=").concat(ua.REPRESENTANTE_ALL),headers:i,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,o;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,e&&((o=r(n[0])).existe={value:!0},Fe(o),L(!1));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:n,error_request:function(e){t.push("/server-error")}}),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/representante/telefono/").concat(a),headers:i,exito:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,n=[{value:"",verify:"",tipo:"C",helperText:""},{value:"",verify:"",tipo:"F",helperText:""}],t.telefonos.forEach((function(e){switch(e.tipo){case"C":n[0]={value:e.numero,verify:!0,tipo:e.tipo,helperText:""};break;case"F":n[1]={value:e.numero,verify:!0,tipo:e.tipo,helperText:""};break;default:n.push({value:e.numero,verify:!0,tipo:e.tipo,helperText:""})}})),Me(n);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:n,error_request:function(e){t.push("/server-error")}})},c=function(){ua.get({url:"".concat(ua.BASE_URL,"/api/rh/empresa/registro_patronal?id_empresa=").concat(v),headers:i,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r,o;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,e&&(r=[],o=Object(He.a)(n.registros),n.registros.length>0&&n.registros.forEach((function(e){e.id_empresa;var a=Object(B.a)(e,["id_empresa"]);r.push(Object(q.a)(Object(q.a)({},a),{},{verify:!0,helperText:""}))})),de(r),_e(o));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:n,error_request:function(e){t.push("/server-error")}})};return ua.get({url:"".concat(ua.BASE_URL,"/api/rh/empresa?query=").concat(ua.EMPRESA_ALL,"&id_empresa=").concat(v),headers:i,exito:function(){var n=Object(We.a)(Be.a.mark((function n(r){var i,l;return Be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.json();case 3:if(i=n.sent,l=i.empresas[0],!e){n.next=19;break}if(void 0===l){n.next=18;break}if("G"!==u){n.next=10;break}if(s.find((function(e){return e===l.id_empresa}))){n.next=10;break}throw new Error("Not Find");case 10:o(l.id_representante),Te(l),a(l,z,Y),a(l,W,H),a(l,J,Z),l.es_interna&&c(),n.next=19;break;case 18:t.push("/nomina/page-not-found");case 19:n.next=24;break;case 21:n.prev=21,n.t0=n.catch(0),t.push("/nomina/page-not-found");case 24:case"end":return n.stop()}}),n,null,[[0,21]])})));return function(e){return n.apply(this,arguments)}}(),fallo:n,error_request:function(e){t.push("/server-error")}}),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/empresa/telefono/").concat(v),headers:i,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r,o;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,e&&(r=[{value:"",verify:"",tipo:"C",helperText:""},{value:"",verify:"",tipo:"F",helperText:""}],o=n.telefonos,n.telefonos.forEach((function(e){switch(e.tipo){case"C":r[0]={value:e.numero,verify:!0,tipo:e.tipo,helperText:""};break;case"F":r[1]={value:e.numero,verify:!0,tipo:e.tipo,helperText:""};break;default:r.push({value:e.numero,verify:!0,tipo:e.tipo,helperText:""})}})),ee(r),Oe(o));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:n,error_request:function(e){t.push("/server-error")}}),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/empresa/contrato?id_empresa=").concat(v),headers:i,exito:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,n,r,o,c;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,(n=t.contratoEmpresa).length>0&&(r=N()("1900","YYYY"),o={},n.forEach((function(e){var a=N()(e.fecha_fin);(a.isAfter(r)&&a.isAfter(N()())||null==e.fecha_fin)&&(o=e)})),c={new:!1},Object.keys(o).length>0&&(Object.keys(o).forEach((function(e){if(e.includes("fecha")){var a=N()(o[e]);c[e]=a,o[e]={value:a,verify:!0}}else"comision"===e?(c[e]=parseInt(100*o[e]),o[e]={value:parseInt(100*o[e]),verify:!0}):(c[e]=o[e],o[e]={value:o[e],verify:!0})})),re(o),he(c)));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:n,error_request:function(e){t.push("/server-error")}}),function(){return e=!1}}),[]),r.a.useEffect((function(){var e=W.colonia.value,a=z.razon_comercial.value+z.razon_social.value+z.rfc.value,t=N()(z.fecha_constitucion.value).format("DDMMYYYY"),n=W.municipio.value,r=W.entidad.value;if(""!==a&&""!==t&&""!==n&&""!==r){var o=a.split(" "),c=n.split(" "),i=(e+"GETCONSULTORIA").split(" "),l=((o.length<2?o[0].substring(0,4):o[0].substring(0,2)+o[1].substring(0,2))+r+(c.length<2?c[0].substring(0,2):c[0].charAt(0)+c[1].charAt(0))+(i.length<2?i[0].substring(0,2):i[0].charAt(0)+i[1].charAt(0))+t.substring(t.length,t.length-2)).toUpperCase();ie===l&&null!==ie||le(l)}}),[z.razon_social.value,z.rfc.value,z.razon_comercial.value,z.id_regimen_capital.value,z.fecha_constitucion.value,W.municipio.value,W.entidad.value,W.colonia.value]),r.a.createElement(r.a.Fragment,null,r.a.createElement($e.a,{className:a.root},r.a.createElement(Qe.a,{className:a.cardContent},r.a.createElement(Ie.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:r.a.createElement(Le.a,{className:a.subheader,component:"div",display:"block"},!p&&r.a.createElement(y.a,{className:Object(b.a)(a.back,Object(m.a)({},a.butonHide,p)),disabled:p,onClick:function(){t.goBack()}},r.a.createElement(Yt.a,null)),r.a.createElement(j.a,{className:a.title,variant:"button",gutterBottom:!0},"".concat(p?"":"Editando ")," empresa"),!p&&r.a.createElement(Ft,{onClick:function(){k(Object(q.a)(Object(q.a)({},C),{},{expandable:!C.expandable}))},open:C.expandable})),className:a.root},r.a.createElement(Ce.a,{className:a.header,button:!0,onClick:la.bind(this,0)},r.a.createElement(ke.a,null,r.a.createElement(Xe.a,null)),r.a.createElement(we.a,{primary:"Informacion"}),0===C.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:0===C.actual||C.expandable||p,timeout:"auto"},r.a.createElement(Ct,{setContrato:re,data:z,setData:Y,buttons:pa,expandable:C.expandable||p,edit:!1,onlySee:p})),r.a.createElement(Ce.a,{className:a.header,button:!0,onClick:la.bind(this,1)},r.a.createElement(ke.a,null,r.a.createElement(aa.a,null)),r.a.createElement(we.a,{primary:"Direcci\xf3n"}),1===C.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:1===C.actual||C.expandable||p,timeout:"auto"},r.a.createElement(ga,{data:W,setData:H,buttons:pa,expandable:C.expandable||p,edit:!1,onlySee:p})),r.a.createElement(Ce.a,{className:a.header,button:!0,onClick:la.bind(this,2)},r.a.createElement(ke.a,null,r.a.createElement(Ze.a,null)),r.a.createElement(we.a,{primary:"Contacto"}),2===C.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:2===C.actual||C.expandable||p,timeout:"auto"},r.a.createElement(St,{data:J,setData:Z,buttons:pa,expandable:C.expandable||p,phones:K,setPhones:ee,onlySee:p})),r.a.createElement(Ce.a,{className:a.header,button:!0,onClick:la.bind(this,3)},r.a.createElement(ke.a,null,r.a.createElement(Kt.a,null)),r.a.createElement(we.a,{primary:"Contrato"}),3===C.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:3===C.actual||C.expandable,timeout:"auto",unmountOnExit:!0},r.a.createElement($t,{registros:pe,setRegistros:de,setOldContrato:he,isInterna:z.es_interna.value,data:ne,setData:re,editable:!0,expandable:C.expandable,buttons:pa})),r.a.createElement(Ce.a,{className:a.header,button:!0,onClick:la.bind(this,4)},r.a.createElement(ke.a,null,r.a.createElement(X.a,null)),r.a.createElement(we.a,{primary:"Representante"}),4===C.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:4===C.actual||C.expandable||p,timeout:"auto"},r.a.createElement(pt,{data:qe,setData:Fe,phones:Ue,setPhones:Me,expandable:C.expandable||p,loading:A,edit:!1,buttons:pa,onlySee:p})))),r.a.createElement(ta.a,null,r.a.createElement(na.a,{container:!0},r.a.createElement(na.a,{item:!0,sm:6,container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(j.a,{style:{marginLeft:24},variant:"button",color:"initial"},"Identificador: ".concat(null===ie?"SIN ID":ie))),!p&&r.a.createElement(na.a,{item:!0,sm:6,container:!0,direction:"row",justify:"flex-end",alignItems:"center"},r.a.createElement("div",{className:a.wrapper},"A"===De.estatus?r.a.createElement(ra.a,{color:"secondary",className:a.delete,startIcon:r.a.createElement(Va.a,null),onClick:function(){return _({open:!0,type:"B"})}},"Eliminar"):r.a.createElement(ra.a,{color:"primary",style:{color:At.a[500],marginRight:5},startIcon:r.a.createElement(Pn.a,null),onClick:function(){return _({open:!0,type:"A"})}},"Activar Empresa"),"B"!==De.estatus&&r.a.createElement(ra.a,{variant:"contained",className:a.save,disabled:A,endIcon:r.a.createElement(Dt.a,null),onClick:pa.send},"Actualizar",A&&r.a.createElement(Tt.a,{size:24,className:a.buttonProgress}))))))),r.a.createElement(na.a,{container:!0,spacing:3},""!==z.rfc.value&&r.a.createElement(na.a,{item:!0,xs:12,sm:6,xl:4},r.a.createElement(Nn,{id:v,tipo:"empresa",onlySee:p})),pe.length>0&&"true"===z.es_interna.value&&r.a.createElement(na.a,{item:!0,xs:12,sm:6,xl:4},r.a.createElement(or,{idEmpresa:z.id_empresa.value,registrosPatronales:pe,onlySee:p})),""!==ne.id_contrato.value&&r.a.createElement(na.a,{item:!0,xs:12,sm:6,xl:4},r.a.createElement(Zn,{idContrato:ne.id_contrato.value,periodo:ne.periodo_calculo.value,onlySee:p}))),r.a.createElement(oa.a,{open:ea.open,autoHideDuration:5e3,onClose:ia},r.a.createElement(ur,{onClose:ia,severity:ea.severity},r.a.createElement(xa.a,null,ea.title),ea.message)),r.a.createElement(Ja.a,{open:g.open,TransitionComponent:sr,onClose:function(){return _({open:!1,type:""})}},r.a.createElement(Ka.a,null,"".concat("B"===g.type?"Eliminar":"Activar")),r.a.createElement($a.a,null,r.a.createElement(Qa.a,null,"Est\xe1 apunto de ","".concat("B"===g.type?"dar de baja":"activar")," a la empresa \xbfEst\xe1 seguro que desea continuar?")),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:function(){return _({open:!1,type:""})}},"Cancelar"),r.a.createElement(ra.a,{onClick:function(){pa.deleted(g.type),_({open:!1,type:""})},color:"secondary"},"".concat("B"===g.type?"Eliminar":"Activar")))),r.a.createElement(rn.a,{className:a.backdrop,open:I},r.a.createElement(Tt.a,{color:"inherit"})))})),dr=t(34),mr=t.n(dr),fr=t(245),vr=t.n(fr),hr=t(380),br=t.n(hr),Er=Object(Y.a)((function(e){var a;return{fullScreen:(a={},Object(m.a)(a,e.breakpoints.down("sm"),{marginLeft:"0px"}),Object(m.a)(a,e.breakpoints.up("md"),{marginLeft:"50%"}),a),appBar:{position:"relative",backgroundImage:"linear-gradient(45deg, #D84315, #F57C00)"},title:{marginLeft:e.spacing(2),flex:1},container:{padding:e.spacing(3),background:"#fafafa"}}})),gr=r.a.forwardRef((function(e,a){return r.a.createElement(Xa.a,Object.assign({direction:"left",ref:a},e))}));function _r(e){var a=e.open,t=e.setOpen,n=Er();return r.a.createElement(Ja.a,{className:n.fullScreen,fullScreen:!0,open:a,onClose:function(){return t(!1)},TransitionComponent:gr},r.a.createElement(v.a,{position:"fixed",className:n.appBar},r.a.createElement(x.a,null,r.a.createElement(y.a,{edge:"start",color:"inherit",onClick:function(){return t(!1)},"aria-label":"close"},r.a.createElement(A.a,null)),r.a.createElement(j.a,{variant:"h6",className:n.title},"Ver Empresa"))),r.a.createElement(na.a,{container:!0,className:n.container},r.a.createElement(pr,{id:e.data.id_empresa,onlySee:!0})))}var yr=t(183),xr=t.n(yr);function jr(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}var Or=r.a.forwardRef((function(e,a){return r.a.createElement(Xa.a,Object.assign({direction:"up",ref:a},e))}));function Cr(){var e=Object(n.useContext)(rt),a=e.permisos,t=e.rol,o=e.cabeceras,c=e.isTokenExpired,i=Object(d.g)(),l=Object(d.h)().tipo,s=r.a.useState([]),u=Object(f.a)(s,2),p=u[0],m=u[1],v=r.a.useState([]),h=Object(f.a)(v,2),b=h[0],E=h[1],g=r.a.useState([]),_=Object(f.a)(g,2),y=_[0],x=_[1],j=r.a.useState([]),O=Object(f.a)(j,2),C=O[0],k=O[1],w=r.a.useState(!1),S=Object(f.a)(w,2),A=S[0],D=S[1],T=r.a.useState(!0),R=Object(f.a)(T,2),I=R[0],L=R[1],P=r.a.useState(!1),F=Object(f.a)(P,2),z=F[0],Y=F[1],U=r.a.useState({}),M=Object(f.a)(U,2),B=M[0],W=M[1],H=r.a.useState({}),G=Object(f.a)(H,2),V=G[0],J=G[1],Z=r.a.useState({open:!1,message:"",severity:"",title:""}),$=Object(f.a)(Z,2),Q=$[0],K=$[1],X=r.a.useCallback((function(){var e=!0,n=function(){var n=Object(We.a)(Be.a.mark((function n(r){var o;return Be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.json();case 2:o=n.sent,e&&(a.length>0&&"G"===t&&(o.empresas=o.empresas.filter((function(e){return a.indexOf(e.id_empresa)>=0}))),E(o.empresas),0===o.empresas.length&&(L(!1),K({open:!0,message:"No existen registros de empresas",severity:"info",title:"Ningun registro encontrado"})));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),r=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,e&&x(n.giros);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),s=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,e&&k(n.regimenesCapitales);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),u=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,c(t)||void 0!==t.error&&500===t.error.httpCode&&i.push("/page-not-found");case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),p=function(e){i.push("/server-error")};if(e){L(!0),E([]),x([]),k([]),m([]),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/regimen"),headers:o,exito:s,fallo:u,error_request:p}),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/giro?query=id_giro-nombre_giro-descripcion"),headers:o,exito:r,fallo:u,error_request:p});var d=void 0!==l?"&es_interna=".concat(l):"";ua.get({url:"".concat(ua.BASE_URL,"/api/rh/empresa?query=").concat(ua.EMPRESA_ALL).concat(d),headers:o,exito:n,fallo:u,error_request:p})}return function(){return e=!1}}),[l]),ee=function(e,a){K(Object(q.a)(Object(q.a)({},Q),{},{open:!1}))};r.a.useEffect((function(){var e=!0;return e&&X(),function(){return e=!1}}),[X]),r.a.useEffect((function(){var e=!0,a={P:"Pendiente",A:"Activo",B:"Baja"};if(y.length>0&&C.length>0&&b.length>0&&0===p.length&&e){var t=Object(He.a)(b);t.forEach((function(e){e.fecha_constitucion=N()(e.fecha_constitucion).format("DD/MM/YYYY"),e.fecha_alta=N()(e.fecha_alta).format("DD/MM/YYYY"),e.es_interna=e.es_interna?"Interna":"Externa",e.id_regimen_capital=C.find((function(a){return a.id_regimen_capital===e.id_regimen_capital})).nombre_regimen,e.estatus=a[e.estatus],e.id_giro=y.find((function(a){return a.id_giro===e.id_giro})).nombre_giro,e.entidad=va(e.entidad)})),e&&(m(t),L(!1))}return function(){return e=!1}}),[y,C,b,p]);var ae=[{icon:function(){return r.a.createElement(xr.a,null)},tooltip:"Ver",onClick:function(e,a){W(a),Y(!0)}},{icon:function(){return r.a.createElement(vr.a,null)},tooltip:"Editar",onClick:function(e,a){return i.push("/nomina/edit-empresa/".concat(a.id_empresa))}},{icon:function(){return r.a.createElement(br.a,null)},tooltip:"Eliminar",onClick:function(e,a){D(!0),J(a)}},{icon:"refresh",tooltip:"Recargar",isFreeAction:!0,onClick:X}];return"R"===t&&ae.push({icon:"add",tooltip:"Agregar",isFreeAction:!0,onClick:function(e,a){return i.push("/nomina/nueva-empresa")}}),r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{localization:{header:{actions:"Acciones"},body:{emptyDataSourceMessage:"No hay registros que mostrar",editTooltip:"Editar",deleteTooltip:"Borrar",addTooltip:"A\xf1adir",editRow:{cancelTooltip:"Cancelar",saveTooltip:"Guardar",deleteText:"\xbfEst\xe1s seguro de eliminar esta empresa?"}},toolbar:{searchTooltip:"Buscar",searchPlaceholder:"Buscar",exportName:"Exportar como CSV",exportTitle:"Exportar",showColumnsTitle:"Columas",showColumnsAriaLabel:"Columnas",addRemoveColumns:"Agregar o remover columnas"},pagination:{firstTooltip:"Primera p\xe1gina",previousTooltip:"P\xe1gina anterior",nextTooltip:"Siguiente p\xe1gina",lastTooltip:"\xdaltima p\xe1gina",labelRowsSelect:"filas",labelDisplayedRows:"{from}-{to} a {count}"}},title:void 0!==l?"true"===l?"Empresas Internas":"Empresas Cliente":"Todas las Empresas",columns:[{title:"Identificador",field:"identificador",width:200,removable:!1,defaultSort:"asc"},{title:"Raz\xf3n Comercial.",field:"razon_comercial",width:200,removable:!1},{title:"R\xe9gimen Capital",field:"id_regimen_capital",width:180},{title:"Raz\xf3n Social.",field:"razon_social",hidden:!0,width:300},{title:"RFC",field:"rfc",width:150},{title:"Constituci\xf3n",field:"fecha_constitucion",width:150},{title:"Alta",field:"fecha_alta",width:150},{title:"Tipo",field:"es_interna",width:100},{title:"Estatus",field:"estatus",hidden:!0,width:150},{title:"Giro",field:"id_giro",hidden:!0,width:150},{title:"Calle",field:"calle",width:200},{title:"No.Ext",field:"no_exterior",width:100},{title:"No.Int",field:"no_interior",hidden:!0,width:100,emptyValue:"S/N"},{title:"C.P.",field:"cp",width:100},{title:"Colonia",field:"colonia",width:200},{title:"Municipio",field:"municipio",width:200},{title:"Entidad",field:"entidad",width:150},{title:"Correo",field:"correo",hidden:!0,width:250},{title:"",field:"id_empresa",hidden:!0,width:0,editable:"never",removable:!1}],data:p,actions:ae,options:{draggable:!1,columnsButton:!0,exportAllData:!0,exportButton:!0,pageSize:10,pageSizeOptions:[10,20,50,100],fixedColumns:{left:2},headerStyle:{fontWeight:"bold"}},isLoading:I}),r.a.createElement(Ja.a,{open:A,TransitionComponent:Or,onClose:function(){return D(!1)}},r.a.createElement(Ka.a,null,"Elimnar un registro"),r.a.createElement($a.a,null,r.a.createElement(Qa.a,null,"Est\xe1 apunto de elimiar a la empresa"," ".concat(V.razon_social," ").concat(V.id_regimen_capital," "))),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:function(){return D(!1)}},"Cancelar"),r.a.createElement(ra.a,{onClick:function(){var e=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,n,r,o,c,i;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,n=t.deleted,L(!1),n?(r=n.razon_comercial,o=n.rfc,K({open:!0,message:"La Empresa ".concat(r," ").concat(o," ha sido eliminada con exito"),severity:"success",title:"Eliminacion exitosa"}),X()):(c=n.razon_comercial,i=n.rfc,K({open:!0,message:"".concat(c," ").concat(i," ha ocurrido un error"),severity:"error",title:"Eliminacion fallida"}));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),a=function(){var e=Object(We.a)(Be.a.mark((function e(a){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(!1),K({open:!0,message:"La Empresa ".concat(V.razon_comercial," ").concat(V.rfc," no se puede eliminar, tiene elementos que dependen de esta"),severity:"info",title:"Eliminacion fallida!"});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();D(!1),L(!0),ua.deleted({url:"".concat(ua.BASE_URL,"/api/rh/empresa/").concat(V.id_empresa),headers:o,exito:e,fallo:a,error_request:function(){i.push("/server-error")}})},color:"secondary"},"Elimnar"))),r.a.createElement(_r,{open:z,setOpen:Y,data:B}),r.a.createElement(oa.a,{open:Q.open,autoHideDuration:6e3,onClose:ee},r.a.createElement(jr,{onClose:ee,severity:Q.severity},r.a.createElement(xa.a,null,Q.title),Q.message)))}var kr=t(384),wr=t.n(kr);function Sr(e,a,t,n,r){var o,c,i;return e=e.toUpperCase(),a=a.toUpperCase(),t=t.toUpperCase(),r=r.toUpperCase(),o=new RegExp(/^(DE |DEL |LO |LOS |LA |LAS )+/),c=new RegExp(/^(MARIA |JOSE )/),e=(e=(e=e.replace(o,"")).replace(c,"")).replace(o,""),a=a.replace(o,""),""===(t=t.replace(o,""))&&(t="X"),i=function(e){var a,t=new RegExp(/BUEI|BUEY|CACA|CACO|CAGA|CAGO|CAKA|CAKO|COGE|COJA|COJE|COJI|COJO|CULO|FETO|GUEY/),n=new RegExp(/JOTO|KACA|KACO|KAGA|KAGO|KOGE|KOJO|KAKA|KULO|LOCA|LOCO|MAME|MAMO|MEAR|MEAS|MEON/),r=new RegExp(/MION|MOCO|MULA|PEDA|PEDO|PENE|PUTA|PUTO|QULO|RATA|RUIN/);return e=e.substring(0,4),a=t.test(e)||n.test(e),(a=r.test(e)||a)?e.substring(0,1)+"X"+e.substring(2,4):e}(i=a.substring(0,1)+function(e){var a,t;for(a=1;a<e.length;a++)if(t=e.charAt(a),"AEIOU".indexOf(t)>=0)return t;return"X"}(a)+t.substring(0,1)+e.substring(0,2)),i+=n.substring(8,10)+n.substring(3,5)+n.substring(0,2),i+=r}var Ar=Object(Y.a)((function(e){return{container:{padding:e.spacing(4)},select:{textAlign:"left"},radioGroup:{marginTop:"15px"},uppercase:{textTransform:"uppercase"}}}));function Dr(e){var a=e.data,t=e.setData,n=e.nacionalidadades,o=e.expandable,c=e.buttons,i=e.onlySee,l=Ar(),s=r.a.useState([{title:"Casado",value:"C"},{title:"Soltero",value:"S"},{title:"Divorciado",value:"D"},{title:"Viudo",value:"V"},{title:"Indistinto",value:"I"}]),u=Object(f.a)(s,1)[0];r.a.useEffect((function(){var e=function(e){var a=e.toUpperCase();return a=(a=(a=(a=(a=a.replace("\xe1","a")).replace("\xe9","e")).replace("\xed","i")).replace("\xf3","o")).replace("\xfa","u")},n=e(a.nombre.value),r=e(a.primer_apellido.value),o=e(a.segundo_apellido.value),c=N()(a.fecha_nacimiento.value,"DD/MM/YYYY").format("DD/MM/YYYY"),i="M"===a.genero.value?"H":"M";if(n.length>0&&r.length>0&&o.length>0&&c.length>0&&i.length>0){var l=Sr(n,r,o,c,i).replace(/\s/g,"");18!==a.curp.value.length&&13!==a.rfc.value.length&&t((function(e){return Object(q.a)(Object(q.a)({},e),{},{curp:{value:l,verify:18==="".concat(l).length},rfc:{value:l.substring(0,l.length-1),verify:13==="".concat(l).length}})}))}}),[a.nombre.value,a.primer_apellido.value,a.segundo_apellido.value,a.fecha_nacimiento.value,a.genero.value]);var p=function(e){var n,r=e.target,o=r.name,c=r.value;switch(o){case"curp":n=18===c.replace(/\s/g,"").length;break;case"rfc":n=13===c.replace(/\s/g,"").length;break;default:n="".concat(e.target.value).length>0}t(Object(q.a)(Object(q.a)({},a),{},Object(m.a)({},o,{value:c,verify:n})))};return r.a.createElement(na.a,{container:!0,spacing:3,className:l.container},r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:i?12:3,lg:i?12:2},r.a.createElement(na.a,{container:!0,spacing:0},r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(j.a,{variant:"subtitle2",color:"initial",gutterBottom:!0,style:{textAlign:"center"}},"Foto Empleado")),r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(jt,{file:a.fileImg,url:a.url_foto.value,changeImg:function(e){t((function(a){return Object(q.a)(Object(q.a)({},a),{},{fileImg:e})}))},onlySee:i})))),r.a.createElement(na.a,{item:!0,xs:12,md:i?12:9,lg:i?12:10},r.a.createElement(na.a,{container:!0,spacing:2},r.a.createElement(na.a,{item:!0,sm:12},r.a.createElement(j.a,{variant:"subtitle2",style:{textAlign:"center"}},"General")),r.a.createElement(na.a,{item:!0,xs:12,sm:4,md:i?6:4,lg:6},r.a.createElement(ca.a,{disabled:i,required:!0,name:"nombre",variant:"outlined",error:""!==a.nombre.verify&&!a.nombre.verify,label:"Nombre",type:"text",fullWidth:!0,placeholder:"Ej. Juana",InputLabelProps:{shrink:!0},value:a.nombre.value,onChange:p,inputProps:{className:l.capitalize},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:4,md:i?6:4,lg:i?6:3},r.a.createElement(ca.a,{disabled:i,required:!0,variant:"outlined",name:"primer_apellido",label:"Primer Apellido",fullWidth:!0,type:"text",error:""!==a.primer_apellido.verify&&!a.primer_apellido.verify,placeholder:"Ej. P\xe9rez",InputLabelProps:{shrink:!0},value:a.primer_apellido.value,onChange:p,inputProps:{className:l.capitalize},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:4,md:i?6:4,lg:i?6:3},r.a.createElement(ca.a,{disabled:i,variant:"outlined",label:"Segundo Apellido",fullWidth:!0,type:"text",name:"segundo_apellido",error:""!==a.segundo_apellido.verify&&!a.segundo_apellido.verify,placeholder:"Ej. L\xf3pez",InputLabelProps:{shrink:!0},value:a.segundo_apellido.value,onChange:function(e){t((function(a){return Object(q.a)(Object(q.a)({},a),{},Object(m.a)({},e.target.name,{value:e.target.value,verify:!0}))}))},inputProps:{className:l.capitalize},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:3,md:i?3:2,lg:i?3:2},r.a.createElement(ca.a,{disabled:i,required:!0,fullWidth:!0,variant:"outlined",name:"genero",error:""!==a.genero.verify&&!a.genero.verify,label:"Sexo",select:!0,className:l.select,value:"".concat(""!==a.genero.value?a.genero.value:"DEFAULT"),onChange:p,InputLabelProps:{shrink:!0}},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Selecciona"),r.a.createElement(k.a,{value:"F"},"Femenino"),r.a.createElement(k.a,{value:"M"},"Masculino"),r.a.createElement(k.a,{value:"O"},"Otro"))),r.a.createElement(na.a,{item:!0,xs:12,sm:3,md:i?3:2,lg:i?3:2},r.a.createElement(ca.a,{disabled:i,required:!0,fullWidth:!0,variant:"outlined",name:"estado_civil",error:""!==a.estado_civil.verify&&!a.estado_civil.verify,label:"Estado Civil",select:!0,className:l.select,value:"".concat(u.length>0&&""!==a.estado_civil.value?a.estado_civil.value:"DEFAULT"),InputLabelProps:{shrink:!0},onChange:p},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Selecciona"),u.map((function(e){return r.a.createElement(k.a,{key:"estado-civil-".concat(e.value),value:e.value},e.title)})))),r.a.createElement(na.a,{item:!0,xs:12,sm:3,md:i?6:4,lg:i?6:4},r.a.createElement(bt.b,{disabled:i,inputVariant:"outlined",maxDateMessage:"La edad m\xednina de registro es 16 a\xf1os",minDateMessage:"Fecha es menor al m\xednimo permitido",invalidDateMessage:"Formato invalido",InputLabelProps:{shrink:!0},fullWidth:!0,required:!0,error:""!==a.fecha_nacimiento.verify&&!a.fecha_nacimiento.verify,placeholder:"Mes/D\xeda/A\xf1o",id:"fecha_nacimiento",label:"Nacimiento",format:"DD/MM/YYYY",value:""!==a.fecha_nacimiento.value?N()(a.fecha_nacimiento.value,"DD/MM/YYYY"):null,maxDate:N()().subtract(16,"year"),onChange:function(e){return function(e,a){if(null!==e){var n={value:e,verify:N()().subtract(16,"year").isAfter(e)};t((function(e){return Object(q.a)(Object(q.a)({},e),{},Object(m.a)({},a,n))}))}}(e,"fecha_nacimiento")},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:3,md:i?6:4,lg:i?6:4},r.a.createElement(ca.a,{required:!0,fullWidth:!0,variant:"outlined",name:"id_nacionalidad",disabled:i,label:"Pa\xeds Origen",error:""!==a.id_nacionalidad.verify&&!a.id_nacionalidad.verify,placeholder:"Selecciona",select:!0,className:l.select,value:"".concat(n.length>0&&""!==a.id_nacionalidad.value?a.id_nacionalidad.value:"DEFAULT"),InputLabelProps:{shrink:!0},onChange:p},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Selecciona"),n.map((function(e){return r.a.createElement(k.a,{key:"nacionalidad-".concat(e.id_nacionalidad),value:e.id_nacionalidad},e.pais_nac)})))),r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:6,lg:i?6:3},r.a.createElement(ca.a,{disabled:i,required:!0,variant:"outlined",name:"rfc",label:"RFC",fullWidth:!0,error:""!==a.rfc.verify&&!a.rfc.verify,placeholder:"Ej. ABCD010101M01",InputLabelProps:{shrink:!0},value:a.rfc.value,onChange:p,inputProps:{className:l.uppercase},InputProps:{inputComponent:Ia},helperText:"Completa el RFC",autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:6,lg:i?6:4},r.a.createElement(ca.a,{disabled:i,required:!0,variant:"outlined",name:"curp",label:"CURP",fullWidth:!0,error:""!==a.curp.verify&&!a.curp.verify,placeholder:"Ej. ABCD010101MEFGHI01",InputLabelProps:{shrink:!0},value:a.curp.value,onChange:p,inputProps:{className:l.uppercase},InputProps:{inputComponent:La},helperText:"Completa tu CURP",autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:4,md:i?6:4,lg:i?6:2},r.a.createElement(ca.a,{disabled:i,autoComplete:"off",required:!0,variant:"outlined",name:"no_imss",error:""!==a.no_imss.verify&&!a.no_imss.verify,label:"No. IMSS",fullWidth:!0,placeholder:"Ej. 01010101010",InputLabelProps:{shrink:!0},value:a.no_imss.value,onChange:p,inputProps:{className:l.uppercase},InputProps:{inputComponent:Da}})),r.a.createElement(na.a,{item:!0,xs:12,sm:4,md:i?6:4,lg:i?6:3},r.a.createElement(ca.a,{disabled:i,fullWidth:!0,required:!0,variant:"outlined",error:""!==a.entidad_labora.verify&&!a.entidad_labora.verify,label:"Entidad donde Labora",select:!0,name:"entidad_labora",className:l.select,value:"".concat(ha.length>0&&""!==a.entidad_labora.value?a.entidad_labora.value:"DEFAULT"),InputLabelProps:{shrink:!0},onChange:p},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Selecciona"),ha.map((function(e){return r.a.createElement(k.a,{key:"estados-fiscales-".concat(e.code),value:e.code},e.name)})))),!o&&r.a.createElement(na.a,{container:!0,item:!0,direction:"row",justify:"flex-end",alignItems:"flex-end",xs:12,sm:4,md:4,lg:12},r.a.createElement(ra.a,{variant:"outlined",color:"primary",endIcon:r.a.createElement(la.a,null),onClick:c.next},"Siguiente")))))}var Tr=t(1157),Rr=Object(Y.a)((function(e){return{container:{padding:e.spacing(4)},select:{textAlign:"left"},radioGroup:{marginTop:"15px"},uppercase:{textTransform:"uppercase"}}})),Ir=Object(Y.a)({root:{"&$disabled":{color:"rgba(0, 0, 0, 0.87)"}},disabled:{}},{name:"MuiInputBase"}),Nr=r.a.forwardRef((function(e,a){return r.a.createElement(Xa.a,Object.assign({direction:"up",ref:a},e))}));var Lr=Object(L.b)((function(e){var a=Rr();Ir();var t=Object(n.useContext)(rt),o=t.cabeceras,c=t.isTokenExpired,i=t.rol,l=t.permisos,s=e.editable,u=e.data,p=e.setData,d=e.onlySee,v=r.a.useState({}),h=Object(f.a)(v,2),b=h[0],E=h[1],g=r.a.useState({open:!1}),_=Object(f.a)(g,2),y=_[0],x=_[1],O=r.a.useState([]),C=Object(f.a)(O,2),w=C[0],S=C[1],D=[{title:"Alta",value:"A"},{title:"Reingreso",value:"R"},{title:"Taslado",value:"T"}],T=function(e){var a=e.target,t=a.name,n=a.value;p((function(e){return Object(q.a)(Object(q.a)({},e),{},Object(m.a)({},t,{value:n,verify:"".concat(n).length>0}))}))},R=function(a,t){var n=Object(q.a)({},u);n[a]={value:t,verify:t instanceof Object},"id_empresa_labora"===a&&null!==t&&e.setIdentificador(t.identificador+"-"),p(n)},I=function(e,a){if(null!==e){var t,n=u.fecha_contrato_externo.value,r=u.fecha_inicio_contrato.value;switch(a){case"fecha_contrato_externo":t=!(r instanceof N.a)||e.isSameOrBefore(r)&&e.isSameOrBefore(N()());break;case"fecha_inicio_contrato":t=!(n instanceof N.a)||e.isSameOrAfter(n)&&e.isSameOrBefore(N()());break;case"fecha_fin_contrato":t=!(r instanceof N.a)||e.isAfter(r)&&e.isAfter(N()())}p((function(n){return Object(q.a)(Object(q.a)({},n),{},Object(m.a)({},a,{value:e,verify:t}))}))}},L=function(){if(u.new)p(Object(q.a)(Object(q.a)({},b),{},{new:!1})),E({});else{E(Object(q.a)({},u));var e={};Object.keys(u).forEach((function(a){return e["".concat(a)]={value:"",verify:""}})),e.new=!0,p(Object(q.a)(Object(q.a)({},e),{},{motivo_contrato:{value:"A",verify:!0}}))}};return r.a.useEffect((function(){if(null!==u.id_empresa_pertenece.value){var e=u.id_empresa_pertenece.value.id_empresa;(function(){var a=Object(We.a)(Be.a.mark((function a(){var t,n,r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=8;break}return a.next=3,fetch("".concat(ua.BASE_URL,"/api/rh/empresa/registro_patronal?id_empresa=").concat(e),{headers:o});case 3:return t=a.sent,a.next=6,t.json();case 6:n=a.sent,c(n)||(r=n.registros,S(r));case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}}),[u]),r.a.createElement(na.a,{container:!0,spacing:4,className:a.container},r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(na.a,{container:!0,spacing:2},r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(j.a,{variant:"subtitle2",display:"block",style:{textAlign:"center"}},""===u.id_empresa_pertenece.value?"Sin Contrato":"Contrato")),r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:d?12:5,lg:d?12:5,xl:5},r.a.createElement(Tr.a,{disabled:s&&!u.new||d,loading:0===e.empresasInt.length,options:e.empresasInt,getOptionLabel:function(e){return e.razon_social},value:""!==u.id_empresa_pertenece.value&&e.empresasInt.length>0?u.id_empresa_pertenece.value:null,noOptionsText:"Sin coincidencias",onChange:function(e,a){return R("id_empresa_pertenece",a)},renderInput:function(e){return r.a.createElement(ca.a,Object.assign({},e,{InputLabelProps:{shrink:!0},placeholder:"Ej. Grupo Empresarial",label:"Empresa Pertenece",variant:"outlined",required:!0,error:""!==u.id_empresa_pertenece.verify&&!u.id_empresa_pertenece.verify}))}})),r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:d?12:5,lg:d?12:5,xl:5},r.a.createElement(Tr.a,{disabled:s&&!u.new||d,loading:0===e.empresasAll.length,options:"G"===i?e.empresasAll.filter((function(e){return l.some((function(a){return a===e.id_empresa}))})):e.empresasAll,getOptionLabel:function(e){return e.razon_social},value:""!==u.id_empresa_labora.value&&e.empresasAll.length>0?u.id_empresa_labora.value:null,noOptionsText:"Sin coincidencias",onChange:function(e,a){return R("id_empresa_labora",a)},renderInput:function(e){return r.a.createElement(ca.a,Object.assign({},e,{InputLabelProps:{shrink:!0},placeholder:"Ej. Grupo Empresarial",label:"Empresa Labora",variant:"outlined",required:!0,error:""!==u.id_empresa_labora.verify&&!u.id_empresa_labora.verify}))}})),r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:2,lg:d?4:2,xl:2},r.a.createElement(ca.a,{disabled:s&&!u.new||d,variant:"outlined",required:!0,fullWidth:!0,label:"Motivo",select:!0,name:"motivo_contrato",className:a.select,value:"".concat(D.length>0&&""!==u.motivo_contrato.value?u.motivo_contrato.value:"DEFAULT"),InputLabelProps:{shrink:!0},onChange:T,error:""!==u.motivo_contrato.verify&&!u.motivo_contrato.verify},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Selecciona"),D.map((function(e){return r.a.createElement(k.a,{key:"motivo_contrato-".concat(e.value),value:e.value},e.title)})))),r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:4,lg:4},r.a.createElement(bt.b,{disabled:s&&!u.new||d,inputVariant:"outlined",maxDateMessage:"Fecha es mayor al m\xe1ximo permitido",minDateMessage:"Fecha es menor al m\xednimo permitido",invalidDateMessage:"Formato invalido",InputLabelProps:{shrink:!0},fullWidth:!0,required:!0,error:""!==u.fecha_contrato_externo.verify&&!u.fecha_contrato_externo.verify,placeholder:"D\xeda/Mes/A\xf1o",id:"fecha_contrato_externo",label:"Antiguedad",format:"DD/MM/YYYY",value:""!==u.fecha_contrato_externo.value?N()(u.fecha_contrato_externo.value,"DD/MM/YYYY"):null,maxDate:N()(),onChange:function(e){return I(e,"fecha_contrato_externo")},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:4,lg:4},r.a.createElement(bt.b,{disabled:s&&!u.new||d,inputVariant:"outlined",maxDateMessage:"Fecha es mayor al m\xe1ximo permitido",minDateMessage:"Fecha es menor al m\xednimo permitido",invalidDateMessage:"Formato invalido",InputLabelProps:{shrink:!0},fullWidth:!0,required:!0,error:""!==u.fecha_inicio_contrato.verify&&!u.fecha_inicio_contrato.verify,placeholder:"D\xeda/Mes/A\xf1o",id:"fecha_inicio_contrato",label:"Inicio Contrato",format:"DD/MM/YYYY",value:u.fecha_inicio_contrato.value instanceof N.a?u.fecha_inicio_contrato.value:null,maxDate:N()(),onChange:function(e){return I(e,"fecha_inicio_contrato")},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:4,lg:4},r.a.createElement(bt.b,{disabled:s&&!u.new||d,inputVariant:"outlined",maxDateMessage:"Fecha es mayor al m\xe1ximo permitido",minDateMessage:"Fecha es menor al m\xednimo permitido",invalidDateMessage:"Formato invalido",InputLabelProps:{shrink:!0},fullWidth:!0,error:""!==u.fecha_fin_contrato.verify&&!u.fecha_fin_contrato.verify,placeholder:"D\xeda/Mes/A\xf1o",id:"fecha_fin_contrato",label:"Fin Contrato",format:"DD/MM/YYYY",value:""!==u.fecha_fin_contrato.value?N()(u.fecha_fin_contrato.value,"DD/MM/YYYY"):null,minDate:N()().add(1,"days"),onChange:function(e){return function(e,a){if(null!==e){var t={value:e.format("DD/MM/YYYY"),verify:e instanceof N.a&&!isNaN(e)&&e.isAfter(N()())};p((function(e){return Object(q.a)(Object(q.a)({},e),{},Object(m.a)({},a,t))}))}}(e,"fecha_fin_contrato")},autoComplete:"off"})))),r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:d?12:4,lg:d?12:4},r.a.createElement(na.a,{container:!0,spacing:2},r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(j.a,{variant:"subtitle2",display:"block",style:{textAlign:"center"}},"Fiscal")),r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:12,lg:12},r.a.createElement(ca.a,{disabled:s&&!u.new||d,fullWidth:!0,required:!0,variant:"outlined",error:""!==u.id_regimen_contratacion.verify&&!u.id_regimen_contratacion.verify,label:"Regimen Contrataci\xf3n",select:!0,name:"id_regimen_contratacion",className:a.select,value:"".concat(e.regimenContrato.length>0&&""!==u.id_regimen_contratacion.value?u.id_regimen_contratacion.value:"DEFAULT"),InputLabelProps:{shrink:!0},onChange:T},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Selecciona"),e.regimenContrato.map((function(e){return r.a.createElement(k.a,{key:"regimen-contratacion-".concat(e.id_regimen_contratacion),value:e.id_regimen_contratacion},e.regimen_contratacion)})))),r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:12,lg:12},r.a.createElement(ca.a,{disabled:s&&!u.new||d,fullWidth:!0,required:!0,variant:"outlined",error:""!==u.id_tipo_contrato.verify&&!u.id_tipo_contrato.verify,label:"Tipo Contrato",select:!0,name:"id_tipo_contrato",className:a.select,value:"".concat(e.tipoContrato.length>0&&""!==u.id_tipo_contrato.value?u.id_tipo_contrato.value:"DEFAULT"),InputLabelProps:{shrink:!0},onChange:T},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Selecciona"),e.tipoContrato.map((function(e){return r.a.createElement(k.a,{key:"tipo-contrato".concat(e.id_tipo_contrato),value:e.id_tipo_contrato},e.nombre_tipo_contrato)})))),r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:12,lg:12},r.a.createElement(ca.a,{disabled:s&&!u.new||d,fullWidth:!0,required:!0,variant:"outlined",error:""!==u.clave_patronal.verify&&!u.clave_patronal.verify,label:"Clave Patronal",select:!0,name:"clave_patronal",value:"".concat(w&&w.length>0&&""!==u.clave_patronal.value?u.clave_patronal.value:"DEFAULT"),InputLabelProps:{shrink:!0},onChange:T},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Selecciona"),w.map((function(e){return r.a.createElement(k.a,{key:"registro_patronal-".concat(e.clave_patronal),value:e.clave_patronal},"CL-".concat(e.categoria," ").concat(e.clave_patronal))})))))),r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:d?12:8,lg:d?12:8},r.a.createElement(na.a,{container:!0,spacing:2},r.a.createElement(na.a,{item:!0,xs:12,md:12,lg:12},r.a.createElement(j.a,{variant:"subtitle2",display:"block",style:{textAlign:"center"},color:"initial"},"Laboral")),r.a.createElement(na.a,{item:!0,xs:12,sm:6,lg:5},r.a.createElement(Tr.a,{disabled:s&&!u.new||d,loading:0===e.departamentos.length,options:e.departamentos,getOptionLabel:function(e){return e.nombre_departamento},value:""!==e.data.id_departamento.value&&e.departamentos.length>0?e.data.id_departamento.value:null,noOptionsText:"Sin coincidencias",onChange:function(e,a){return R("id_departamento",a)},renderInput:function(a){return r.a.createElement(ca.a,Object.assign({},a,{InputLabelProps:{shrink:!0},placeholder:"Ej. Recursos Humanos",label:"Departamento",variant:"outlined",required:!0,error:""!==e.data.id_departamento.verify&&!e.data.id_departamento.verify}))}})),r.a.createElement(na.a,{item:!0,xs:12,sm:6,lg:5},r.a.createElement(Tr.a,{disabled:s&&!u.new||d,loading:0===e.puestos.length,options:e.puestos,getOptionLabel:function(e){return e.nombre_puesto},value:""!==e.data.id_puesto.value&&e.puestos.length>0?e.data.id_puesto.value:null,noOptionsText:"Sin coincidencias",onChange:function(e,a){return R("id_puesto",a)},renderInput:function(a){return r.a.createElement(ca.a,Object.assign({},a,{InputLabelProps:{shrink:!0},placeholder:"Ej. Gerente",variant:"outlined",label:"Puesto",required:!0,error:""!==e.data.id_puesto.verify&&!e.data.id_puesto.verify}))}})),r.a.createElement(na.a,{item:!0,xs:12,sm:6,lg:2},r.a.createElement(ca.a,{required:!0,fullWidth:!0,disabled:s&&!u.new||d,variant:"outlined",label:"Jornada",select:!0,name:"id_jornada",value:"".concat(e.jornadas.length>0&&""!==e.data.id_jornada.value?e.data.id_jornada.value:"DEFAULT"),InputLabelProps:{shrink:!0},onChange:T,error:""!==e.data.id_jornada.verify&&!e.data.id_jornada.verify},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Selecciona"),e.jornadas.map((function(e){return r.a.createElement(k.a,{key:"jornadas-".concat(e.id_jornada),value:e.id_jornada},e.tipo)})))),r.a.createElement(na.a,{item:!0,xs:6,sm:6,lg:4},r.a.createElement(ca.a,{disabled:d,variant:"outlined",required:!0,label:"Salario Diario",fullWidth:!0,name:"salario_diario",placeholder:"Ej. $999.99",InputLabelProps:{shrink:!0},value:u.salario_diario.value,onChange:T,InputProps:{inputComponent:Ua,startAdornment:r.a.createElement(_a.a,{position:"start"},"$")},error:""!==u.salario_diario.verify&&!u.salario_diario.verify,autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:6,sm:6,lg:4},r.a.createElement(ca.a,{disabled:!0,variant:"outlined",label:"Salario Integral",fullWidth:!0,placeholder:"Ej. $999.99",InputLabelProps:{shrink:!0},InputProps:{inputComponent:Ua,startAdornment:r.a.createElement(_a.a,{position:"start"},"$")}})),r.a.createElement(na.a,{item:!0,xs:6,sm:6,lg:4},r.a.createElement(ca.a,{disabled:d,variant:"outlined",required:!0,label:"Salario Real",fullWidth:!0,name:"salario_capturado",placeholder:"Ej. $999.99",InputLabelProps:{shrink:!0},value:u.salario_capturado.value,InputProps:{inputComponent:Ua,startAdornment:r.a.createElement(_a.a,{position:"start"},"$")},error:""!==u.salario_capturado.verify&&!u.salario_capturado.verify,onChange:T,autoComplete:"off"})))),!e.expandable&&r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(na.a,{container:!0,item:!0,direction:"row",justify:"flex-end",alignItems:"center",xs:12,sm:12,md:12,lg:12},void 0!==u.id_contrato.value&&""!==u.id_contrato.value&&r.a.createElement(ra.a,{color:"secondary",startIcon:r.a.createElement(Ht.a,null),onClick:function(){return x({open:!0,tipo:"FIN"})}},"Terminar Contrato"),r.a.createElement(ra.a,{color:"primary",endIcon:u.new?r.a.createElement(A.a,null):r.a.createElement(Z.a,null),onClick:u.new?L:function(){return x({open:!0,tipo:"NEW"})}},"".concat(u.new?"Cancelar":"Nuevo Contrato"))),r.a.createElement(na.a,{container:!0,item:!0,direction:"row",justify:"flex-end",alignItems:"center",xs:12,sm:12,md:12,lg:12},r.a.createElement(ra.a,{startIcon:r.a.createElement(ia.a,null),onClick:e.buttons.back},"Anterior"))),r.a.createElement(Ja.a,{open:y.open,TransitionComponent:Nr,onClose:function(){return x({open:!1})}},r.a.createElement(Ka.a,null,"".concat("NEW"===y.tipo?"Nuevo":"Terminar"," Contrato")),r.a.createElement($a.a,null,r.a.createElement(Qa.a,null,"".concat("NEW"===y.tipo?"Est\xe1 apunto de crear un nuevo contrato, si existe un anterior este finalizar\xe1 con fecha de hoy":"El contrato finalizar\xe1 con fecha de hoy"," ").concat(N()().format("DD/MM/YYYY"),", "),"\xbfEst\xe1 seguro que desea continuar?")),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:function(){return x({open:!1})}},"Cancelar"),r.a.createElement(ra.a,{onClick:function(){"NEW"===y.tipo?L():ua.put({url:"".concat(ua.BASE_URL,"/api/rh/empleado/contrato/").concat(u.id_contrato.value),headers:o,data:{fecha_fin_contrato:N()().format("YYYY/MM/DD")},exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.enqueueSnackbar("Contrato terminado",{variant:"success",preventDuplicate:!0}),n={},r={},Object.keys(u).forEach((function(e){n[e]={value:"",verify:""},r[e]=""})),n.new=!1,p(Object(q.a)(Object(q.a)({},n),{},{motivo_contrato:{value:"A",verify:!0}})),e.setOldData(r),e.setIdentificador(null);case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,c(n)||e.enqueueSnackbar("Ha ocurrido un error",{variant:"error",preventDuplicate:!0});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),error_request:function(){var e=Object(We.a)(Be.a.mark((function e(a){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,a.json();case 3:return e.t1=e.sent,e.abrupt("return",e.t0.log.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}),x({open:!1})},color:"secondary"},"Continuar"))))})),Pr=Object(Y.a)((function(e){return{container:{padding:e.spacing(4)},uppercase:{textTransform:"uppercase"},capitalize:{textTransform:"capitalize"}}}));function qr(e){var a=e.data,t=e.setData,n=e.onlySee,o=Pr(),c=function(e){var a=e.target,n=a.name,r=a.value;t((function(e){return Object(q.a)(Object(q.a)({},e),{},Object(m.a)({},n,{value:r,verify:!0}))}))};return r.a.createElement(na.a,{container:!0,spacing:3,className:o.container},r.a.createElement(na.a,{item:!0,xs:12,sm:6,lg:n?6:3},r.a.createElement(ca.a,{disabled:n,variant:"outlined",label:"No. Cuenta",fullWidth:!0,placeholder:"Ej. 010 010 1010",InputLabelProps:{shrink:!0},value:a.no_cuenta.value,name:"no_cuenta",InputProps:{inputComponent:Aa},onChange:c,error:""!==a.no_cuenta.verify&&!a.no_cuenta.verify,autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:6,lg:n?6:3},r.a.createElement(ca.a,{disabled:n,variant:"outlined",label:"No. Tarjeta",fullWidth:!0,name:"no_tarjeta",placeholder:"Ej. 0101 0101 0101 0101",InputLabelProps:{shrink:!0},value:a.no_tarjeta.value,onChange:c,InputProps:{inputComponent:Ta},error:""!==a.no_tarjeta.verify&&!a.no_tarjeta.verify,autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:6,lg:n?6:4},r.a.createElement(ca.a,{disabled:n,variant:"outlined",label:"CLABE",fullWidth:!0,placeholder:"Ej. 565 656 56565656565 6",InputLabelProps:{shrink:!0},name:"clabe",value:a.clabe.value,onChange:c,InputProps:{inputComponent:Ra},error:""!==a.clabe.verify&&!a.clabe.verify,autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:6,lg:n?6:2},r.a.createElement(ca.a,{disabled:n,variant:"outlined",fullWidth:!0,label:"Banco",select:!0,name:"id_banco",className:o.select,value:"".concat(""!==a.id_banco.value?a.id_banco.value:"DEFAULT"),error:""!==a.id_banco.verify&&!a.id_banco.verify,onChange:c},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Selecciona"),e.bancos.map((function(e){return r.a.createElement(k.a,{key:"banco-".concat(e.id_banco),value:e.id_banco},e.nombre_banco)})))),!e.expandable&&r.a.createElement(na.a,{container:!0,item:!0,direction:"row",justify:"flex-end",alignItems:"center",xs:12,sm:12,md:12,lg:12},r.a.createElement(ra.a,{startIcon:r.a.createElement(ia.a,null),onClick:e.buttons.back},"Anterior"),r.a.createElement(ra.a,{variant:"outlined",color:"primary",endIcon:r.a.createElement(la.a,null),onClick:e.buttons.next},"Siguiente")))}var Fr=t(658),zr=["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"];function Yr(e){var a=r.a.useState([].concat(zr)),t=Object(f.a)(a,2),n=t[0],o=t[1],c=r.a.useState([].concat(zr)),i=Object(f.a)(c,2),l=i[0],s=i[1],u=e.onlySee;return r.a.createElement(na.a,{container:!0,spacing:1},r.a.createElement(na.a,{item:!0,xs:4,sm:4},r.a.createElement(dt.a,{fullWidth:!0},r.a.createElement(vt.a,{disabled:u,control:r.a.createElement(Fr.a,{checked:e.data.checked,color:"secondary",style:{marginLeft:10},onClick:function(){return e.onChangeDisabled(e.position)}}),label:r.a.createElement(j.a,{variant:"body2",color:"initial"},e.data.dia_semana)}))),r.a.createElement(na.a,{item:!0,xs:4,sm:4},r.a.createElement(ca.a,{fullWidth:!0,variant:"outlined",disabled:!e.data.checked||u,select:!0,size:"small",InputLabelProps:{shrink:!0},value:"".concat(e.data.hora_entrada!==e.data.hora_salida&&void 0!==n.find((function(a){return a===e.data.hora_entrada}))?e.data.hora_entrada:"DEFAULT"),onChange:function(a){!function(a){var t=a.target.value.split(":")[0],n=zr.filter((function(e){return t<parseInt(e.split(":")[0])}));e.onChange(e.position,"hora_entrada",a,n[0]),s(n)}(a)}},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Hora"),n.map((function(e){return r.a.createElement(k.a,{key:"hora-entrada-".concat(e.split(":")[0]),value:e},e)})))),r.a.createElement(na.a,{item:!0,xs:4,sm:4},r.a.createElement(ca.a,{fullWidth:!0,variant:"outlined",disabled:!e.data.checked||u,select:!0,size:"small",InputLabelProps:{shrink:!0},value:"".concat(e.data.hora_entrada!==e.data.hora_salida&&void 0!==l.find((function(a){return a===e.data.hora_salida}))?e.data.hora_salida:"DEFAULT"),onChange:function(a){!function(a){e.onChange(e.position,"hora_salida",a);var t=a.target.value.split(":")[0],n=zr.filter((function(e){return t>parseInt(e.split(":")[0])}));o(n)}(a)}},r.a.createElement(k.a,{value:"DEFAULT",disabled:!0},"Hora"),l.map((function(e){return r.a.createElement(k.a,{key:"hora-salida-".concat(e.split(":")[0]),value:e},e)})))))}var Ur=t(1153);function Mr(e){var a=r.a.useState(!1),t=Object(f.a)(a,2),n=t[0],o=t[1],c=e.onlySee,i=function(a,t,r){var o=Object(He.a)(e.horario);"hora_entrada"===t?o[a].hora_entrada=r.target.value:o[a].hora_salida=r.target.value,n&&s(o)},l=function(a){var t=Object(He.a)(e.horario);t[a].checked=!t[a].checked,t[a].checked?n&&t[a].checked&&s(t):(t[a].hora_entrada="00:00",t[a].hora_salida="00:00"),e.setHorario(t)},s=function(a){var t=a.find((function(e){return e.checked}));void 0!==t&&a.forEach((function(e){e.checked&&(e.hora_salida=t.hora_salida,e.hora_entrada=t.hora_entrada)})),e.setHorario(a)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(na.a,{container:!0,item:!0,xs:12,md:12,lg:12},r.a.createElement(na.a,{container:!0,spacing:1},r.a.createElement(na.a,{item:!0,xs:4},r.a.createElement(j.a,{variant:"body2",color:"initial",display:"block",style:{textAlign:"center"}},"D\xeda")),r.a.createElement(na.a,{item:!0,xs:4},r.a.createElement(j.a,{variant:"body2",color:"initial",display:"block",style:{textAlign:"center"}},"Entrada")),r.a.createElement(na.a,{item:!0,xs:4},r.a.createElement(j.a,{variant:"body2",color:"initial",display:"block",style:{textAlign:"center"}},"Salida")))),e.horario.map((function(e,a){return r.a.createElement(na.a,{key:"dia-semana-".concat(e.dia_semana),item:!0,xs:12,md:12,lg:12},r.a.createElement(Yr,{data:e,position:a,onChange:i,onChangeDisabled:l,onlySee:c}))})),r.a.createElement(na.a,{container:!0,item:!0,xs:12,md:12,lg:12},r.a.createElement(na.a,{container:!0,spacing:2},r.a.createElement(na.a,{item:!0,xs:12,md:12,lg:12,container:!0,direction:"row",justify:"flex-end",alignItems:"center"},r.a.createElement(vt.a,{disabled:c,value:"start",control:r.a.createElement(Ur.a,{color:"secondary",onChange:function(a){a.target.checked?(o(a.target.checked),s(Object(He.a)(e.horario))):o(a.target.checked)}}),label:r.a.createElement(j.a,{variant:"subtitle2",color:"initial"},"Replicar para todos"),labelPlacement:"start"})))))}var Br=Object(Y.a)((function(e){return{container:{padding:e.spacing(4)}}}));function Wr(e){var a=Br(),t=e.onlySee;return r.a.createElement(na.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3,className:a.container},r.a.createElement(na.a,{item:!0,xs:12,md:t?10:6,lg:t?10:6,xl:t?8:6},r.a.createElement(j.a,{variant:"subtitle2",display:"block",style:{textAlign:"center"},color:"initial",gutterBottom:!0},"Dias Laborales"),r.a.createElement(Mr,{horario:e.horario,setHorario:e.setHorario,onlySee:t})),!e.expandable&&r.a.createElement(na.a,{container:!0,item:!0,direction:"row",justify:"flex-end",alignItems:"center",xs:12,sm:12,md:12,lg:12},r.a.createElement(ra.a,{startIcon:r.a.createElement(ia.a,null),onClick:e.buttons.back},"Anterior"),r.a.createElement(ra.a,{variant:"outlined",color:"primary",endIcon:r.a.createElement(la.a,null),onClick:e.buttons.next},"Siguiente")))}var Hr=t(383),Gr=t.n(Hr),Vr=t(382),Jr=t.n(Vr),Zr=t(385),$r=t.n(Zr),Qr=t(381),Kr=t.n(Qr),Xr=Object(Y.a)((function(e){return{container:{padding:e.spacing(4)}}}));function eo(e){var a=Xr(),t=e.infonavit,n=e.setInfonavit,o=e.fonacot,c=e.setFonacot,i=e.onlySee,l=function(e,a){var t=e.target,n=t.name,r=t.value,i=Object(He.a)(o);i[a][n]=r,i[a].verify=!0,c(i)},s=function(e){var a,r=e.target,o=r.name,c=r.value;n(Object(q.a)(Object(q.a)({},t),{},(a={},Object(m.a)(a,o,c),Object(m.a)(a,"verify",!0),a)))};return r.a.createElement(na.a,{container:!0,spacing:4,className:a.container},r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:i?12:4,lg:i?12:5},r.a.createElement(na.a,{container:!0,spacing:2},r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(j.a,{variant:"subtitle2",display:"block",style:{textAlign:"center"}},"Fonacot")),o.map((function(e,a){return r.a.createElement(na.a,{key:"correo-extra-empleado-".concat(a+1),item:!0,xs:12,md:12,lg:12},r.a.createElement(na.a,{container:!0,spacing:2},r.a.createElement(na.a,{item:!0,xs:7,sm:7,md:7,lg:7},r.a.createElement(ca.a,{disabled:i,variant:"outlined",label:"Credito Fonacot".concat(0!==a?" "+(a+1):""),fullWidth:!0,name:"numero_credito",onChange:function(e){return l(e,a)},value:o[a].numero_credito,placeholder:"Ej. 000 11 00 111",InputLabelProps:{shrink:!0},InputProps:{inputComponent:Pa},error:""!==o[a].verify&&!o[a].verify,helperText:"".concat(""!==o[a].verify?o[a].verify?"":"Rellena los campos restantes":""),autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:5,sm:5,md:5,lg:5},r.a.createElement(ca.a,{disabled:i,fullWidth:!0,variant:"outlined",label:"Cuota Fija".concat(0!==a?" "+(a+1):""),name:"cuota_fija",onChange:function(e){return l(e,a)},value:o[a].cuota_fija,error:""!==o[a].verify&&!o[a].verify,InputLabelProps:{shrink:!0},placeholder:"Ej. 760.00",autoComplete:"off",InputProps:{startAdornment:r.a.createElement(_a.a,{position:"start"},"$"),inputComponent:Ua,endAdornment:r.a.createElement(r.a.Fragment,null,0!==a&&r.a.createElement(_a.a,null,!i&&r.a.createElement(y.a,{size:"small",onClick:function(){return function(e){var a=Object(He.a)(o);a.splice(e,1),c(a)}(a)}},r.a.createElement(Va.a,{fontSize:"small"}))))}}))))})),!i&&o.length<5&&r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:12,lg:12,container:!0,direction:"row",justify:"flex-end",alignItems:"center"},r.a.createElement(ra.a,{size:"small",color:"primary",onClick:function(){if(o.length<5){var e=Object(He.a)(o);e.push({numero_credito:"",cuota_fija:"",verify:"",tipo:o.length}),c(e)}},startIcon:r.a.createElement(Kr.a,null)},"Agregar")))),r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:i?12:8,lg:i?12:7},r.a.createElement(na.a,{container:!0,spacing:2},r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(j.a,{variant:"subtitle2",display:"block",style:{textAlign:"center"}},"Infonavit")),r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:i?12:5,lg:5},r.a.createElement(ca.a,{disabled:i,variant:"outlined",fullWidth:!0,label:"Credito Infonavit",InputLabelProps:{shrink:!0},placeholder:"Ej. 001 12 12 000",value:t.numero_credito,name:"numero_credito",onChange:s,helperText:"".concat(""!==t.verify?t.verify?"":"Rellena los campos restantes":""),error:""!==t.verify&&!t.verify,InputProps:{inputComponent:Pa},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:4,sm:2,md:i?4:2,lg:2},r.a.createElement(ca.a,{disabled:i,variant:"outlined",fullWidth:!0,label:"% Desc.",InputLabelProps:{shrink:!0},placeholder:"Ej. 12",name:"porcentaje_descuento",value:t.porcentaje_descuento,onChange:s,error:""!==t.verify&&!t.verify,InputProps:{endAdornment:r.a.createElement(_a.a,{position:"end"},"%"),inputComponent:za},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:4,sm:2,md:i?4:2,lg:2},r.a.createElement(ca.a,{disabled:i,variant:"outlined",fullWidth:!0,label:"Fac. Desc.",InputLabelProps:{shrink:!0},placeholder:"Ej. 10",name:"factor_descuento",value:t.factor_descuento,error:""!==t.verify&&!t.verify,onChange:s,InputProps:{endAdornment:r.a.createElement(_a.a,{position:"end"},"%"),inputComponent:za},autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:4,sm:2,md:i?4:3,lg:3},r.a.createElement(ca.a,{disabled:i,variant:"outlined",fullWidth:!0,label:"Cuota Fija",InputLabelProps:{shrink:!0},placeholder:"Ej. 760.00",name:"cuota_fija",onChange:s,value:t.cuota_fija,error:""!==t.verify&&!t.verify,InputProps:{startAdornment:r.a.createElement(_a.a,{position:"start"},"$"),inputComponent:Ua}})),!e.expandable&&r.a.createElement(na.a,{container:!0,item:!0,direction:"row",justify:"flex-end",alignItems:"center",xs:12,sm:12,md:12,lg:12},r.a.createElement(ra.a,{startIcon:r.a.createElement(ia.a,null),onClick:e.buttons.back},"Anterior"),r.a.createElement(ra.a,{variant:"outlined",color:"primary",endIcon:r.a.createElement(la.a,null),onClick:e.buttons.next},"Siguiente")))))}var ao=t(684),to=t.n(ao),no=r.a.forwardRef((function(e,a){return r.a.createElement(Xa.a,Object.assign({direction:"up",ref:a},e))})),ro=Object(Y.a)((function(e){return{container:{padding:e.spacing(4)}}}));function oo(e){var a=r.a.useState({open:!1,type:"",value:"",pos:""}),t=Object(f.a)(a,2),n=t[0],o=t[1],c=ro(),i=e.phones,l=e.setPhones,s=e.correos,u=e.setCorreos,p=e.onlySee,d=function(e,a){var t=a.target,n=t.value,r=t.name,o=Object(He.a)(i);o[e].value=n,o[e].tipo=r;var c=m(e,Object(He.a)(o));o[e].verify=!(n.length>0)||c,o[e].helperText=n.length>0&&!c?"Repetido":"",o.forEach((function(e,a){m(a,Object(He.a)(o))&&(e.helperText="",e.verify=!0)})),l(o)},m=function(e,a){var t=a.filter((function(t){return t.value===a[e].value}));return 1===t.length},v=function(e,a){var t=a.target,n=t.value,r=t.name,o=Object(He.a)(s);o[e].value=n,o[e].tipo_correo=r;var c=m(e,Object(He.a)(o));o[e].verify=!(n.length>0)||c,o[e].helperText=n.length>0&&!c?"Repetido":"",o.forEach((function(e,a){m(a,Object(He.a)(o))&&(e.helperText="",e.verify=!0)})),u(o)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(na.a,{container:!0,spacing:3,className:c.container},r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:p?12:6,lg:p?12:6},r.a.createElement(na.a,{container:!0,spacing:2},r.a.createElement(na.a,{item:!0,xs:12,md:12,lg:12},r.a.createElement(j.a,{variant:"subtitle2",style:{textAlign:"center"}},"Correos")),r.a.createElement(na.a,{item:!0,xs:12,sm:p?12:6,md:p?12:6,lg:6},r.a.createElement(ca.a,{disabled:p,variant:"outlined",label:"Correo Personal",fullWidth:!0,name:"P",placeholder:"Ej. ejemplo1@ejemplo.com",InputLabelProps:{shrink:!0},value:s[0].value,onChange:function(e){return v(0,e)},error:""!==s[0].verify&&!s[0].verify,InputProps:{inputComponent:qa},helperText:s[0].helperText,autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:12,sm:p?12:6,md:p?12:6,lg:6},r.a.createElement(ca.a,{disabled:p,variant:"outlined",label:"Correo Laboral",fullWidth:!0,name:"E",placeholder:"Ej. ejemplo2@ejemplo.com",InputLabelProps:{shrink:!0},value:s[1].value,onChange:function(e){return v(1,e)},error:""!==s[1].verify&&!s[1].verify,InputProps:{inputComponent:qa},helperText:s[1].helperText,autoComplete:"off"})),function(){var e=Object(He.a)(s);return e.splice(0,2),e.map((function(e,a){return r.a.createElement(na.a,{key:"correo-extra-empleado-".concat(a+1),item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(ca.a,{disabled:p,variant:"outlined",name:"".concat(a+1),label:"Correo. Extra ".concat(a+1),fullWidth:!0,placeholder:"Ej. extra".concat(a+1,"@ejemplo.com"),InputLabelProps:{shrink:!0},value:e.value,error:""!==e.verify&&!e.verify,helperText:e.helperText,onChange:function(e){return v(a+2,e)},InputProps:{inputComponent:qa,endAdornment:r.a.createElement(_a.a,{position:"end"},!p&&r.a.createElement(y.a,{"aria-label":"delete",onClick:function(){return function(e){var a=Object(He.a)(s),t=a.splice(e,1)[0];0===t.value.replace(/\s/g,"").length?u(a):o({open:!0,type:"C",value:t.value,pos:e})}(a+2)}},r.a.createElement(Va.a,null)))}}))}))}(),!p&&r.a.createElement(na.a,{item:!0,xs:12,md:12,lg:12},r.a.createElement(na.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-end"},r.a.createElement(ra.a,{color:"primary",onClick:function(){var e=Object(He.a)(s);e.push({value:"",verify:"",tipo_correo:"".concat(e.length-2),helperText:""}),u(e)},startIcon:r.a.createElement(to.a,null)},"Agregar"))))),r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:p?12:6,lg:p?12:6},r.a.createElement(na.a,{container:!0,spacing:2},r.a.createElement(na.a,{item:!0,xs:12,md:12,lg:12},r.a.createElement(j.a,{variant:"subtitle2",style:{textAlign:"center"}},"Tel\xe9fonos")),r.a.createElement(na.a,{item:!0,xs:6,md:6,lg:6},r.a.createElement(ca.a,{disabled:p,variant:"outlined",name:"C",label:"Tel. Celular",fullWidth:!0,placeholder:"Ej. 111 222 3344",InputLabelProps:{shrink:!0},value:i[0].value,onChange:function(e){return d(0,e)},InputProps:{inputComponent:Pa},error:""!==i[0].verify&&!i[0].verify,helperText:i[0].helperText,autoComplete:"off"})),r.a.createElement(na.a,{item:!0,xs:6,md:6,lg:6},r.a.createElement(ca.a,{disabled:p,variant:"outlined",name:"F",label:"Tel. Fijo",fullWidth:!0,placeholder:"Ej. 111 222 3344",InputLabelProps:{shrink:!0},value:i[1].value,onChange:function(e){return d(1,e)},InputProps:{inputComponent:Pa},error:""!==i[1].verify&&!i[1].verify,helperText:i[1].helperText,autoComplete:"off"})),function(){var e=Object(He.a)(i);return e.splice(0,2),e.map((function(e,a){return r.a.createElement(na.a,{key:"telefono-extra-empleado-".concat(a+1),item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(ca.a,{disabled:p,variant:"outlined",name:"".concat(a+1),required:!0,label:"Tel. Extra ".concat(a+1),fullWidth:!0,placeholder:"Ej. 111 222 3344",InputLabelProps:{shrink:!0},value:e.value,onChange:function(e){return d(a+2,e)},error:""!==e.verify&&!e.verify,helperText:e.helperText,InputProps:{inputComponent:Pa,endAdornment:r.a.createElement(_a.a,{position:"end"},!p&&r.a.createElement(y.a,{"aria-label":"delete",onClick:function(){return function(e){var a=Object(He.a)(i),t=a.splice(e,1)[0];0===t.value.replace(/\s/g,"").length?l(a):o({open:!0,type:"T",value:t.value,pos:e})}(a+2)}},r.a.createElement(Va.a,null)))}}))}))}(),!p&&r.a.createElement(na.a,{item:!0,xs:12,md:12,lg:12},r.a.createElement(na.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-end"},r.a.createElement(ra.a,{color:"primary",onClick:function(){var e=Object(He.a)(i);e.push({value:"",verify:"",tipo:"".concat(e.length-2),helperText:""}),l(e)},startIcon:r.a.createElement(Ha.a,null)},"Agregar"))))),!e.expandable&&r.a.createElement(na.a,{container:!0,item:!0,direction:"row",justify:"flex-end",alignItems:"center",xs:12,sm:12,md:12,lg:12},r.a.createElement(ra.a,{startIcon:r.a.createElement(ia.a,null),onClick:e.buttons.back},"Anterior"),r.a.createElement(ra.a,{variant:"outlined",color:"primary",endIcon:r.a.createElement(la.a,null),onClick:e.buttons.next},"Siguiente"))),r.a.createElement(Ja.a,{open:n.open,TransitionComponent:no,onClose:function(){return o({open:!1})}},r.a.createElement(Ka.a,null,"Eliminar ".concat("T"===n.type?"tel\xe9fono":"correo")),r.a.createElement($a.a,null,r.a.createElement(Qa.a,null,"Est\xe1 apunto de eliminar el ".concat("T"===n.type?"tel\xe9fono":"correo"," ").concat(n.value)),r.a.createElement(Qa.a,null,"\xbfEst\xe1 seguro que desea continuar?")),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:function(){return o({open:!1})}},"Cancelar"),r.a.createElement(ra.a,{onClick:function(){!function(e){var a=e.type,t=e.pos;if("T"===a){var n=Object(He.a)(i);n.splice(t,1),l(n)}else{var r=Object(He.a)(s);r.splice(t,1),u(r)}}(Object(q.a)({},n)),o({open:!1})},color:"secondary"},"Eliminar"))))}var co=t(685),io=t.n(co),lo=t(102),so=t.n(lo),uo=t(234),po=Object(Gn.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,minHeight:"60px"},paper:{padding:e.spacing(3)},title:{textAlign:"center",paddingTop:"15px"}}}));function mo(e){var a=e.id,t=po(),o=Object(n.useState)(),c=Object(f.a)(o,2),i=c[0],l=c[1],s=Object(n.useContext)(rt),u=s.cabeceras,p=s.isTokenExpired;Object(n.useEffect)((function(){fetch("".concat(sa,"/api/rh/empleado/contrato?query=fecha_inicio_contrato-fecha_fin_contrato-salario_diario-salario_capturado&id_empleado=").concat(a),{method:"GET",headers:u}).then((function(e){return e.json()})).then((function(e){if(!p(e)&&e.credito){var a=e.credito.map((function(e){return e.finished=N.a.utc(e.fecha_fin_contrato).isBefore(N.a.utc())||null,e}));l(a)}}))}),[a]);return r.a.createElement(cn.a,{className:t.root,elevation:2},r.a.createElement(j.a,{className:t.title,variant:"button",display:"block",gutterBottom:!0},"Historial de Contratos"),r.a.createElement(zn.a,null,r.a.createElement(Yn.a,null,r.a.createElement(Un.a,null,r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,{align:"center"},"Inicio"),r.a.createElement(Bn.a,{align:"center"},"Fin"),r.a.createElement(Bn.a,{align:"center"},"$ Diario"),r.a.createElement(Bn.a,{align:"center"},"$ Capturado"),r.a.createElement(Bn.a,{align:"center"},"Estado"))),r.a.createElement(Wn.a,null,Array.isArray(i)?i.map((function(e,a){return r.a.createElement(Mn.a,{key:"contrato-element-".concat(a)},r.a.createElement(Bn.a,{align:"center"},N.a.utc(e.fecha_inicio_contrato).format("DD/MM/YYYY")),r.a.createElement(Bn.a,{align:"center"},null===(t=e.fecha_fin_contrato)?"Indeterminado":N.a.utc(t).format("DD/MM/YYYY")),r.a.createElement(Bn.a,{align:"center"},"$",e.salario_diario),r.a.createElement(Bn.a,{align:"center"},"$",e.salario_capturado),r.a.createElement(Bn.a,{align:"center"},e.finished?r.a.createElement(io.a,{style:{color:uo.a[400]}}):r.a.createElement(so.a,{style:{color:At.a[400]}})));var t})):r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,{align:"center"},r.a.createElement(ln.a,{variant:"text"})),r.a.createElement(Bn.a,{align:"center"},r.a.createElement(ln.a,{variant:"text"})),r.a.createElement(Bn.a,{align:"center"},r.a.createElement(ln.a,{variant:"text"})),r.a.createElement(Bn.a,{align:"center"},r.a.createElement(ln.a,{variant:"text"})))))))}var fo=t(686),vo=t.n(fo),ho=Object(Gn.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,minHeight:"60px"},paper:{padding:e.spacing(3)},title:{textAlign:"center",paddingTop:"15px"}}}));function bo(e){var a=e.id,t=e.empresas,o=ho(),c=Object(n.useContext)(rt),i=c.cabeceras,l=c.isTokenExpired,s=Object(n.useState)(),u=Object(f.a)(s,2),p=u[0],d=u[1],m=Object(n.useState)(!1),v=Object(f.a)(m,2),h=v[0],b=v[1],E=function(){var e=Object(We.a)(Be.a.mark((function e(){var t,n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(sa,"/api/rh/empleado/permisos?e.id_empleado=").concat(a),{method:"GET",headers:i});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,l(n)||d(n.permisos);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){E()}),[]),r.a.createElement(cn.a,{className:o.root,elevation:2},r.a.createElement(j.a,{className:o.title,variant:"button",display:"block",gutterBottom:!0},"Permisos del Empleado"),p?p.length>0?r.a.createElement(go,{id:a,empresas:t,permisos:p,refresh:E,add:function(){return b(!0)}}):r.a.createElement(na.a,{container:!0,spacing:2,style:{padding:15}},r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(na.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center"},r.a.createElement(na.a,{item:!0},r.a.createElement(vo.a,{style:{fontSize:100,opacity:.3}})),r.a.createElement(na.a,{item:!0},r.a.createElement(j.a,{variant:"h6",gutterBottom:!0},"Sin permisos!")),r.a.createElement(na.a,{item:!0},r.a.createElement(j.a,{variant:"body1",gutterBottom:!0},"Para que el empleado pueda ver una empresa, agrega una.")),r.a.createElement(na.a,{item:!0},r.a.createElement(ra.a,{variant:"text",color:"secondary",onClick:function(){return b(!0)}},"Agregar"))))):r.a.createElement(na.a,{container:!0,spacing:2,style:{padding:15}},r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(ln.a,{animation:"wave",height:70}))),h&&r.a.createElement(Eo,{id:a,open:h,onClose:function(){return b(!1)},permisos:p,empresas:t,refresh:E}))}function Eo(e){var a=e.empresas,t=e.permisos,o=e.open,c=e.onClose,i=e.id,l=e.refresh,s=Object(n.useContext)(rt),u=s.cabeceras,p=s.isTokenExpired,d=Object(n.useState)("DEFAULT"),m=Object(f.a)(d,2),v=m[0],h=m[1],b=Object(n.useState)(!1),E=Object(f.a)(b,2),g=E[0],_=E[1],y=Object(n.useState)(),x=Object(f.a)(y,2),O=x[0],C=x[1],w=function(){var e=Object(We.a)(Be.a.mark((function e(){var a,t,n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("DEFAULT"===v){e.next=23;break}return e.prev=1,a={id_empleado:i,permisos:[{id_empresa:v}]},e.next=5,fetch("".concat(sa,"/api/rh/empleado/permisos"),{method:"POST",headers:u,body:JSON.stringify(a)});case 5:return t=e.sent,e.next=8,t.json();case 8:if(n=e.sent,p(n)){e.next=17;break}if(!n.created){e.next=16;break}l(),c(),e.next=17;break;case 16:throw new Error("No se cre\xf3");case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),_(!1),C("Ocurri\xf3 un error");case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ja.a,{open:o,onClose:c,"aria-labelledby":""},g&&r.a.createElement(Hn.a,{color:"secondary"}),r.a.createElement(Ka.a,{id:"permiso-add"},"Agregar Permiso"),r.a.createElement($a.a,null,r.a.createElement(Qa.a,null,"La empresa quedar\xe1 a cargo de este empleado"),r.a.createElement(ca.a,{select:!0,fullWidth:!0,value:v,label:"Empresa",onChange:function(e){var a=e.target.value;return h(a)}},r.a.createElement(k.a,{value:"DEFAULT"},"Selecciona"),a.filter((function(e){return!t.some((function(a){return a.id_empresa===e.id_empresa}))})).map((function(e,a){return r.a.createElement(k.a,{key:"empresa-permiso-".concat(a),value:e.id_empresa},e.razon_social)}))),O&&r.a.createElement(j.a,{variant:"body1",style:{color:"red"}},O)),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:c,color:"default"},"Cancelar"),r.a.createElement(ra.a,{onClick:w,color:"secondary"},"Guardar")))}function go(e){var a=e.id,t=e.empresas,o=e.permisos,c=e.refresh,i=e.add,l=Object(n.useState)({open:!1,id:""}),s=Object(f.a)(l,2),u=s[0],p=s[1],d=Object(n.useContext)(rt),m=d.cabeceras,v=d.isTokenExpired,h=function(){var e=Object(We.a)(Be.a.mark((function e(t){var n,r;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(sa,"/api/rh/empleado/permisos/").concat(a,"/").concat(t),{method:"DELETE",headers:m});case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,v(r)||(p({open:!1,id:""}),c()),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(zn.a,null,r.a.createElement(Yn.a,{size:"small"},r.a.createElement(Un.a,null,r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,{align:"center"},"Empresa"),r.a.createElement(Bn.a,{align:"center"},"Accion"))),r.a.createElement(Wn.a,null,o.map((function(e,a){return r.a.createElement(Mn.a,{key:"row-permisos-".concat(a)},r.a.createElement(Bn.a,{align:"center"},t.find((function(a){return a.id_empresa===e.id_empresa})).razon_social),r.a.createElement(Bn.a,{align:"center"},r.a.createElement("div",{style:{minWidth:150,textAlign:"center"}},r.a.createElement(ra.a,{variant:"text",color:"secondary",onClick:function(){return p({open:!0,id:e.id_empresa})}},"Eliminar"))))})),r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,{align:"center",colSpan:2},r.a.createElement(ra.a,{variant:"text",color:"secondary",onClick:i},"Agregar"))))),r.a.createElement(Ja.a,{open:u.open,onClose:function(){return p({open:!1})},"aria-labelledby":""},r.a.createElement(Ka.a,{id:""},"Eliminaci\xf3n de permiso"),r.a.createElement($a.a,null,r.a.createElement(Qa.a,null,"Est\xe1 apunto de eliminar el permiso del empleado"),r.a.createElement(Qa.a,null,"Est\xe1 seguro que desea continuar?")),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:function(){return p({open:!1})},color:"default"},"Cancelar"),r.a.createElement(ra.a,{onClick:function(){return h(u.id)},color:"secondary"},"Eliminar"))))}var _o=r.a.forwardRef((function(e,a){return r.a.createElement(Xa.a,Object.assign({direction:"up",ref:a},e))}));function yo(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}var xo=Object(Y.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper,marginBottom:24},cardContent:{padding:"0px"},header:{background:"#fafafa"},title:{flexGrow:1,textAlign:"center",marginTop:"15px ",marginBottom:"15px"},actions:{padding:e.spacing(4)},subheader:{textAlign:"center"},back:{left:-12,float:"left"},butonHide:{opacity:0},save:{color:e.palette.common.white,backgroundColor:At.a[500],"&:hover":{backgroundColor:At.a[600]}},buttonProgress:{color:At.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},wrapper:{margin:"0px 24px 8px 16px",position:"relative"},delete:{marginRight:e.spacing(1)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fafafa"}}})),jo={fileImg:null,id_empleado:{value:"",verify:""},url_foto:{value:"",verify:""},rfc:{value:"",verify:""},nombre:{value:"",verify:""},primer_apellido:{value:"",verify:""},segundo_apellido:{value:"",verify:""},fecha_nacimiento:{value:"",verify:""},estado_civil:{value:"",verify:""},genero:{value:"",verify:""},curp:{value:"",verify:""},id_nacionalidad:{value:"122",verify:!0},no_imss:{value:"",verify:""},entidad_labora:{value:"",verify:""},observaciones:{value:"",verify:""}},Oo={calle:{value:"",verify:""},no_exterior:{value:"",verify:""},no_interior:{value:"",verify:""},colonia:{value:"",verify:""},municipio:{value:"",verify:""},entidad:{value:"",verify:""},cp:{value:"",verify:""}},Co={new:!1,id_contrato:{value:"",verify:""},id_empresa_labora:{value:"",verify:""},id_empresa_pertenece:{value:"",verify:""},fecha_contrato_externo:{value:"",verify:""},fecha_inicio_contrato:{value:"",verify:""},fecha_fin_contrato:{value:"",verify:""},motivo_contrato:{value:"A",verify:!0},id_jornada:{value:"",verify:""},id_puesto:{value:"",verify:""},id_departamento:{value:"",verify:""},id_tipo_contrato:{value:"",verify:""},id_regimen_contratacion:{value:"",verify:""},clave_patronal:{value:"",verify:""},salario_diario:{value:"",verify:""},salario_capturado:{value:"",verify:""}},ko={no_cuenta:{value:"",verify:""},no_tarjeta:{value:"",verify:""},clabe:{value:"",verify:""},id_banco:{value:"",verify:""}},wo={numero_credito:"",porcentaje_descuento:"",factor_descuento:"",cuota_fija:"",verify:""},So=[{numero_credito:"",cuota_fija:"",verify:"",tipo:"",helperText:""}],Ao=[{value:"",verify:"",tipo:"C",helperText:""},{value:"",verify:"",tipo:"F",helperText:""}],Do=[{value:"",verify:"",tipo_correo:"P",helperText:""},{value:"",verify:"",tipo_correo:"E",helperText:""}],To=[{dia_semana:"Lunes",hora_entrada:"00:00",hora_salida:"00:00",checked:!1},{dia_semana:"Martes",hora_entrada:"00:00",hora_salida:"00:00",checked:!1},{dia_semana:"Miercoles",hora_entrada:"00:00",hora_salida:"00:00",checked:!1},{dia_semana:"Jueves",hora_entrada:"00:00",hora_salida:"00:00",checked:!1},{dia_semana:"Viernes",hora_entrada:"00:00",hora_salida:"00:00",checked:!1},{dia_semana:"Sabado",hora_entrada:"00:00",hora_salida:"00:00",checked:!1},{dia_semana:"Domingo",hora_entrada:"00:00",hora_salida:"00:00",checked:!1}];function Ro(e){var a=r.a.useContext(rt),t=a.cabeceras,n=a.isTokenExpired,o=a.rol,c=xo(),i=Object(d.g)(),l=Object(d.h)(),s=e.onlySee,u=void 0===l.id?e.id:l.id,p=r.a.useState(!1),v=Object(f.a)(p,2),h=v[0],E=v[1],g=r.a.useState(!0),_=Object(f.a)(g,2),x=_[0],O=_[1],C=r.a.useState({open:!1,message:"",severity:"",title:""}),k=Object(f.a)(C,2),w=k[0],S=k[1],A=r.a.useState({expandable:!1,actual:0,global:0}),D=Object(f.a)(A,2),T=D[0],R=D[1],I=r.a.useState({open:!1,type:""}),L=Object(f.a)(I,2),P=L[0],F=L[1],z=r.a.useState({}),Y=Object(f.a)(z,2),U=Y[0],M=Y[1],B=r.a.useState([]),W=Object(f.a)(B,2),H=W[0],G=W[1],V=r.a.useState([]),J=Object(f.a)(V,2),Z=J[0],$=J[1],Q=r.a.useState([]),K=Object(f.a)(Q,2),ee=K[0],ae=K[1],te=r.a.useState({}),ne=Object(f.a)(te,2),re=ne[0],oe=ne[1],ce=r.a.useState([]),ie=Object(f.a)(ce,2),le=ie[0],se=ie[1],ue=r.a.useState({}),pe=Object(f.a)(ue,2),de=pe[0],me=pe[1],fe=r.a.useState([]),ve=Object(f.a)(fe,2),he=ve[0],be=ve[1],Ee=r.a.useState([]),ge=Object(f.a)(Ee,2),_e=ge[0],ye=ge[1],xe=r.a.useState([]),je=Object(f.a)(xe,2),Oe=je[0],Se=je[1],Ae=r.a.useState([]),De=Object(f.a)(Ae,2),Te=De[0],Ne=De[1],Pe=r.a.useState([]),qe=Object(f.a)(Pe,2),Fe=qe[0],ze=qe[1],Ye=r.a.useState([]),Ue=Object(f.a)(Ye,2),Me=Ue[0],Je=Ue[1],Ze=r.a.useState([]),Ke=Object(f.a)(Ze,2),ea=Ke[0],ca=Ke[1],ia=r.a.useState([]),la=Object(f.a)(ia,2),sa=la[0],pa=la[1],da=r.a.useState([]),va=Object(f.a)(da,2),ha=va[0],ba=va[1],Ea=r.a.useState(jo),_a=Object(f.a)(Ea,2),ya=_a[0],ja=_a[1],Oa=r.a.useState(Oo),Ca=Object(f.a)(Oa,2),ka=Ca[0],wa=Ca[1],Sa=r.a.useState(ko),Aa=Object(f.a)(Sa,2),Da=Aa[0],Ta=Aa[1],Ra=r.a.useState(Co),Ia=Object(f.a)(Ra,2),Na=Ia[0],La=Ia[1],Pa=r.a.useState(""),qa=Object(f.a)(Pa,2),Fa=qa[0],za=qa[1],Ya=r.a.useState(Ao),Ua=Object(f.a)(Ya,2),Ma=Ua[0],Ba=Ua[1],Wa=r.a.useState(Do),Ha=Object(f.a)(Wa,2),Ga=Ha[0],Xa=Ha[1],et=r.a.useState(To),at=Object(f.a)(et,2),tt=at[0],nt=at[1],ot=r.a.useState(wo),ct=Object(f.a)(ot,2),it=ct[0],lt=ct[1],st=r.a.useState(So),ut=Object(f.a)(st,2),pt=ut[0],dt=ut[1],mt=r.a.useRef(),ft=function(e,a){S(Object(q.a)(Object(q.a)({},w),{},{open:!1}))},vt=function(e){R(Object(q.a)(Object(q.a)({},T),{},{actual:e}))};r.a.useEffect((function(){var e=!0,a=function(e,a,t){var n=Object(q.a)({},a);Object.keys(n).forEach((function(a){if("fileImg"===a)n[a]=null;else if(a.includes("fecha"))n[a]={value:void 0!==e[a]&&null!==e[a]?N.a.utc(e[a]):"",verify:!0};else if("entidad"===a){"entidad"===a&&(a="entidad_reside");var t=e.entidad_reside,r="";r=void 0===t?"OAX":t,n.entidad={value:fa(r)?r:ma(r),verify:!0}}else if("entidad_labora"===a){var o=e[a],c="";c=void 0===o?"OAX":o,n[a]={value:fa(c)?c:ma(c),verify:!0}}else n[a]={value:void 0!==e[a]&&null!==e[a]?e[a]:"",verify:!0}})),t(n)};return function(){var r={method:"GET",headers:t};e&&(Promise.all([fetch("".concat(ua.BASE_URL,"/api/rh/empresa?query=id_empresa-razon_social-es_interna-identificador"),r),fetch("".concat(ua.BASE_URL,"/api/rh/puesto?query=id_puesto-nombre_puesto"),r),fetch("".concat(ua.BASE_URL,"/api/rh/jornada"),r),fetch("".concat(ua.BASE_URL,"/api/rh/departamento"),r),fetch("".concat(ua.BASE_URL,"/api/rh/tipo_contrato"),r),fetch("".concat(ua.BASE_URL,"/api/rh/regimen_contratacion"),r),fetch("".concat(ua.BASE_URL,"/api/rh/empleado/contrato?query=").concat(ua.CONTRATO_ALL,"&id_empleado=").concat(u),r),fetch("".concat(ua.BASE_URL,"/api/rh/nacionalidad"),r),fetch("".concat(ua.BASE_URL,"/api/rh/banco"),r),fetch("".concat(ua.BASE_URL,"/api/rh/empleado/?query=").concat(ua.EMPLEADO_ALL,"&id_empleado=").concat(u),r)]).then(function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,r,o,c,i,l,s,u,p,d,m,v,h,b,E,g,_,y,x,j,O,C,k,w,S,A,D,T,R;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(f.a)(a,10),r=t[0],o=t[1],c=t[2],i=t[3],l=t[4],s=t[5],u=t[6],p=t[7],d=t[8],m=t[9],e.next=3,r.json();case 3:if(v=e.sent,n(v)){e.next=45;break}return e.next=7,o.json();case 7:return h=e.sent,e.next=10,c.json();case 10:return b=e.sent,E=b.jornadas,e.next=14,i.json();case 14:return g=e.sent,_=g.departamentos,e.next=18,l.json();case 18:return y=e.sent,x=y.tiposContrato,e.next=22,s.json();case 22:return j=e.sent,O=j.regimenesContratacion,e.next=26,p.json();case 26:return C=e.sent,e.next=29,d.json();case 29:return k=e.sent,w=k.bancos,e.next=33,m.json();case 33:return S=e.sent,A=S.empleados,e.next=37,u.json();case 37:return D=e.sent,T=D.credito,R={},T.forEach((function(e){(N()(e.fecha_fin_contrato).isAfter(N()())||null===e.fecha_fin_contrato)&&(R=e)})),0===Object.keys(R).length&&(R=null),e.abrupt("return",{empresas:v.empresas,puestos:h,jornadas:E,departamentos:_,tiposContrato:x,regimenesContratacion:O,contratos:R,nacionalidades:C,bancos:w,empleado:A[0]});case 45:return e.abrupt("return",{});case 46:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).then((function(t){var n=t.empresas,r=t.puestos,o=t.jornadas,c=t.departamentos,i=t.tiposContrato,l=t.regimenesContratacion,s=t.contratos,u=t.nacionalidades,p=t.bancos,d=t.empleado;if(console.log(d),n&&e&&(pa(u),ba(p),void 0!==d&&(M(d),a(d,ya,ja),a(d,ka,wa),a(d,Da,Ta),za(d.identificador),O(!1)),Je(n.filter((function(e){return!0===e.es_interna}))),ca(n),be(r),Se(o),ye(c),ze(i),Ne(l),void 0!==s&&null!==s)){var m=Object(q.a)({},Na);m.id_empresa_pertenece={value:n.find((function(e){return e.id_empresa===d.id_empresa_pertene})),verify:!0};var f=Object.keys(m);me(Object(q.a)({},s)),f.forEach((function(e){switch(e){case"new":case"id_empresa_pertenece":break;case"fecha_contrato_externo":case"fecha_inicio_contrato":case"fecha_fin_contrato":var a=null!==s[e]&&void 0!==s[e]?N.a.utc(s[e]):"";m[e]={value:a,verify:!0};break;case"id_empresa_labora":m[e]={value:n.find((function(a){return a.id_empresa===s[e]})),verify:!0};break;case"id_departamento":m[e]={value:c.find((function(a){return a.id_departamento===s[e]})),verify:!0};break;case"id_puesto":m[e]={value:r.find((function(a){return a.id_puesto===s[e]})),verify:!0};break;default:m[e]={value:s[e],verify:!0}}})),La(Object(q.a)({},m))}})).catch((function(e){i.push("/server-error")})),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/empleado/horario/").concat(u),headers:t,exito:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,r,o;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,n(t)||(r=t.horario,o=[].concat(To),r.forEach((function(e){var a=-1;switch(e.dia_semana){case"Lunes":a=0;break;case"Martes":a=1;break;case"Miercoles":a=2;break;case"Jueves":a=3;break;case"Viernes":a=4;break;case"Sabado":a=5;break;case"Domingo":a=6}r[a].hora_entrada=N()(e.hora_entrada,"HH:mm:ss").format("HH:mm"),r[a].hora_salida=N()(e.hora_salida,"HH:mm:ss").format("HH:mm"),o[a].hora_entrada=N()(e.hora_entrada,"HH:mm:ss").format("HH:mm"),o[a].hora_salida=N()(e.hora_salida,"HH:mm:ss").format("HH:mm"),o[a].checked=e.hora_entrada!==e.hora_salida})),nt(o),se(r));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,n(t)||console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){i.push("/server-error")}}),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/empleado/credito_fonacot?query=numero_credito-cuota_fija&id_empleado=").concat(u),headers:t,exito:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,n,r;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,n=t.credito,r=[],n.length>0&&(n.forEach((function(e,a){e.tipo=a,e.verify=!0,r.push({numero_credito:e.numero_credito,cuota_fija:e.cuota_fija,tipo:a})})),dt(n)),ae(r);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,n(t)||console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){i.push("/server-error")}}),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/empleado/credito_infonavit?query=numero_credito-cuota_fija-porcentaje_descuento-factor_descuento&id_empleado=").concat(u),headers:t,exito:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,(n=t.creditos).length>0&&(lt(Object(q.a)(Object(q.a)({},n[0]),{},{verify:!0})),oe(Object(q.a)({},n[0])));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,n(t)||console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){i.push("/server-error")}}),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/empleado/telefono/").concat(u),headers:t,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r,o,c;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,r=n.telefonos,e&&(o=[{value:"",verify:"",tipo:"C",helperText:""},{value:"",verify:"",tipo:"F",helperText:""}],c=r,r.forEach((function(e){switch(e.tipo){case"C":o[0]={value:e.numero,verify:!0,tipo:e.tipo,helperText:""};break;case"F":o[1]={value:e.numero,verify:!0,tipo:e.tipo,helperText:""};break;default:o.push({value:e.numero,verify:!0,tipo:e.tipo,helperText:""})}})),Ba(o),$(c));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,n(t)||console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){i.push("/server-error")}}),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/empleado/correo/").concat(u),headers:t,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r,o,c;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,r=n.correos,e&&(G(r),o=[{value:"",verify:"",tipo_correo:"P",helperText:""},{value:"",verify:"",tipo_correo:"E",helperText:""}],c=[{value:"",verify:"",tipo_correo:"P",helperText:""},{value:"",verify:"",tipo_correo:"E",helperText:""}],r.forEach((function(e){switch(e.tipo_correo){case"P":o[0]={value:e.correo,verify:!0,tipo_correo:e.tipo_correo,helperText:""},c[0]={value:e.correo,tipo_correo:e.tipo_corre};break;case"E":o[1]={value:e.correo,verify:!0,tipo_correo:e.tipo_correo,helperText:""},c[1]={value:e.correo,tipo_correo:e.tipo_corre};break;default:o.push({value:e.correo,verify:!0,tipo_correo:e.tipo_correo,helperText:""}),c.push({value:e.correo,tipo_correo:e.tipo_corre})}})),Xa(o));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,n(t)||console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){i.push("/server-error")}}))}(),function(){return e=!1}}),[u]);var ht=function(){var e=function(e,a){S({open:!0,message:void 0!==a?a:"Es necesario rellenar los campos requeridos",severity:"warning",title:"Error en algunos campos!"}),R(Object(q.a)(Object(q.a)({},T),{},{actual:e})),E(!1)};return function(){var e=Object(q.a)({},ya),a=["nombre","primer_apellido","fecha_nacimiento","estado_civil","genero","id_nacionalidad","rfc","curp","no_imss","entidad_labora"];a.forEach((function(a){switch(a){case"rfc":e.rfc.verify=13==="".concat(e.rfc.value.replace(/\s/g,"")).length;break;case"curp":e.curp.verify=18==="".concat(e.curp.value.replace(/\s/g,"")).length;break;case"no_imss":e.no_imss.verify=11==="".concat(e.no_imss.value.replace(/\s/g,"")).length;break;default:e[a].verify="".concat(e[a].value).length>0&&e[a].verify}}));var t=a.filter((function(a){return!0!==e[a].verify}));return ja(e),0===t.length}()?function(){var e=Object(q.a)({},ka),a=["calle","colonia","municipio","entidad","cp"];a.forEach((function(a){e[a].verify="".concat(e[a].value).length>0&&e[a].verify}));var t=a.filter((function(a){return!0!==e[a].verify}));return wa(e),0===t.length}()?function(){var e=Object(He.a)(Ga),a=[];e.forEach((function(e){var t=e.value.replace(/\s/g,"");t.length>0&&(e.verify=Ut.esCorreo(t),a.push(e.verify))}));var t=a.filter((function(e){return!0!==e}));return 0===a.length?(e[0].verify=!1,e[0].helperText="Registra al menos uno",e[1].verify=!1,e[1].helperText="Registra al menos uno",!1):(Xa(e),0===t.length)}()&&function(){var e=Object(He.a)(Ma),a=[];e.forEach((function(e){e.value.replace(/\s/g,"").length>0&&(e.verify=!0,a.push(!0))}));var t=a.filter((function(e){return!0!==e}));return 0===a.length?(e[0].verify=!1,e[0].helperText="Registra al menos uno",e[1].verify=!1,e[1].helperText="Registra al menos uno",!1):(Ba(e),0===t.length)}()?function(){var e=Object(q.a)({},Da),a=["no_cuenta","no_tarjeta","clabe","id_banco"];a.forEach((function(a){var t="".concat(e[a].value).replace(/\s/g,"");if(t.length>0)switch(a){case"no_cuenta":e[a].verify=10===t.length;break;case"no_tarjeta":e[a].verify=16===t.length;break;case"clabe":e[a].verify=18===t.length;break;default:e[a].verify=!0}else e[a].verify=!0}));var t=a.filter((function(a){return!0!==e[a].verify}));return Ta(e),0===t.length}()?function(){var e=it.numero_credito,a=it.porcentaje_descuento,t=it.factor_descuento,n=it.cuota_fija;if((e=e.replace(/\s/g,"")).length>0){var r=10===e.length&&(a.length>0||t.length>0||n.length>0);return lt(Object(q.a)(Object(q.a)({},it),{},{verify:r})),r}var o=0===e.length&&0===a.length&&0===t.length&&0===n.length;return lt(Object(q.a)(Object(q.a)({},it),{},{verify:o})),o}()?function(){var e=Object(He.a)(pt);return e.forEach((function(a,t){var n="",r=a.numero_credito.replace(/\s/g,""),o=a.cuota_fija.replace(/\s/g,"");n=r.length>0?10===r.length&&o.length>0:0===r.length&&0===o.length,e[t]=Object(q.a)(Object(q.a)({},e[t]),{},{numero_credito:r,cuota_fija:o,verify:n})})),dt(e),0===e.filter((function(e){return!0!==e.verify})).length}()?!!function(){if(Na.new){var e=Object(q.a)({},Na),a=Object.keys(Na),t=[];a.forEach((function(a){"id_contrato"!==a&&"id_empleado"!==a&&"new"!==a&&(e[a].verify="id_empleado"===a||"".concat(e[a].value).length>0&&e[a].verify,t.push(e[a].verify))}));var n=t.filter((function(e){return!0!==e}));return La(e),0===n.length}return!0}()||(e(6,"Contrato tiene campos vacios"),!1):(e(5,"El credito Fonacot tiene campos vacios"),!1):(e(5,"El credito Infonavit tiene campos vacios"),!1):(e(4),!1):(e(2),!1):(e(1),!1):(e(0),!1)},bt={general:function(){var e=Object(q.a)(Object(q.a)(Object(q.a)({},ya),ka),Da),a=Object.keys(e),t=new FormData;a.forEach((function(a){var n="";switch(a){case"url_foto":break;case"fileImg":null!==e[a]&&t.append("foto",e[a]);break;case"rfc":case"curp":e[a].value.toUpperCase()!==U[a]&&t.append(a,e[a].value.toUpperCase());break;case"fecha_nacimiento":n=N.a.utc(e[a].value);var r=N.a.utc(U[a]);!n.isSame(r)&&n.isValid()&&t.append(a,n.format("YYYY/MM/DD"));break;case"entidad":e[a].value!==U.entidad_reside&&t.append("entidad_reside",e[a].value);break;case"no_cuenta":case"no_tarjeta":case"clabe":var o=e[a].value.replace(/\s/g,"");U[a]=null===U[a]?"":U[a],o!==U[a]&&(console.log("----",a,o,U[a],o!==U[a]),t.append(a,o));break;default:(n=e[a].value)!==U[a]&&""!==n&&t.append(a,e[a].value)}}));var n,r=0,o=Object(nn.a)(t.entries());try{for(o.s();!(n=o.n()).done;){var c=n.value;console.log(c[0]+", "+c[1]),r++}}catch(i){o.e(i)}finally{o.f()}return 0===r?null:t},telefonos:function(){var e=[];return Ma.forEach((function(a){var t=a.value.replace(/\s/g,"");t.length>=5&&e.push({numero:t,tipo:a.tipo})})),e.length>0?{id_empleado:ya.id_empleado.value,telefonos:e}:null},correos:function(){var e=[];return Ga.forEach((function(a){var t=a.value.replace(/\s/g,"");t.length>=5&&e.push({correo:t,tipo_correo:a.tipo_correo})})),e.length>0?{id_empleado:ya.id_empleado.value,correos:e}:null},creditoFonacot:function(){var e=[];return pt.forEach((function(a){var t=a.numero_credito.replace(/\s/g,"");if(10===t.length){var n={numero_credito:t,cuota_fija:a.cuota_fija,tipo:a.tipo};e.push(n)}})),e.length>0?{id_empleado:ya.id_empleado.value,creditos:[].concat(e)}:null},creditoInfonavit:function(){var e={},a=Object.keys(it);return 0!==Object.keys(re).length?(a.forEach((function(a){"numero_credito"===a?re[a].replace(/\s/g,"")!==it[a].replace(/\s/g,"")&&(e[a]=it[a].replace(/\s/g,"")):re[a]!==it[a]&&"verify"!==a&&(e[a]=it[a])})),Object.keys(e).length>0?{method:"PUT",credito:e}:null):""!==it.numero_credito?{method:"POST",credito:{id_empleado:ya.id_empleado.value,numero_credito:it.numero_credito,porcentaje_descuento:it.porcentaje_descuento,factor_descuento:it.factor_descuento,cuota_fija:it.cuota_fija}}:null},horarioDias:function(){for(var e=[],a=0;a<tt.length;a++){var t={},n={};tt[a].hora_entrada!==le[a].hora_entrada&&(n.hora_entrada=tt[a].hora_entrada),tt[a].hora_salida!==le[a].hora_salida&&(n.hora_salida=tt[a].hora_salida),Object.keys(n).length>0&&(t.dia_semana=tt[a].dia_semana,e.push(Object(q.a)(Object(q.a)({},t),{},{dias:Object(q.a)({},n)})))}return e.length>0?e:null},contratoDat:function(){var e=Object(q.a)({},Na),a=Object.keys(e),t={};return a.forEach((function(a){switch(a){case"fecha_contrato_externo":case"fecha_inicio_contrato":case"fecha_fin_contrato":var n=N.a.utc(e[a].value),r=N.a.utc(de[a]);!n.isSame(r)&&n.isValid()&&(t[a]=n);break;case"id_empresa_labora":e[a].value.id_empresa!==de[a]&&void 0!==e[a].value.id_empresa&&(t[a]=e[a].value.id_empresa);break;case"id_puesto":case"id_departamento":e[a].value[a]!==de[a]&&void 0!==e[a].value[a]&&(t[a]=e[a].value[a]);break;case"id_empleado":case"id_contrato":case"new":case"id_empresa_pertenece":break;default:e[a].value!==de[a]&&void 0!==e[a].value&&""!==e[a].value&&void 0!==de[a]&&""!==de[a]&&(t[a]=e[a].value)}})),Object.keys(t).length>0?t:null},contratoPost:function(){var e=Object(q.a)({},Na),a=Object.keys(e),t={};return a.forEach((function(a){switch(a){case"fecha_contrato_externo":case"fecha_inicio_contrato":case"fecha_fin_contrato":var n=N.a.utc(e[a].value,"DD/MM/YYYY").format("YYYY/MM/DD");"Invalid date"!==n&&(t[a]=n);break;case"id_empresa_labora":t[a]=e[a].value.id_empresa;break;case"id_puesto":case"id_departamento":t[a]=e[a].value[a];break;case"new":case"id_contrato":case"id_empresa_pertenece":break;default:t[a]=e[a].value}})),Object.keys(t).length>0?Object(q.a)(Object(q.a)({},t),{},{id_empleado:ya.id_empleado.value}):null}},Et={next:function(){R(Object(q.a)(Object(q.a)({},T),{},{actual:T.actual+1,global:T.global+1}))},back:function(){R(Object(q.a)(Object(q.a)({},T),{},{actual:T.actual-1}))},send:function(){ht()&&(h||(E(!0),mt.current=setTimeout((function(){E(!1),e.enqueueSnackbar("Empleado actualizado",{variant:"success",preventDuplicate:!0})}),2e3)),function(){var a,r=function(a,r){for(var o=function(o){var c=r.find((function(e){return e.tipo===a[o].tipo}));c.numero!==a[o].numero&&ua.put({url:"".concat(ua.BASE_URL,"/api/rh/empleado/telefono/").concat(ya.id_empleado.value,"/").concat(c.numero),headers:t,data:a[o],exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.enqueueSnackbar("Tel\xe9fonos actualizados",{variant:"success",preventDuplicate:!0});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var a=Object(We.a)(Be.a.mark((function a(t){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=a.sent,n(r)||e.enqueueSnackbar("Tel\xe9fonos no actualizados",{variant:"error",preventDuplicate:!0});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),error_request:function(e){i.push("/server-error")}})},c=0;c<a.length;c++)o(c)},o=bt.telefonos();if(null!==o)if(o.telefonos.length>Z.length){var c=[];Z.forEach((function(e){var a=o.telefonos.findIndex((function(a){return a.tipo===e.tipo}));a>=0&&c.push(o.telefonos.splice(a,1)[0])})),a=o,ua.post({url:"".concat(ua.BASE_URL,"/api/rh/empleado/telefono"),headers:t,data:a,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.enqueueSnackbar("Tel\xe9fonos actualizados",{variant:"success",preventDuplicate:!0});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var a=Object(We.a)(Be.a.mark((function a(t){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=a.sent,n(r)||e.enqueueSnackbar("Tel\xe9fonos no actualizados",{variant:"error",preventDuplicate:!0});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),error_request:function(){i.push("/server-error")}}),r(c,Z),$([].concat(Object(He.a)(o.telefonos),c))}else if(o.telefonos.length<Z.length){var l=[];o.telefonos.forEach((function(e){var a=Z.findIndex((function(a){return a.tipo===e.tipo}));a>=0&&(l.push(Z[a]),Z.splice(a,1))})),function(a){a.forEach((function(a){ua.deleted({url:"".concat(ua.BASE_URL,"/api/rh/empleado/telefono/").concat(ya.id_empleado.value,"/").concat(a.numero),headers:t,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.enqueueSnackbar("Tel\xe9fonos actualizados",{variant:"success",preventDuplicate:!0});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var a=Object(We.a)(Be.a.mark((function a(t){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=a.sent,n(r)||e.enqueueSnackbar("Tel\xe9fonos no actualizados",{variant:"error",preventDuplicate:!0});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),error_request:function(e){i.push("/server-error")}})}))}(Z),r(o.telefonos,l),$(o.telefonos)}else r(o.telefonos,Z),$(o.telefonos)}(),function(){var a,r=function(a,r){for(var o=function(o){var c=r.find((function(e){return e.tipo_correo===a[o].tipo_correo}));c.correo!==a[o].correo&&ua.put({url:"".concat(ua.BASE_URL,"/api/rh/empleado/correo/").concat(ya.id_empleado.value,"/").concat(c.correo),headers:t,data:a[o],exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.enqueueSnackbar("Correos actualizados",{variant:"success",preventDuplicate:!0});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var a=Object(We.a)(Be.a.mark((function a(t){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=a.sent,n(r)||e.enqueueSnackbar("Correos no actualizados",{variant:"error",preventDuplicate:!0});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),error_request:function(e){i.push("/server-error")}})},c=0;c<a.length;c++)o(c)},o=bt.correos();if(null!==o)if(o.correos.length>H.length){var c=[];H.forEach((function(e){var a=o.correos.findIndex((function(a){return a.tipo_correo===e.tipo_correo}));a>=0&&c.push(o.correos.splice(a,1)[0])})),a=o,ua.post({url:"".concat(ua.BASE_URL,"/api/rh/empleado/correo"),headers:t,data:a,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.enqueueSnackbar("Correos actualizados",{variant:"success",preventDuplicate:!0});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var a=Object(We.a)(Be.a.mark((function a(t){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=a.sent,n(r)||e.enqueueSnackbar("Correos no actualizados",{variant:"error",preventDuplicate:!0});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),error_request:function(){i.push("/server-error")}}),r(c,H),G([].concat(Object(He.a)(o.correos),c))}else if(o.correos.length<H.length){var l=[];o.correos.forEach((function(e){var a=H.findIndex((function(a){return a.tipo_correo===e.tipo_correo}));a>=0&&(l.push(H[a]),H.splice(a,1))})),function(a){a.forEach((function(a){ua.deleted({url:"".concat(ua.BASE_URL,"/api/rh/empleado/correo/").concat(ya.id_empleado.value,"/").concat(a.correo),headers:t,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.enqueueSnackbar("Correos actualizados",{variant:"success",preventDuplicate:!0});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var a=Object(We.a)(Be.a.mark((function a(t){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=a.sent,n(r)||e.enqueueSnackbar("Correos no actualizados",{variant:"error",preventDuplicate:!0});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),error_request:function(e){i.push("/server-error")}})}))}(H),r(o.correos,l),G(o.correos)}else r(o.correos,H),G(o.correos)}(),function(){var a=bt.horarioDias();null!==a&&(e.enqueueSnackbar("Horario actualizado",{variant:"success",preventDuplicate:!0}),a.forEach((function(a){ua.put({url:"".concat(ua.BASE_URL,"/api/rh/empleado/horario/").concat(ya.id_empleado.value,"/").concat(a.dia_semana),headers:t,data:a.dias,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.enqueueSnackbar("Horario actualizado",{variant:"success",preventDuplicate:!0});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var a=Object(We.a)(Be.a.mark((function a(t){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=a.sent,n(r)||e.enqueueSnackbar("Creditos no actualizados",{variant:"error",preventDuplicate:!0});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),error_request:function(e){i.push("/server-error")}})})),se(Object(He.a)(tt)))}(),function(){var a=function(a,r){for(var o=function(o){if(r.find((function(e){return e.tipo===a[o].tipo})).numero_credito.replace(/\s/g,"")!==a[o].numero_credito){var c=Object.keys(a[o]),l={};c.forEach((function(e){"tipo"!==e&&(l[e]=a[o][e])})),ua.put({url:"".concat(ua.BASE_URL,"/api/rh/empleado/credito_fonacot/").concat(ya.id_empleado.value,"/").concat(r[o].numero_credito.replace(/\s/g,"")),headers:t,data:l,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.enqueueSnackbar("Fonacot actualizado",{variant:"success",preventDuplicate:!0});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var a=Object(We.a)(Be.a.mark((function a(t){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=a.sent,n(r)||e.enqueueSnackbar("Creditos no actualizados",{variant:"error",preventDuplicate:!0});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),error_request:function(e){i.push("/server-error")}})}},c=0;c<a.length;c++)o(c)},r=bt.creditoFonacot();if(null!==r)if(r.creditos.length>ee.length){var o=[];ee.forEach((function(e,a){var t=r.creditos.findIndex((function(a){return a.tipo===e.tipo}));t>=0&&o.push(Object(q.a)({},r.creditos.splice(t,1)[0]))})),ae([].concat(o,Object(He.a)(r.creditos))),function(a){var r=[];a.creditos.forEach((function(e){r.push({numero_credito:e.numero_credito,cuota_fija:e.cuota_fija})}));var o={id_empleado:ya.id_empleado.value,creditos:r};ua.post({url:"".concat(ua.BASE_URL,"/api/rh/empleado/credito_fonacot"),headers:t,data:o,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.enqueueSnackbar("Fonacot actualizado",{variant:"success",preventDuplicate:!0});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var t=Object(We.a)(Be.a.mark((function t(r){var o;return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.json();case 2:o=t.sent,n(o)||a.creditos.forEach((function(a){if(o.error.detail.includes(a.numero_credito)){e.enqueueSnackbar("Fonacot: ".concat(a.numero_credito," repetido"),{variant:"error",preventDuplicate:!0});var t=pt.findIndex((function(e){return e.numero_credito===a.numero_credito})),n=Object(He.a)(pt);n[t].verify=!1,dt(n)}}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),error_request:function(){i.push("/server-error")}})}(r),a([].concat(o),Object(He.a)(ee))}else if(r.creditos.length<ee.length){var c=[];r.creditos.forEach((function(e){var a=ee.findIndex((function(a){return a.tipo===e.tipo}));a>=0&&(c.push(ee[a]),ee.splice(a,1))})),ee.forEach((function(a){ua.deleted({url:"".concat(ua.BASE_URL,"/api/rh/empleado/credito_fonacot/").concat(ya.id_empleado.value,"/").concat(a.numero_credito),headers:t,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.enqueueSnackbar("Fonacot actualizado",{variant:"success",preventDuplicate:!0});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var a=Object(We.a)(Be.a.mark((function a(t){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=a.sent,n(r)||e.enqueueSnackbar("Creditos no actualizados",{variant:"error",preventDuplicate:!0});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),error_request:function(e){i.push("/server-error")}})})),a(Object(He.a)(r.creditos),[].concat(c)),ae(r.creditos)}else a(Object(He.a)(r.creditos),Object(He.a)(ee)),ae(Object(He.a)(r.creditos))}(),function(){var a=bt.general(),r=new Headers;if(r.append("authorization",t.authorization),null!==a){ua.putForm({url:"".concat(ua.BASE_URL,"/api/rh/empleado/").concat(ya.id_empleado.value),headers:r,data:a,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.enqueueSnackbar("Empleado actualizado",{variant:"success",preventDuplicate:!0});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var a=Object(We.a)(Be.a.mark((function a(t){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=a.sent,console.log(r),n(r)||void 0!==r.error&&(r.error.detail.includes("no_imss")?e.enqueueSnackbar("No. IMSS asignado a alguien m\xe1s",{variant:"warning",preventDuplicate:!0}):r.error.detail.includes("no_cuenta")?e.enqueueSnackbar("No. Cuenta asignada a alguien m\xe1s",{variant:"warning",preventDuplicate:!0}):r.error.detail.includes("tarjeta")?e.enqueueSnackbar("No. Tarjeta asignada a alguien m\xe1s",{variant:"warning",preventDuplicate:!0}):r.error.detail.includes("clave")&&e.enqueueSnackbar("CLABE asignada a alguien m\xe1s",{variant:"warning",preventDuplicate:!0}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),error_request:function(e){i.push("/server-error")}});var o,c={},l=Object(nn.a)(a.entries());try{for(l.s();!(o=l.n()).done;){var s=o.value;c[s[0]]=s[1]}}catch(u){l.e(u)}finally{l.f()}M((function(e){return Object(q.a)(Object(q.a)({},e),c)}))}}(),function(){var a=bt.creditoInfonavit();null!==a&&("PUT"===a.method?ua.put({url:"".concat(ua.BASE_URL,"/api/rh/empleado/credito_infonavit/").concat(ya.id_empleado.value,"/").concat(re.numero_credito),headers:t,data:a.credito,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r,o;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,r=n.updated,o=n.credito,r&&1===o.length&&(oe(Object(q.a)({},o[0])),e.enqueueSnackbar("Credito Infonavit actualizado",{variant:"success",preventDuplicate:!0}));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var a=Object(We.a)(Be.a.mark((function a(t){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=a.sent,n(r)||e.enqueueSnackbar("Credito Infonavit no actualizado",{variant:"success",preventDuplicate:!0});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),error_request:function(e){i.push("/server-error")}}):ua.post({url:"".concat(ua.BASE_URL,"/api/rh/empleado/credito_infonavit"),headers:t,data:a.credito,exito:function(){var e=Object(We.a)(Be.a.mark((function e(a){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:oe(it);case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:function(){var a=Object(We.a)(Be.a.mark((function a(t){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=a.sent,n(r)||e.enqueueSnackbar("Credito Infonavit no creado",{variant:"success",preventDuplicate:!0});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),error_request:function(e){i.push("/server-error")}}))}(),function(){if(Na.new){var a=bt.contratoPost();void 0!==de.id_contrato&&""!==de.id_contrato&&ua.put({url:"".concat(ua.BASE_URL,"/api/rh/empleado/contrato/").concat(de.id_contrato),headers:t,data:{fecha_fin_contrato:N.a.utc().format("YYYY/MM/DD")},exito:function(){var e=Object(We.a)(Be.a.mark((function e(a){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,a.json();case 3:return e.t1=e.sent,e.abrupt("return",e.t0.log.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,a.json();case 3:return e.t1=e.sent,e.abrupt("return",e.t0.log.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){return i.push("/server-error")}}),ua.post({url:"".concat(ua.BASE_URL,"/api/rh/empleado/contrato"),headers:t,data:a,exito:function(){var t=Object(We.a)(Be.a.mark((function t(n){var r,o;return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:r=t.sent,o=r.contrato,me(Object(q.a)(Object(q.a)({},a),{},{id_contrato:o[0].id_contrato})),La((function(e){return Object(q.a)(Object(q.a)({},e),{},{id_contrato:{value:o[0].id_contrato},new:!1})})),e.enqueueSnackbar("Contrato creado",{variant:"success",preventDuplicate:!0});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,a.json();case 3:return e.t1=e.sent,e.abrupt("return",e.t0.log.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){return i.push("/server-error")}});var r=new FormData;r.append("identificador",Fa),r.append("estatus","A");var o=new Headers;o.append("authorization",t.authorization),ua.putForm({url:"".concat(ua.BASE_URL,"/api/rh/empleado/").concat(ya.id_empleado.value),headers:o,data:r,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:a.sent.updated&&e.enqueueSnackbar("Identificador creado",{variant:"success",preventDuplicate:!0});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var a=Object(We.a)(Be.a.mark((function a(t){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=a.sent,n(r)||e.enqueueSnackbar("Identificador no creado",{variant:"error",preventDuplicate:!0});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),error_request:function(e){i.push("/server-error")}})}else{var c=bt.contratoDat();null!==c&&ua.put({url:"".concat(ua.BASE_URL,"/api/rh/empleado/contrato/").concat(Na.id_contrato.value),headers:t,data:c,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=console,a.next=3,t.json();case 3:a.t1=a.sent,a.t0.log.call(a.t0,a.t1),e.enqueueSnackbar("Contrato actualizado",{variant:"success",preventDuplicate:!0}),me({oldContrato:de,cont:c});case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var a=Object(We.a)(Be.a.mark((function a(t){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=a.sent,n(r)||e.enqueueSnackbar("Contrato no actualizado",{variant:"error",preventDuplicate:!0});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),error_request:function(e){i.push("/server-error")}})}}())},deleted:function(a){var r=new FormData;r.append("estatus",a);var o=new Headers;o.append("authorization",t.authorization),ua.putForm({url:"".concat(ua.BASE_URL,"/api/rh/empleado/").concat(ya.id_empleado.value),headers:o,data:r,exito:function(){var t=Object(We.a)(Be.a.mark((function t(n){return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:t.sent.updated&&("B"===a?e.enqueueSnackbar("Empleado dado de baja",{variant:"warning",preventDuplicate:!0}):e.enqueueSnackbar("Empleado activado",{variant:"info",preventDuplicate:!0}),M(Object(q.a)(Object(q.a)({},U),{},{estatus:a})));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),fallo:function(){var a=Object(We.a)(Be.a.mark((function a(t){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=a.sent,n(r)||e.enqueueSnackbar("Empleado no actualizado",{variant:"error",preventDuplicate:!0});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),error_request:function(e){i.push("/server-error")}})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement($e.a,{className:c.root,elevation:2},r.a.createElement(Qe.a,{className:c.cardContent},r.a.createElement(Ie.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:r.a.createElement(Le.a,{component:"div",display:"block",className:c.subheader},!s&&r.a.createElement(y.a,{className:Object(b.a)(c.back,Object(m.a)({},c.butonHide,s)),onClick:function(){i.goBack()}},r.a.createElement(Yt.a,null)),r.a.createElement(j.a,{className:c.title,variant:"button",gutterBottom:!0},"".concat(s?"":"Editando ")," empleado"),!s&&r.a.createElement(Ft,{onClick:function(){R(Object(q.a)(Object(q.a)({},T),{},{expandable:!T.expandable}))},open:T.expandable})),className:c.root},r.a.createElement(Ce.a,{className:c.header,button:!0,onClick:vt.bind(this,0)},r.a.createElement(ke.a,null,r.a.createElement(Xe.a,null)),r.a.createElement(we.a,{primary:"Informacion"}),0===T.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:0===T.actual||T.expandable||s,timeout:"auto",unmountOnExit:!0},r.a.createElement(Dr,{data:ya,setData:ja,buttons:Et,expandable:T.expandable||s,nacionalidadades:sa,onlySee:s})),r.a.createElement(Ce.a,{className:c.header,button:!0,onClick:vt.bind(this,1)},r.a.createElement(ke.a,null,r.a.createElement(aa.a,null)),r.a.createElement(we.a,{primary:"Direcci\xf3n"}),1===T.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:1===T.actual||T.expandable||s,timeout:"auto",unmountOnExit:!0},r.a.createElement(ga,{data:ka,setData:wa,buttons:Et,expandable:T.expandable||s,edit:!1,onlySee:s})),r.a.createElement(Ce.a,{className:c.header,button:!0,onClick:vt.bind(this,2)},r.a.createElement(ke.a,null,r.a.createElement(Jr.a,null)),r.a.createElement(we.a,{primary:"Contacto"}),2===T.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:2===T.actual||T.expandable||s,timeout:"auto",unmountOnExit:!0},r.a.createElement(oo,{buttons:Et,expandable:T.expandable||s,phones:Ma,setPhones:Ba,correos:Ga,setCorreos:Xa,onlySee:s})),r.a.createElement(Ce.a,{className:c.header,button:!0,onClick:vt.bind(this,3)},r.a.createElement(ke.a,null,r.a.createElement(Gr.a,null)),r.a.createElement(we.a,{primary:"Horario"}),3===T.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:3===T.actual||T.expandable||s,timeout:"auto",unmountOnExit:!0},r.a.createElement(Wr,{buttons:Et,expandable:T.expandable||s,horario:tt,setHorario:nt,onlySee:s})),r.a.createElement(Ce.a,{className:c.header,button:!0,onClick:vt.bind(this,4)},r.a.createElement(ke.a,null,r.a.createElement(wr.a,null)),r.a.createElement(we.a,{primary:"Financiero"}),4===T.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:4===T.actual||T.expandable||s,timeout:"auto",unmountOnExit:!0},r.a.createElement(qr,{data:Da,setData:Ta,buttons:Et,expandable:T.expandable||s,bancos:ha,onlySee:s})),r.a.createElement(Ce.a,{className:c.header,button:!0,onClick:vt.bind(this,5)},r.a.createElement(ke.a,null,r.a.createElement($r.a,null)),r.a.createElement(we.a,{primary:"Creditos"}),5===T.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:5===T.actual||T.expandable||s,timeout:"auto",unmountOnExit:!0},r.a.createElement(eo,{fonacot:pt,setFonacot:dt,infonavit:it,setInfonavit:lt,buttons:Et,expandable:T.expandable||s,onlySee:s})),r.a.createElement(Ce.a,{className:c.header,button:!0,onClick:vt.bind(this,6)},r.a.createElement(ke.a,null,r.a.createElement(X.a,null)),r.a.createElement(we.a,{primary:"Contrato"}),6===T.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:6===T.actual||T.expandable||s,timeout:"auto"},r.a.createElement(Lr,{data:Na,setData:La,oldData:de,setOldData:me,buttons:Et,expandable:T.expandable||s,empresasInt:Object(He.a)(Me),empresasAll:Object(He.a)(ea),departamentos:Object(He.a)(_e),puestos:Object(He.a)(he),jornadas:Object(He.a)(Oe),tipoContrato:Fe,regimenContrato:Te,setIdentificador:function(e){if(null!==e){var a="00000"+ya.id_empleado.value;za((e+a.substring(a.length-5)).replace(/\s/g,""))}else za(null)},identificador:Fa,informacion:ya,setInformacion:ja,editable:"A"===U.estatus,onlySee:s})))),r.a.createElement(ta.a,null,!s&&r.a.createElement(na.a,{container:!0},r.a.createElement(na.a,{item:!0,xs:12,sm:6,container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(j.a,{style:{marginLeft:24},variant:"button",color:"initial"},"Identificador: ".concat(null!==Fa&&""!==Fa?Fa:"Sin ID"))),r.a.createElement(na.a,{item:!0,xs:12,sm:6,container:!0,direction:"row",justify:"flex-end",alignItems:"center"},r.a.createElement("div",{className:c.wrapper},"A"===U.estatus?r.a.createElement(ra.a,{color:"secondary",className:c.delete,startIcon:r.a.createElement(Va.a,null),onClick:function(){return F({open:!0,type:"B"})}},"Eliminar"):r.a.createElement(ra.a,{color:"primary",style:{color:At.a[500],marginRight:5},startIcon:r.a.createElement(Pn.a,null),onClick:function(){return F({open:!0,type:"A"})}},"Activar Empleado"),"B"!==U.estatus&&r.a.createElement(ra.a,{variant:"contained",className:c.save,disabled:h,endIcon:r.a.createElement(Dt.a,null),onClick:Et.send},"Actualizar",h&&r.a.createElement(Tt.a,{size:24,className:c.buttonProgress}))))))),r.a.createElement(na.a,{container:!0,spacing:3},r.a.createElement(na.a,{item:!0,xs:12,md:6},r.a.createElement(Nn,{id:u,tipo:"empleado",onlySee:s})),r.a.createElement(na.a,{item:!0,xs:12,md:6},r.a.createElement(mo,{id:u})),"S"===o&&Na.id_empresa_labora.value&&Na.id_empresa_labora.value.es_interna&&r.a.createElement(na.a,{item:!0,xs:12,md:6},r.a.createElement(bo,{id:u,empresas:ea}))),r.a.createElement(oa.a,{open:w.open,autoHideDuration:5e3,onClose:ft},r.a.createElement(yo,{onClose:ft,severity:w.severity},r.a.createElement(xa.a,null,w.title),w.message)),r.a.createElement(Ja.a,{open:P.open,TransitionComponent:_o,onClose:function(){return F({open:!1,type:""})}},r.a.createElement(Ka.a,null,"".concat("B"===P.type?"Eliminar":"Activar")),r.a.createElement($a.a,null,r.a.createElement(Qa.a,null,"Est\xe1 apunto de ","".concat("B"===P.type?"dar de baja":"activar")," al empleado \xbfEst\xe1 seguro que desea continuar?")),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:function(){return F({open:!1,type:""})}},"Cancelar"),r.a.createElement(ra.a,{onClick:function(){Et.deleted(P.type),F({open:!1,type:""})},color:"secondary"},"".concat("B"===P.type?"Eliminar":"Activar")))),r.a.createElement(rn.a,{className:c.backdrop,open:x},r.a.createElement(Tt.a,{color:"inherit"})))}var Io=Object(L.b)(Ro);function No(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}var Lo=Object(Y.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},cardContent:{padding:"0px"},header:{background:"#fafafa"},float:{position:"fixed",bottom:"30px",right:"30px",color:e.palette.common.white,backgroundColor:At.a[500],"&:hover":{backgroundColor:At.a[600]}},title:{flexGrow:1,marginTop:"15px ",marginBottom:"15px"},actions:{padding:e.spacing(4)},subheader:{textAlign:"center"},back:{left:-12,float:"left"},save:{color:e.palette.common.white,backgroundColor:At.a[500],"&:hover":{backgroundColor:At.a[600]}},buttonProgress:{color:At.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},wrapper:{margin:"0px 24px 8px 16px",position:"relative"}}}));var Po=Object(L.b)((function(e){var a={fileImg:null,url_foto:{value:"",verify:""},rfc:{value:"",verify:""},nombre:{value:"",verify:""},primer_apellido:{value:"",verify:""},segundo_apellido:{value:"",verify:""},fecha_nacimiento:{value:"",verify:""},estado_civil:{value:"",verify:""},genero:{value:"",verify:""},curp:{value:"",verify:""},id_nacionalidad:{value:"122",verify:!0},no_imss:{value:"",verify:""},entidad_labora:{value:"",verify:""},observaciones:{value:"",verify:""}},t={calle:{value:"",verify:""},no_exterior:{value:"",verify:""},no_interior:{value:"",verify:""},colonia:{value:"",verify:""},municipio:{value:"",verify:""},entidad:{value:"",verify:""},cp:{value:"",verify:""}},n={id_empresa_labora:{value:"",verify:""},id_empresa_pertenece:{value:"",verify:""},fecha_contrato_externo:{value:"",verify:""},fecha_inicio_contrato:{value:"",verify:""},fecha_fin_contrato:{value:"",verify:""},motivo_contrato:{value:"A",verify:!0},id_jornada:{value:"",verify:""},id_puesto:{value:"",verify:""},id_departamento:{value:"",verify:""},id_tipo_contrato:{value:"",verify:""},id_regimen_contratacion:{value:"",verify:""},salario_diario:{value:"",verify:""},salario_capturado:{value:"",verify:""},clave_patronal:{value:"",verify:""}},o={no_cuenta:{value:"",verify:""},no_tarjeta:{value:"",verify:""},clabe:{value:"",verify:""},id_banco:{value:"",verify:""}},c={numero_credito:"",porcentaje_descuento:"",factor_descuento:"",cuota_fija:"",verify:""},i=[{numero_credito:"",cuota_fija:"",verify:""}],l=[{dia_semana:"Lunes",hora_entrada:"00:00",hora_salida:"00:00",checked:!1},{dia_semana:"Martes",hora_entrada:"00:00",hora_salida:"00:00",checked:!1},{dia_semana:"Miercoles",hora_entrada:"00:00",hora_salida:"00:00",checked:!1},{dia_semana:"Jueves",hora_entrada:"00:00",hora_salida:"00:00",checked:!1},{dia_semana:"Viernes",hora_entrada:"00:00",hora_salida:"00:00",checked:!1},{dia_semana:"Sabado",hora_entrada:"00:00",hora_salida:"00:00",checked:!1},{dia_semana:"Domingo",hora_entrada:"00:00",hora_salida:"00:00",checked:!1}],s=Lo(),u=Object(d.g)(),p=r.a.useState(!1),m=Object(f.a)(p,2),v=m[0],h=m[1],b=r.a.useState({expandable:!1,actual:0,global:0}),E=Object(f.a)(b,2),g=E[0],_=E[1],x=r.a.useState({open:!1,message:"",severity:"",title:""}),O=Object(f.a)(x,2),C=O[0],k=O[1],w=r.a.useContext(rt),S=w.cabeceras,A=w.isTokenExpired,D=r.a.useState([]),T=Object(f.a)(D,2),R=T[0],I=T[1],L=r.a.useState([]),P=Object(f.a)(L,2),F=P[0],z=P[1],Y=r.a.useState([]),U=Object(f.a)(Y,2),M=U[0],B=U[1],W=r.a.useState([]),H=Object(f.a)(W,2),G=H[0],V=H[1],J=r.a.useState([]),Z=Object(f.a)(J,2),$=Z[0],Q=Z[1],K=r.a.useState([]),ee=Object(f.a)(K,2),ae=ee[0],te=ee[1],ne=r.a.useState([]),re=Object(f.a)(ne,2),oe=re[0],ce=re[1],ie=r.a.useState([]),le=Object(f.a)(ie,2),se=le[0],ue=le[1],pe=r.a.useState([]),de=Object(f.a)(pe,2),me=de[0],fe=de[1],ve=r.a.useState(a),he=Object(f.a)(ve,2),be=he[0],Ee=he[1],ge=r.a.useState(t),_e=Object(f.a)(ge,2),ye=_e[0],xe=_e[1],je=r.a.useState(o),Oe=Object(f.a)(je,2),Se=Oe[0],Ae=Oe[1],De=r.a.useState(n),Te=Object(f.a)(De,2),Ne=Te[0],Pe=Te[1],qe=r.a.useState(""),Fe=Object(f.a)(qe,2),ze=Fe[0],Ye=Fe[1],Ue=r.a.useState([].concat([{value:"",verify:"",tipo:"C",helperText:""},{value:"",verify:"",tipo:"F",helperText:""}])),Me=Object(f.a)(Ue,2),Je=Me[0],Ze=Me[1],Ke=r.a.useState([].concat([{value:"",verify:"",tipo_correo:"P",helperText:""},{value:"",verify:"",tipo_correo:"E",helperText:""}])),ea=Object(f.a)(Ke,2),ca=ea[0],ia=ea[1],la=r.a.useState([].concat(l)),pa=Object(f.a)(la,2),da=pa[0],ma=pa[1],fa=r.a.useState(c),va=Object(f.a)(fa,2),ha=va[0],ba=va[1],Ea=r.a.useState([].concat(i)),_a=Object(f.a)(Ea,2),ya=_a[0],ja=_a[1],Oa=function(e,a){k(Object(q.a)(Object(q.a)({},C),{},{open:!1}))},Ca=function(e){_(Object(q.a)(Object(q.a)({},g),{},{actual:e}))},ka={next:function(){_(Object(q.a)(Object(q.a)({},g),{},{actual:g.actual+1,global:g.global+1}))},back:function(){_(Object(q.a)(Object(q.a)({},g),{},{actual:g.actual-1}))}};r.a.useEffect((function(){var e=!0,a=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=5;break}return a.next=3,t.json();case 3:n=a.sent,ue(n);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),t=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=7;break}return a.next=3,t.json();case 3:n=a.sent,r=n.empresas,te(r.filter((function(e){return!0===e.es_interna}))),ce(r);case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),n=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=5;break}return a.next=3,t.json();case 3:n=a.sent,I(n);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),r=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=5;break}return a.next=3,t.json();case 3:n=a.sent,fe(n.bancos);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),o=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=5;break}return a.next=3,t.json();case 3:n=a.sent,B(n.jornadas);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),c=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=6;break}return a.next=3,t.json();case 3:n=a.sent,console.log(n.departamentos),z(n.departamentos);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),i=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=5;break}return a.next=3,t.json();case 3:n=a.sent,Q(n.tiposContrato);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),l=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,A(t)||console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return e&&(ua.get({url:"".concat(ua.BASE_URL,"/api/rh/empresa?query=id_empresa-razon_social-es_interna-identificador"),headers:S,exito:t,fallo:l,error_request:function(e){u.push("/server-error")}}),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/puesto?query=id_puesto-nombre_puesto"),headers:S,exito:n,fallo:l,error_request:function(e){u.push("/server-error")}}),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/nacionalidad"),headers:S,exito:a,fallo:l,error_request:function(e){u.push("/server-error")}}),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/banco"),headers:S,exito:r,fallo:l,error_request:function(e){u.push("/server-error")}}),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/jornada"),headers:S,exito:o,fallo:l,error_request:function(e){u.push("/server-error")}}),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/departamento"),headers:S,exito:c,fallo:l,error_request:function(e){u.push("/server-error")}}),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/tipo_contrato"),headers:S,exito:i,fallo:l,error_request:function(e){u.push("/server-error")}}),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/regimen_contratacion"),headers:S,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=5;break}return a.next=3,t.json();case 3:n=a.sent,V(n.regimenesContratacion);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:l,error_request:function(e){u.push("/server-error")}})),function(){return e=!1}}),[]);var wa=function(e,a){k({open:!0,message:void 0!==a?a:"Es necesario rellenar los campos requeridos",severity:"warning",title:"Error en algunos campos!"}),_(Object(q.a)(Object(q.a)({},g),{},{actual:e})),h(!1)},Sa=function(){return function(){var e=Object(q.a)({},be),a=["nombre","primer_apellido","fecha_nacimiento","estado_civil","genero","id_nacionalidad","rfc","curp","no_imss","entidad_labora"];a.forEach((function(a){switch(a){case"rfc":e.rfc.verify=13==="".concat(e.rfc.value.replace(/\s/g,"")).length;break;case"curp":e.curp.verify=18==="".concat(e.curp.value.replace(/\s/g,"")).length;break;case"no_imss":e.no_imss.verify=11==="".concat(e.no_imss.value.replace(/\s/g,"")).length;break;default:e[a].verify="".concat(e[a].value).length>0&&e[a].verify}}));var t=a.filter((function(a){return!0!==e[a].verify}));return Ee(e),0===t.length}()?function(){var e=Object(q.a)({},ye),a=["calle","colonia","municipio","entidad","cp"];a.forEach((function(a){e[a].verify="".concat(e[a].value).length>0&&e[a].verify}));var t=a.filter((function(a){return!0!==e[a].verify}));return xe(e),0===t.length}()?function(){var e=Object(He.a)(ca),a=[];e.forEach((function(e){var t=e.value.replace(/\s/g,"");if(t.length>0){var n=Ut.esCorreo(t)&&e.verify;e.verify=n,a.push(n)}}));var t=a.filter((function(e){return!0!==e}));return 0===a.length?(e[0].verify=!1,e[0].helperText="Registra al menos uno",e[1].verify=!1,e[1].helperText="Registra al menos uno",!1):(ia(e),0===t.length)}()&&function(){var e=Object(He.a)(Je),a=[];e.forEach((function(e){if(10===e.value.replace(/\s/g,"").length){var t=e.verify;e.verify=t,a.push(t)}}));var t=a.filter((function(e){return!0!==e}));return 0===a.length?(e[0].verify=!1,e[0].helperText="Registra al menos uno",e[1].verify=!1,e[1].helperText="Registra al menos uno",!1):(Ze(e),0===t.length)}()?function(){var e=Object(q.a)({},Se),a=["no_cuenta","no_tarjeta","clabe","id_banco"];a.forEach((function(a){var t="".concat(e[a].value).replace(/\s/g,"");if(t.length>0)switch(a){case"no_cuenta":e[a].verify=10===t.length&&e[a].verify;break;case"no_tarjeta":e[a].verify=16===t.length&&e[a].verify;break;case"clabe":e[a].verify=18===t.length&&e[a].verify;break;default:e[a].verify=!0}else e[a].verify=!0}));var t=a.filter((function(a){return!0!==e[a].verify}));return Ae(e),0===t.length}()?function(){var e=ha.numero_credito,a=ha.porcentaje_descuento,t=ha.factor_descuento,n=ha.cuota_fija;if((e=e.replace(/\s/g,"")).length>0){var r=10===e.length&&(a.length>0||t.length>0||n.length>0);return ba(Object(q.a)(Object(q.a)({},ha),{},{verify:r})),r}var o=0===e.length&&0===a.length&&0===t.length&&0===n.length;return ba(Object(q.a)(Object(q.a)({},ha),{},{verify:o})),o}()?function(){var e=Object(He.a)(ya);return e.forEach((function(a,t){var n="",r=a.numero_credito.replace(/\s/g,""),o=a.cuota_fija.replace(/\s/g,"");n=r.length>0?10===r.length&&o.length>0:0===r.length&&0===o.length,e[t]={numero_credito:r,cuota_fija:o,verify:n}})),ja(e),0===e.filter((function(e){return!0!==e.verify})).length}()?!!function(){var e=Object(q.a)({},Ne),a=Object.keys(e);a.forEach((function(a){switch(a){case"id_contrato":case"id_empresa_pertenece":break;case"fecha_fin_contrato":e[a].verify=!0;break;default:e[a].verify="".concat(e[a].value).length>0&&e[a].verify}})),console.log(e);var t=a.filter((function(a){return!0!==e[a].verify}));return Pe(e),0===t.length}()||(wa(6,"Contrato tiene campos vacios"),!1):(wa(5,"El credito Fonacot tiene campos vacios"),!1):(wa(5,"El credito Infonavit tiene campos vacios"),!1):(wa(4,"Debe registrar el banco y al menos un dato bancario"),!1):(wa(2),!1):(wa(1),!1):(wa(0),!1)},Aa=function(e){return e.map((function(e){var a={};for(var t in e)a[t]="dia_semana"!==t&&"tipo"!==t&&"tipo_correo"!==t&&"checked"!==t&&"hora_entrada"!==t&&"hora_salida"!==t?"":"checked"!==t&&e[t];return a}))},Da={general:function(){var e=Object(q.a)(Object(q.a)(Object(q.a)({},be),ye),Se),a=Object.keys(e),t=new FormData;return a.forEach((function(a){switch(a){case"url_foto":break;case"fileImg":null!==e[a]&&t.append("foto",e[a]);break;case"rfc":case"curp":t.append(a,e[a].value.toUpperCase());break;case"fecha_nacimiento":case"fecha_traspaso":case"fecha_contrato":t.append(a,N.a.utc(e[a].value,"DD/MM/YYYY").format("YYYY/MM/DD"));break;case"entidad":t.append("entidad_reside",e[a].value);break;case"no_cuenta":case"no_tarjeta":case"clabe":var n=e[a].value.replace(/\s/g,"");n.length>0&&t.append(a,n);break;default:"".concat(e[a].value).length>0&&t.append(a,e[a].value)}})),t},telefonos:function(e){var a=[];return Je.forEach((function(e){var t=e.value.replace(/\s/g,"");t.length>=5&&a.push({numero:t,tipo:e.tipo})})),a.length>0?{id_empleado:e,telefonos:a}:null},correos:function(e){var a=[];return ca.forEach((function(e){var t=e.value.replace(/\s/g,"");t.length>=5&&a.push({correo:t,tipo_correo:e.tipo_correo})})),a.length>0?{id_empleado:e,correos:a}:null},creditoFonacot:function(e){var a=[];return ya.forEach((function(e){var t=e.numero_credito.replace(/\s/g,"");10===t.length&&a.push({numero_credito:t,cuota_fija:e.cuota_fija})})),a.length>0?{id_empleado:e,creditos:a}:null},creditoInfonavit:function(e){var a={};return a.id_empleado=e,a.numero_credito=ha.numero_credito.replace(/\s/g,""),""!==ha.porcentaje_descuento&&(a.porcentaje_descuento=ha.porcentaje_descuento),""!==ha.factor_descuento&&(a.factor_descuento=ha.factor_descuento),""!==ha.cuota_fija&&(a.cuota_fija=ha.cuota_fija),10===a.numero_credito.length?a:null},horarioDias:function(e){var a=[];return da.forEach((function(e){a.push({dia_semana:e.dia_semana,hora_entrada:e.hora_entrada,hora_salida:e.hora_salida})})),{id_empleado:e,horario:a}},contratoDat:function(e){var a=Object(q.a)({},Ne),t=Object.keys(a),n={};return t.forEach((function(e){switch(e){case"id_contrato":case"id_empresa_pertence":case"id_empresa_pertenece":break;case"fecha_contrato_externo":case"fecha_inicio_contrato":case"fecha_fin_contrato":var t=N.a.utc(a[e].value);t.isValid()&&(n[e]=t.format("YYYY/MM/DD"));break;case"id_empresa_labora":n[e]=a[e].value.id_empresa;break;case"id_puesto":case"id_departamento":n[e]=a[e].value[e];break;default:"".concat(a[e].value).length>0&&(n[e]=a[e].value)}})),n.id_empleado=e,n}};return r.a.createElement(r.a.Fragment,null,r.a.createElement($e.a,{className:s.root},r.a.createElement(Qe.a,{className:s.cardContent},r.a.createElement(Ie.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:r.a.createElement(Le.a,{component:"div",display:"block",className:s.subheader},r.a.createElement(y.a,{className:s.back,onClick:function(){u.goBack()}},r.a.createElement(Yt.a,null)),r.a.createElement(j.a,{className:s.title,variant:"button",gutterBottom:!0},"formulario empleado"),r.a.createElement(Ft,{onClick:function(){_(Object(q.a)(Object(q.a)({},g),{},{expandable:!g.expandable}))},open:g.expandable})),className:s.root},r.a.createElement(Ce.a,{className:s.header,button:!0,onClick:Ca.bind(this,0)},r.a.createElement(ke.a,null,r.a.createElement(Xe.a,null)),r.a.createElement(we.a,{primary:"Informacion"}),0===g.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:0===g.actual||g.expandable,timeout:"auto",unmountOnExit:!0},r.a.createElement(Dr,{data:be,setData:Ee,buttons:ka,expandable:g.expandable,nacionalidadades:se})),r.a.createElement(Ce.a,{className:s.header,button:!0,onClick:Ca.bind(this,1)},r.a.createElement(ke.a,null,r.a.createElement(aa.a,null)),r.a.createElement(we.a,{primary:"Direcci\xf3n"}),1===g.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:1===g.actual||g.expandable,timeout:"auto",unmountOnExit:!0},r.a.createElement(ga,{data:ye,setData:xe,buttons:ka,expandable:g.expandable,edit:!1})),r.a.createElement(Ce.a,{className:s.header,button:!0,onClick:Ca.bind(this,2)},r.a.createElement(ke.a,null,r.a.createElement(Jr.a,null)),r.a.createElement(we.a,{primary:"Contacto"}),2===g.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:2===g.actual||g.expandable,timeout:"auto",unmountOnExit:!0},r.a.createElement(oo,{buttons:ka,expandable:g.expandable,phones:Je,setPhones:Ze,correos:ca,setCorreos:ia})),r.a.createElement(Ce.a,{className:s.header,button:!0,onClick:Ca.bind(this,3)},r.a.createElement(ke.a,null,r.a.createElement(Gr.a,null)),r.a.createElement(we.a,{primary:"Horario"}),3===g.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:3===g.actual||g.expandable,timeout:"auto",unmountOnExit:!0},r.a.createElement(Wr,{buttons:ka,expandable:g.expandable,horario:da,setHorario:ma})),r.a.createElement(Ce.a,{className:s.header,button:!0,onClick:Ca.bind(this,4)},r.a.createElement(ke.a,null,r.a.createElement(wr.a,null)),r.a.createElement(we.a,{primary:"Financiero"}),4===g.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:4===g.actual||g.expandable,timeout:"auto",unmountOnExit:!0},r.a.createElement(qr,{data:Se,setData:Ae,buttons:ka,expandable:g.expandable,bancos:me})),r.a.createElement(Ce.a,{className:s.header,button:!0,onClick:Ca.bind(this,5)},r.a.createElement(ke.a,null,r.a.createElement($r.a,null)),r.a.createElement(we.a,{primary:"Creditos"}),5===g.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:5===g.actual||g.expandable,timeout:"auto",unmountOnExit:!0},r.a.createElement(eo,{fonacot:ya,setFonacot:ja,infonavit:ha,setInfonavit:ba,buttons:ka,expandable:g.expandable})),r.a.createElement(Ce.a,{className:s.header,button:!0,onClick:Ca.bind(this,6)},r.a.createElement(ke.a,null,r.a.createElement(X.a,null)),r.a.createElement(we.a,{primary:"Contrato"}),6===g.actual?r.a.createElement(Ge.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(Re.a,{in:6===g.actual||g.expandable,timeout:"auto",unmountOnExit:!0},r.a.createElement(Lr,{data:Ne,setData:Pe,buttons:ka,expandable:g.expandable,empresasInt:Object(He.a)(ae),empresasAll:Object(He.a)(oe),departamentos:Object(He.a)(F),puestos:Object(He.a)(R),jornadas:Object(He.a)(M),tipoContrato:$,regimenContrato:G,setIdentificador:Ye,editable:!1})))),r.a.createElement(ta.a,null,r.a.createElement(na.a,{container:!0},r.a.createElement(na.a,{item:!0,xs:12,sm:6,container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(j.a,{style:{marginLeft:24},variant:"button",color:"initial"},"Identificador: ".concat(ze))),r.a.createElement(na.a,{item:!0,xs:12,sm:6,container:!0,direction:"row",justify:"flex-end",alignItems:"center"},r.a.createElement("div",{className:s.wrapper},r.a.createElement(ra.a,{variant:"contained",className:s.save,disabled:v,endIcon:r.a.createElement(Dt.a,null),onClick:function(){var r=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:(t=e.sent).created?p(t.empleado[0].id_empleado):k({open:!0,message:"Ha ocurrido un error con el registro, intenta nuevamente",severity:"success",title:"Registro fallido!"}),h(!1);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),s=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,n,r,o,c,i,l,s;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,A(t)||(n=t.error,(r=n.detail).includes("no_imss")?((o=Object(q.a)({},be)).no_imss=Object(q.a)(Object(q.a)({},o.no_imss),{},{verify:!1}),Ee(o),wa(0,"No IMMS est\xe1 asignado a algui\xe9n m\xe1s")):r.includes("no_cuenta")?((c=Object(q.a)({},Se)).no_cuenta=Object(q.a)(Object(q.a)({},c.no_cuenta),{},{verify:!1}),Ae(c),wa(4,"No. Cuenta est\xe1 asignado a algui\xe9n m\xe1s")):r.includes("no_tarjeta")?((i=Object(q.a)({},Se)).no_tarjeta=Object(q.a)(Object(q.a)({},i.no_tarjeta),{},{verify:!1}),Ae(i),wa(4,"No. Tarjeta est\xe1 asignado a algui\xe9n m\xe1s")):r.includes("clabe")?((l=Object(q.a)({},Se)).clabe=Object(q.a)(Object(q.a)({},l.clabe),{},{verify:!1}),Ae(l),wa(4,"No. Tarjeta est\xe1 asignado a algui\xe9n m\xe1s")):r.includes("rfc")?((s=Object(q.a)({},be)).rfc=Object(q.a)(Object(q.a)({},s.clabe),{},{verify:!1}),Ee(s),wa(4,"RFC est\xe1 asignado a algui\xe9n m\xe1s")):k({open:!0,message:"Algo sali\xf3 mal y revisa tus campos",severity:"error",title:"Registro fallido!"}),h(!1));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),p=function(r){var s=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,A(t)||console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();ua.post({url:"".concat(ua.BASE_URL,"/api/rh/empleado/telefono"),headers:S,data:Da.telefonos(r),exito:function(){var e=Object(We.a)(Be.a.mark((function e(a){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ze(Aa(Je));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:s,error_request:function(e){u.push("/server-error")}}),ua.post({url:"".concat(ua.BASE_URL,"/api/rh/empleado/correo"),headers:S,data:Da.correos(r),exito:function(){var e=Object(We.a)(Be.a.mark((function e(a){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,a.json();case 3:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),ia(Aa(ca));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:s,error_request:function(e){u.push("/server-error")}}),ua.post({url:"".concat(ua.BASE_URL,"/api/rh/empleado/horario"),headers:S,data:Da.horarioDias(r),exito:function(){var e=Object(We.a)(Be.a.mark((function e(a){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,a.json();case 3:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),ma(Aa(l));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:s,error_request:function(e){u.push("/server-error")}}),ua.post({url:"".concat(ua.BASE_URL,"/api/rh/empleado/contrato"),headers:S,data:Da.contratoDat(r),exito:function(){var e=Object(We.a)(Be.a.mark((function e(a){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,a.json();case 3:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),Pe(n);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:s,error_request:function(e){u.push("/server-error")}});var p=Da.creditoFonacot(r);null!==p&&ua.post({url:"".concat(ua.BASE_URL,"/api/rh/empleado/credito_fonacot"),headers:S,data:p,exito:function(){var e=Object(We.a)(Be.a.mark((function e(a){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,a.json();case 3:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),ja(Aa(i));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:s,error_request:function(e){u.push("/server-error")}});var d=Da.creditoInfonavit(r);null!==d&&ua.post({url:"".concat(ua.BASE_URL,"/api/rh/empleado/credito_infonavit"),headers:S,data:d,exito:function(){var e=Object(We.a)(Be.a.mark((function e(a){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,a.json();case 3:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),ba(c);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:s,error_request:function(e){u.push("/server-error")}});var m="00000"+r;ua.put({url:"".concat(ua.BASE_URL,"/api/rh/empleado/").concat(r),headers:S,data:{identificador:ze+m.substring(m.length-5)},exito:function(){var e=Object(We.a)(Be.a.mark((function e(n){var r;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:(r=e.sent).updated&&(Ye(""),Ee(a),xe(t),Ae(o),k({open:!0,message:"Ha quedado registrado el empleado con IDENTIFICADOR: "+r.empleado[0].identificador,severity:"success",title:"Registro exitoso!"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:s,error_request:function(e){u.push("/server-error")}}),function(){var a=Object(We.a)(Be.a.mark((function a(){var t,n,r,o,c;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=ca.find((function(e){return e.value.replace(/\s/g,"").length>0})),n=function(){return Ne.id_empresa_labora.value.es_interna?"G":"E"},r=JSON.stringify({rfc:be.rfc.value.toUpperCase(),correo:t.value,rol:n(),tipo:"E"}),console.log(r),a.next=6,fetch("".concat(sa,"/api/rh/usuario"),{method:"POST",headers:S,body:r});case 6:o=a.sent,c=o.json(),A(c)||(c.error?e.enqueueSnackbar("Usuario no creado",{variant:"error",preventDuplicate:!0}):e.enqueueSnackbar("Usuario creado",{variant:"success",preventDuplicate:!0}));case 9:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()()};Sa()&&(h(!0),function(){var e=new Headers;e.append("authorization",S.authorization),ua.postForm({url:"".concat(ua.BASE_URL,"/api/rh/empleado"),headers:e,data:Da.general(),exito:r,fallo:s,error_request:function(e){u.push("/server-error")}})}())}},"Guardar",v&&r.a.createElement(Tt.a,{size:24,className:s.buttonProgress}))))))),r.a.createElement(oa.a,{open:C.open,autoHideDuration:5e3,onClose:Oa},r.a.createElement(No,{onClose:Oa,severity:C.severity},r.a.createElement(xa.a,null,C.title),C.message)))})),qo=Object(Y.a)((function(e){var a;return{fullScreen:(a={},Object(m.a)(a,e.breakpoints.down("sm"),{marginLeft:"0px"}),Object(m.a)(a,e.breakpoints.up("md"),{marginLeft:"50%"}),a),appBar:{position:"relative",backgroundImage:"linear-gradient(45deg, #D84315, #F57C00)"},title:{marginLeft:e.spacing(2),flex:1},container:{padding:e.spacing(3),background:"#fafafa"}}})),Fo=r.a.forwardRef((function(e,a){return r.a.createElement(Xa.a,Object.assign({direction:"left",ref:a},e))}));function zo(e){var a=e.open,t=e.setOpen,n=qo();return r.a.createElement(Ja.a,{className:n.fullScreen,fullScreen:!0,open:a,onClose:function(){return t(!1)},TransitionComponent:Fo},r.a.createElement(v.a,{position:"fixed",className:n.appBar},r.a.createElement(x.a,null,r.a.createElement(y.a,{edge:"start",color:"inherit",onClick:function(){return t(!1)},"aria-label":"close"},r.a.createElement(A.a,null)),r.a.createElement(j.a,{variant:"h6",className:n.title},"Ver Empleado"))),r.a.createElement(na.a,{container:!0,className:n.container},r.a.createElement(Ro,{id:e.data.id_empleado,onlySee:!0})))}var Yo={P:"Pendiente",A:"Activo",B:"Baja"},Uo={C:"Casado",S:"Soltero",D:"Divorciado",V:"Viudo",I:"Indistinto"},Mo={F:"Femenino",M:"Masculino",O:"Otro"};function Bo(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}var Wo=r.a.forwardRef((function(e,a){return r.a.createElement(Xa.a,Object.assign({direction:"up",ref:a},e))}));function Ho(){var e=r.a.useContext(rt),a=e.cabeceras,t=e.isTokenExpired,n=e.permisos,o=e.rol,c=Object(d.g)(),i=Object(d.h)(),l=i.interna,s=i.externa,u=r.a.useState({interna:l,externa:s}),p=Object(f.a)(u,2),m=p[0],v=p[1],h=r.a.useState({bancos:[],nacionalidades:[]}),b=Object(f.a)(h,2),E=b[0],g=b[1],_=r.a.useState([]),y=Object(f.a)(_,2),x=y[0],j=y[1],O=r.a.useState([]),C=Object(f.a)(O,2),w=C[0],S=C[1],A=r.a.useState(!1),D=Object(f.a)(A,2),T=D[0],R=D[1],I=r.a.useState(!0),L=Object(f.a)(I,2),P=L[0],F=L[1],z=r.a.useState({}),Y=Object(f.a)(z,2),U=Y[0],M=Y[1],B=r.a.useState({open:!1,message:"",severity:"",title:""}),W=Object(f.a)(B,2),H=W[0],G=W[1],V=r.a.useState(!1),J=Object(f.a)(V,2),Z=J[0],$=J[1],Q=r.a.useState({}),K=Object(f.a)(Q,2),X=K[0],ee=K[1],ae=function(e,a){G(Object(q.a)(Object(q.a)({},H),{},{open:!1}))},te=function(e){var t=e.interna,n=e.externa,r="".concat(ua.BASE_URL,"/api/rh/empleado/?query=").concat(ua.EMPLEADO_ALL);return"all"===t&&"all"===n||("all"!==t&&(r+="&id_empresa_pertene=".concat(t)),"all"!==n&&(r+="&id_empresa_labora=".concat(n))),fetch(r,{method:"GET",headers:a})},ne=function(e,a,t){return 0===t.length&&(F(!1),H.open||G({open:!0,message:"No existen registros de empleados",severity:"info",title:"Ningun registro encontrado"})),t.forEach((function(t){""===t.identificador&&(t.identificador=null),t.fecha_nacimiento=N.a.utc(t.fecha_nacimiento).format("DD/MM/YYYY"),t.estatus=Yo[t.estatus],t.estado_civil=Uo[t.estado_civil],t.genero=Mo[t.genero],t.entidad_reside=fa(t.entidad_reside)?va(t.entidad_reside):t.entidad_reside,t.id_nacionalidad=e.find((function(e){return e.id_nacionalidad===t.id_nacionalidad})).pais_nac,t.id_banco=null!==t.id_banco?a.find((function(e){return e.id_banco===t.id_banco})).nombre_banco:""})),t},re=function(){var e=!0;if(e){F(!0);var r={method:"GET",headers:a};Promise.all([fetch("".concat(ua.BASE_URL,"/api/rh/nacionalidad"),r),fetch("".concat(ua.BASE_URL,"/api/rh/banco"),r),fetch("".concat(ua.BASE_URL,"/api/rh/empresa?query=id_empresa-es_interna-razon_social"),r),te({interna:l,externa:s})]).then(function(){var e=Object(We.a)(Be.a.mark((function e(a){var n,r,o,c,i,l,s,u,p;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(f.a)(a,4),r=n[0],o=n[1],c=n[2],i=n[3],e.next=3,r.json();case 3:return l=e.sent,e.next=6,o.json();case 6:return s=e.sent,e.next=9,c.json();case 9:return u=e.sent,e.next=12,i.json();case 12:if(p=e.sent,t(l)||t(s)||t(u)||t(p)){e.next=17;break}return e.abrupt("return",{nacionalidades:l,bancos:s.bancos,empresas:u.empresas,empleados:p.empleados});case 17:return e.abrupt("return",{});case 18:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).then((function(a){var t=a.nacionalidades,r=a.bancos,c=a.empresas,i=a.empleados;t&&r&&c&&i&&e&&("G"===o&&(i=i.filter((function(e){return n.some((function(a){return e.id_empresa_labora===a}))}))),S(c),g({bancos:r,nacionalidades:t}),j(ne(t,r,i))),F(!1)})).catch((function(e){c.push("/server-error")}))}return function(){return e=!1}},oe=function(e,a){var n=a.target.value,r="";j([]),F(!0);var o={interna:"",externa:""};e?(r="/nomina/listar-empleado-by/".concat(n,"/").concat(m.externa),o=Object(q.a)(Object(q.a)({},m),{},{interna:n}),v(o)):(r="/nomina/listar-empleado-by/".concat(m.interna,"/").concat(n),o=Object(q.a)(Object(q.a)({},m),{},{externa:n}),v(o)),c.push(r),te(o).then((function(e){return e.json()})).then((function(e){t(e)||(j(ne(E.nacionalidades,E.bancos,e.empleados)),F(!1))})).catch((function(e){c.push("/server-error")}))};r.a.useEffect((function(){var e=!0;return e&&re(),function(){return e=!1}}),[]);var ce=[{icon:function(){return r.a.createElement(xr.a,null)},tooltip:"Ver",onClick:function(e,a){ee(a),$(!0)}},{icon:function(){return r.a.createElement(vr.a,null)},tooltip:"Editar",onClick:function(e,a){return c.push("/nomina/edit-empleado/".concat(a.id_empleado))}},{icon:function(){return r.a.createElement(br.a,null)},tooltip:"Eliminar",onClick:function(e,a){R(!0),M(a)}},{icon:"refresh",tooltip:"Recargar",isFreeAction:!0,onClick:re},{icon:"add",tooltip:"Agregar",isFreeAction:!0,onClick:function(e,a){return c.push("/nomina/nuevo-empleado")}}],ie={Toolbar:function(e){return r.a.createElement("div",null,r.a.createElement(dr.MTableToolbar,e),r.a.createElement("div",{style:{padding:"0px 8px 8px 24px"}},r.a.createElement(ca.a,{style:{minWidth:250,marginRight:20},select:!0,label:"Empresa Pertenece",value:w.length>0?m.interna:"all",onChange:function(e){return oe(!0,e)}},r.a.createElement(k.a,{value:"all"},"TODOS"),w.filter((function(e){return e.es_interna})).map((function(e){return r.a.createElement(k.a,{key:"empresas_interna=".concat(e.id_empresa),value:"".concat(e.id_empresa)},e.razon_social)}))),r.a.createElement(ca.a,{style:{minWidth:250},select:!0,label:"Empresa Labora",defaultValue:"all",value:w.length>0?m.externa:"all",onChange:function(e){return oe(!1,e)}},r.a.createElement(k.a,{value:"all"},"TODOS"),("G"===o?w.filter((function(e){return n.some((function(a){return e.id_empresa===a}))})):w).map((function(e){return r.a.createElement(k.a,{key:"empresas_all=".concat(e.id_empresa),value:"".concat(e.id_empresa)},e.razon_social)})))))}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{localization:{header:{actions:"Acciones"},body:{emptyDataSourceMessage:"No hay registros que mostrar",editTooltip:"Editar",deleteTooltip:"Borrar",addTooltip:"A\xf1adir",editRow:{cancelTooltip:"Cancelar",saveTooltip:"Guardar",deleteText:"\xbfEst\xe1s seguro de eliminar este empleado?"}},toolbar:{searchTooltip:"Buscar",searchPlaceholder:"Buscar",exportName:"Exportar como CSV",exportTitle:"Exportar",showColumnsTitle:"Columas",showColumnsAriaLabel:"Columnas",addRemoveColumns:"Agregar o remover columnas"},pagination:{firstTooltip:"Primera p\xe1gina",previousTooltip:"P\xe1gina anterior",nextTooltip:"P\xe1gina siguiente",lastTooltip:"\xdaltima p\xe1gina",labelRowsSelect:"filas",labelDisplayedRows:"{from}-{to} a {count}"},grouping:{placeholder:"Arrastre los encabezados aqu\xed para agrupar por"}},title:"Empleados",columns:[{title:"Identificador",field:"identificador",width:200,removable:!1,emptyValue:"SIN CONTRATO ACTIVO",allSort:"asc"},{title:"RFC",field:"rfc",width:200,removable:!1},{title:"Nombre",field:"nombre",width:180,removable:!1},{title:"Primer Apellido",field:"primer_apellido",width:160,removable:!1},{title:"Segundo Apellido",field:"segundo_apellido",hidden:!0,width:160,emptyValue:"N/A"},{title:"Fecha Nac.",field:"fecha_nacimiento",width:140},{title:"Estado Civil",field:"estado_civil",width:140},{title:"Sexo",field:"genero",width:80},{title:"CURP",field:"curp",width:200},{title:"Nacionalidad",field:"id_nacionalidad",width:150},{title:"No. IMSS",field:"no_imss",width:150},{title:"Estatus",field:"estatus",width:100},{title:"Calle",field:"calle",width:200},{title:"No.Ext",field:"no_exterior",width:100},{title:"No.Int",field:"no_interior",hidden:!0,width:100,emptyValue:"S/N"},{title:"CP.",field:"cp",width:100},{title:"Colonia",field:"colonia",width:200},{title:"Municipio",field:"municipio",width:200},{title:"Estado",field:"entidad_reside",width:150},{title:"Salario D.",field:"salario_diario",hidden:!0,width:130,type:"numeric"},{title:"Salario C.",field:"salario_capturado",hidden:!0,width:130,type:"numeric"},{title:"No. Cuenta",field:"no_cuenta",hidden:!0,width:170,emptyValue:"N/A"},{title:"No. Tarjeta",field:"no_tarjeta",hidden:!0,width:170,emptyValue:"N/A"},{title:"CLABE",field:"clabe",hidden:!0,width:200,emptyValue:"N/A"},{title:"Banco",field:"id_banco",hidden:!0,width:150},{title:"",field:"id_empleado",hidden:!0,width:0,editable:"never",removable:!1}],data:x,actions:ce,components:ie,options:{draggable:!1,columnsButton:!0,exportAllData:!0,exportButton:!0,pageSize:10,pageSizeOptions:[10,20,50,100],fixedColumns:{left:2},headerStyle:{fontWeight:"bold"}},isLoading:P}),r.a.createElement(Ja.a,{open:T,TransitionComponent:Wo,onClose:function(){return R(!1)}},r.a.createElement(Ka.a,null,"Eliminar empleado"),r.a.createElement($a.a,null,r.a.createElement(Qa.a,null,"Est\xe1 apunto de eliminar al empleado"," ".concat(U.nombre," ").concat(U.primer_apellido," "))),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:function(){return R(!1)}},"Cancelar"),r.a.createElement(ra.a,{onClick:function(){var e=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,n,r,o,c,i,l;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,console.log(t),t.updated?(n=U.nombre,r=U.primer_apellido,o=U.rfc,G({open:!0,message:"".concat(n," ").concat(r," ").concat(o," ha sido dato de baja con exito"),severity:"warning",title:"Eliminacion exitosa"}),re()):(F(!1),c=U.nombre,i=U.primer_apellido,l=U.rfc,G({open:!0,message:"".concat(c," ").concat(i," ").concat(l," ha ocurrido un error"),severity:"error",title:"Eliminacion fallida"}));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n=function(){var e=Object(We.a)(Be.a.mark((function e(a){var n,r,o;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(a)||(n=U.nombre,r=U.primer_apellido,o=U.rfc,F(!1),G({open:!0,message:"".concat(n," ").concat(r," ").concat(o," ha ocurrido un error"),severity:"error",title:"Eliminacion fallida"}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),r=function(){c.push("/server-error")};R(!1),function(){F(!0);var t=new FormData;t.append("estatus","B");var o=new Headers;o.append("authorization",a.authorization),ua.putForm({url:"".concat(ua.BASE_URL,"/api/rh/empleado/").concat(U.id_empleado),headers:o,data:t,exito:e,fallo:n,error_request:r})}()},color:"secondary"},"Eliminar"))),r.a.createElement(zo,{open:Z,setOpen:$,data:X}),r.a.createElement(oa.a,{open:H.open,autoHideDuration:6e3,onClose:ae},r.a.createElement(Bo,{onClose:ae,severity:H.severity},r.a.createElement(xa.a,null,H.title),H.message)))}var Go=Object(Y.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},cardContent:{padding:"0px"},header:{background:"#fafafa"},container:{padding:e.spacing(4)},uppercase:{textTransform:"uppercase"},save:{color:e.palette.common.white,backgroundColor:At.a[500],"&:hover":{backgroundColor:At.a[600]}},buttonProgress:{color:At.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},wrapper:{margin:e.spacing(1),position:"relative"},title:{paddingRight:42,textAlign:"center",margin:"15px auto"},back:{left:-12,float:"left"},subheader:{textAlign:"center"}}}));function Vo(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}var Jo={existe:{value:!1},id_representante:{value:"",verify:""},rfc:{value:"",verify:""},nombre:{value:"",verify:""},primer_apellido:{value:"",verify:""},segundo_apellido:{value:"",verify:""},genero:{value:"",verify:""},observaciones:{value:"",verify:""},correo:{value:"",verify:""}},Zo=[{value:"",verify:"",tipo:"C",helperText:""},{value:"",verify:"",tipo:"F",helperText:""}];var $o=Object(L.b)((function(e){var a=r.a.useContext(rt),t=a.cabeceras,n=a.isTokenExpired,o=Go(),c=Object(d.g)(),i=r.a.useState(!1),l=Object(f.a)(i,2),s=l[0],u=l[1],p=r.a.useState({open:!1,message:"",severity:"",title:""}),m=Object(f.a)(p,2),v=m[0],h=m[1],b=r.a.useState(Jo),E=Object(f.a)(b,2),g=E[0],_=E[1],x=r.a.useState(Zo),O=Object(f.a)(x,2),C=O[0],k=O[1],w=function(e,a){"clickaway"===a&&h(Object(q.a)(Object(q.a)({},v),{},{open:!1})),h(Object(q.a)(Object(q.a)({},v),{},{open:!1}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement($e.a,{className:o.root},r.a.createElement(Qe.a,{className:o.cardContent},r.a.createElement(Ie.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:r.a.createElement(Le.a,{component:"div",display:"block",className:o.subheader},r.a.createElement(y.a,{className:o.back,onClick:function(){c.goBack()}},r.a.createElement(Yt.a,null)),r.a.createElement(j.a,{className:o.title,variant:"button",gutterBottom:!0},"formulario representante")),className:o.root},r.a.createElement(Ce.a,{className:o.header},r.a.createElement(ke.a,null,r.a.createElement(Xe.a,null)),r.a.createElement(we.a,{primary:"Informacion"})),r.a.createElement(Re.a,{in:!0,timeout:"auto",unmountOnExit:!0},r.a.createElement(pt,{data:g,setData:_,phones:C,setPhones:k,expandable:!0,loading:s,edit:!1})))),r.a.createElement(ta.a,null,r.a.createElement(na.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},r.a.createElement("div",{className:o.wrapper},r.a.createElement(ra.a,{variant:"contained",className:o.save,disabled:s||g.existe.value,endIcon:r.a.createElement(Dt.a,null),onClick:function(){var a=function(e){var a=[];return C.forEach((function(e){var t=e.value.replace(/\s/g,"");t.length>=5&&a.push({numero:t,tipo:e.tipo})})),a.length>0?{id_representante:e,telefonos:a}:null},r=function(){var e={representante:""};return e.representante={rfc:g.rfc.value.toUpperCase(),nombre:g.nombre.value,primer_apellido:g.primer_apellido.value,segundo_apellido:g.segundo_apellido.value,genero:g.genero.value,correo:g.correo.value,observaciones:g.observaciones.value},e},o=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,n=t.representate,t.created?(_((function(e){return Object(q.a)(Object(q.a)({},e),{},{id_representante:{value:n[0].id_representante}})})),s(n[0].id_representante),p()):(u(!1),h({open:!0,message:"La RFC ".concat(g.rfc.value," ya se encuentra registrado"),severity:"error",title:"Registro fallido!"}));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),i=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,r=n.created,console.log(n),u(!1),r&&(e.enqueueSnackbar("Tel\xe9fonos creados",{variant:"success",preventDuplicate:!0}),_(Jo),k(Zo));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),l=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),s=function(e){null!==a(e)&&ua.post({url:"".concat(ua.BASE_URL,"/api/rh/representante/telefono"),headers:t,data:a(e),exito:i,fallo:l,error_request:function(){c.push("/server-error")}})},p=function(){var a=Object(We.a)(Be.a.mark((function a(){var r,o,c;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=JSON.stringify({rfc:g.rfc.value.toUpperCase(),correo:g.correo.value,rol:"C",tipo:"R"}),a.next=3,fetch("".concat(sa,"/api/rh/usuario"),{method:"POST",headers:t,body:r});case 3:o=a.sent,c=o.json(),n(c)||(c.error?e.enqueueSnackbar("Usuario no creado",{variant:"error",preventDuplicate:!0}):e.enqueueSnackbar("Usuario creado",{variant:"success",preventDuplicate:!0}));case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();(function(){var e=["rfc","nombre","primer_apellido","genero","correo"],a=Object(q.a)({},g);return e.forEach((function(e){a[e]="rfc"===e?Object(q.a)(Object(q.a)({},g[e]),{},{verify:13==="".concat(g[e].value).replace(/\s/g,"").length}):"correo"===e?Object(q.a)(Object(q.a)({},g[e]),{},{verify:Ut.esCorreo(g[e].value)}):Object(q.a)(Object(q.a)({},g[e]),{},{verify:"".concat(g[e].value).length>0&&g[e].verify})})),_(a),0===e.filter((function(e){return!0!==a[e].verify})).length})()?function(){var e=Object(He.a)(C),a=[];e.forEach((function(e){if(10===e.value.replace(/\s/g,"").length){var t=e.verify;e.verify=t,a.push(t)}}));var t=a.filter((function(e){return!0!==e}));return 0===a.length?(e[0].verify=!1,e[0].helperText="Registra al menos uno",e[1].verify=!1,e[1].helperText="Registra al menos uno",!1):(k(e),0===t.length)}()?(u(!0),""===g.id_representante.value?ua.post({url:"".concat(ua.BASE_URL,"/api/rh/representante"),headers:t,data:r(),exito:o,fallo:l,error_request:function(){c.push("/server-error")}}):s(g.id_representante.value)):(h({open:!0,message:"Debes guardar al menos un tel\xe9fono",severity:"warning",title:"Revisa los telefonos!"}),u(!1)):(h({open:!0,message:"Hay campos requeridos que estan vacios, revisalos porfavor",severity:"warning",title:"Campos vacios!"}),u(!1))}},"Guardar",s&&r.a.createElement(Tt.a,{size:24,className:o.buttonProgress})))))),r.a.createElement(oa.a,{open:v.open,autoHideDuration:5e3,onClose:w},r.a.createElement(Vo,{onClose:w,severity:v.severity},r.a.createElement(xa.a,null,v.title),v.message)))})),Qo=Object(Y.a)((function(e){return{root:{width:"100%",marginBottom:24,backgroundColor:e.palette.background.paper},cardContent:{padding:"0px"},header:{background:"#fafafa"},container:{padding:e.spacing(4)},uppercase:{textTransform:"uppercase"},save:{color:e.palette.common.white,backgroundColor:At.a[500],"&:hover":{backgroundColor:At.a[600]}},buttonProgress:{color:At.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},buttonDeleting:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},wrapper:{margin:e.spacing(1),position:"relative"},title:{paddingRight:42,textAlign:"center",margin:"15px auto"},subheader:{textAlign:"center"},delete:{marginRight:e.spacing(1)},back:{left:-12,float:"left"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fafafa"},butonHide:{opacity:0}}})),Ko=r.a.forwardRef((function(e,a){return r.a.createElement(Xa.a,Object.assign({direction:"up",ref:a},e))}));function Xo(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}var ec={existe:{value:!1},id_representante:{value:"",verify:""},rfc:{value:"",verify:""},nombre:{value:"",verify:""},primer_apellido:{value:"",verify:""},segundo_apellido:{value:"",verify:""},genero:{value:"",verify:""},observaciones:{value:"",verify:""},correo:{value:"",verify:""}},ac=[{value:"",verify:"",tipo:"F",helperText:""},{value:"",verify:"",tipo:"C",helperText:""}];var tc=Object(L.b)((function(e){var a=r.a.useContext(rt),t=a.cabeceras,n=a.isTokenExpired,o=Qo(),c=Object(d.g)(),i=Object(d.h)(),l=void 0===i.id?e.id:i.id,s=e.onlySee,u=r.a.useState({open:!1,type:""}),p=Object(f.a)(u,2),v=p[0],h=p[1],E=r.a.useState(!0),g=Object(f.a)(E,2),_=g[0],x=g[1],O=r.a.useState(!1),C=Object(f.a)(O,2),k=C[0],w=C[1],S=r.a.useState(!1),A=Object(f.a)(S,2),D=A[0],T=A[1],R=r.a.useState([]),I=Object(f.a)(R,2),N=I[0],L=I[1],P=r.a.useState({}),F=Object(f.a)(P,2),z=F[0],Y=F[1],U=r.a.useState(ec),M=Object(f.a)(U,2),B=M[0],W=M[1],H=r.a.useState(ac),G=Object(f.a)(H,2),V=G[0],J=G[1],Z=r.a.useState({open:!1,message:"",severity:"",title:""}),$=Object(f.a)(Z,2),Q=$[0],K=$[1],X=r.a.useRef(),ee=function(e,a){K(Object(q.a)(Object(q.a)({},Q),{},{open:!1}))};return r.a.useEffect((function(){var e=!0;if(void 0!==l){var a=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r,o,i,l,s,u,p,d,m;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,e&&(1===n.length?(Y(n[0]),r=n[0],o=r.id_representante,i=r.rfc,l=r.nombre,s=r.primer_apellido,u=r.segundo_apellido,p=r.genero,d=r.correo,m=r.observaciones,W((function(e){return Object(q.a)(Object(q.a)({},e),{},{existe:{value:!1},id_representante:{value:o,verify:!0},rfc:{value:i,verify:!0},nombre:{value:l,verify:!0},primer_apellido:{value:s,verify:!0},segundo_apellido:{value:null===u||void 0===u?"":u,verify:!0},genero:{value:p,verify:!0},correo:{value:d,verify:!0},observaciones:{value:null===m||void 0===m?"":m,verify:!0}})})),x(!1)):c.push("/nomina/page-not-found"));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),r=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,e&&(console.log("EDIT   ",n.telefonos),r=[{value:"",verify:"",tipo:"C",helperText:""},{value:"",verify:"",tipo:"F",helperText:""}],n.telefonos.forEach((function(e){switch(e.tipo){case"C":r[0]={value:e.numero,verify:!0,tipo:e.tipo,helperText:""};break;case"F":r[1]={value:e.numero,verify:!0,tipo:e.tipo,helperText:""};break;default:r.push({value:e.numero,verify:!0,tipo:e.tipo,helperText:""})}})),J(r),L(n.telefonos));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),o=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();ua.get({url:"".concat(ua.BASE_URL,"/api/rh/representante/").concat(l,"?query=").concat(ua.REPRESENTANTE_ALL),headers:t,exito:a,fallo:o,error_request:function(e){c.push("/server-error")}}),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/representante/telefono/").concat(l),headers:t,exito:r,fallo:o,error_request:function(e){c.push("/server-error")}})}return function(){return e=!1}}),[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement($e.a,{className:o.root},r.a.createElement(Qe.a,{className:o.cardContent},r.a.createElement(Ie.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:r.a.createElement(Le.a,{component:"div",display:"block",className:o.subheader},r.a.createElement(y.a,{className:Object(b.a)(o.back,Object(m.a)({},o.butonHide,s)),disabled:s,onClick:function(){c.goBack()}},r.a.createElement(Yt.a,null)),r.a.createElement(j.a,{className:o.title,variant:"button",gutterBottom:!0},"".concat(s?"":"Editando "),"representante")),className:o.root},r.a.createElement(Ce.a,{className:o.header},r.a.createElement(ke.a,null,r.a.createElement(Xe.a,null)),r.a.createElement(we.a,{primary:"Informacion"})),r.a.createElement(Re.a,{in:!0,timeout:"auto"},r.a.createElement(pt,{data:B,setData:W,phones:V,setPhones:J,expandable:!0,loading:k,onlySee:s})))),!s&&r.a.createElement(ta.a,null,r.a.createElement(na.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},r.a.createElement("div",{className:o.wrapper},Object.keys(z).length>0&&("A"===z.estatus?r.a.createElement(ra.a,{color:"secondary",disabled:D,className:o.delete,startIcon:r.a.createElement(Va.a,null),onClick:function(){return h({open:!0,type:"B"})}},"Eliminar",D&&r.a.createElement(Tt.a,{size:24,color:"secondary",className:o.buttonDeleting})):r.a.createElement(ra.a,{color:"primary",style:{color:At.a[500],marginRight:5},startIcon:r.a.createElement(Pn.a,null),onClick:function(){return h({open:!0,type:"A"})}},"Activar representante")),"B"!==z.estatus&&r.a.createElement(ra.a,{variant:"contained",className:o.save,disabled:k,endIcon:r.a.createElement(Dt.a,null),onClick:function(){var a=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,n.updated?e.enqueueSnackbar("Actualizado",{variant:"success",preventDuplicate:!0}):K({open:!0,message:"La RFC ".concat(B.rfc.value," ya se encuentra registrado"),severity:"error",title:"Registro fallido!"});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),r=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,n(t)||t.error.detail.includes("rfc")&&K({open:!0,message:"La RFC ".concat(B.rfc.value," ya se encuentra registrado"),severity:"error",title:"Registro fallido!"});case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),o=function(a,n){console.log(a,n);for(var r=0;r<a.length;r++)a[r].numero!==n[r].numero&&ua.put({url:"".concat(ua.BASE_URL,"/api/rh/representante/telefono/").concat(B.id_representante.value,"/").concat(n[r].numero),headers:t,data:a[r],exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=console,a.next=3,t.json();case 3:a.t1=a.sent,a.t0.log.call(a.t0,a.t1),e.enqueueSnackbar("Telefonos actualizados",{variant:"success",preventDuplicate:!0});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,a.json();case 3:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){c.push("/server-error")}})},i=function(){var a,n=function(){var e=[];return V.forEach((function(a){var t=a.value.replace(/\s/g,"");t.length>=5&&e.push({numero:t,tipo:a.tipo})})),e.length>0?{id_representante:l,telefonos:e}:null}();if(n.telefonos.length>N.length){console.log(N,n.telefonos);var i=[];N.forEach((function(e){var a=n.telefonos.findIndex((function(a){return a.tipo===e.tipo}));a>=0&&i.push(n.telefonos.splice(a,1)[0])})),a=n,ua.post({url:"".concat(ua.BASE_URL,"/api/rh/representante/telefono"),headers:t,data:a,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=console,a.next=3,t.json();case 3:a.t1=a.sent,a.t0.log.call(a.t0,a.t1),e.enqueueSnackbar("Telefonos actualizados",{variant:"success",preventDuplicate:!0});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:r,error_request:function(){c.push("/server-error")}}),o(i,N),L([].concat(Object(He.a)(n.telefonos),i))}else if(n.telefonos.length<N.length){console.log(n.telefonos,N);var s=[];n.telefonos.forEach((function(e){var a=N.findIndex((function(a){return a.tipo===e.tipo}));a>=0&&(s.push(N[a]),N.splice(a,1))})),function(a){console.log("TODELETE",a),a.forEach((function(a){ua.deleted({url:"".concat(ua.BASE_URL,"/api/rh/representante/telefono/").concat(B.id_representante.value,"/").concat(a.numero),headers:t,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=console,a.next=3,t.json();case 3:a.t1=a.sent,a.t0.log.call(a.t0,a.t1),e.enqueueSnackbar("Telefonos actualizados",{variant:"success",preventDuplicate:!0});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,a.json();case 3:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){c.push("/server-error")}})}))}(N),o(n.telefonos,s),L(n.telefonos)}else o(n.telefonos,N),L(n.telefonos)},s=function(){var e=function(){var e={nombre:B.nombre.value,primer_apellido:B.primer_apellido.value,segundo_apellido:B.segundo_apellido.value,genero:B.genero.value,correo:B.correo.value,observaciones:B.observaciones.value},a={};return Object.keys(e).forEach((function(t){z[t]!==e[t]&&(a[t]=e[t])})),a}();Object.keys(e).length>0&&ua.put({url:"".concat(ua.BASE_URL,"/api/rh/representante/").concat(B.id_representante.value),headers:t,data:e,exito:a,fallo:r,error_request:function(e){c.push("/server-error")}})};(function(){var e=["rfc","nombre","primer_apellido","genero","correo"],a=Object(q.a)({},B);return e.forEach((function(e){a["".concat(e)]="rfc"===e?{value:B[e].value,verify:13==="".concat(B[e].value).replace(/\s/g,"").length&&B[e].verify}:{value:B[e].value,verify:"".concat(B[e].value).length>0&&B[e].verify}})),W(a),0===e.filter((function(e){return!0!==a[e].verify})).length})()?function(){var e=Object(He.a)(V),a=[];e.forEach((function(e){if(10===e.value.replace(/\s/g,"").length){var t=e.verify;e.verify=t,a.push(t)}}));var t=a.filter((function(e){return!0!==e}));return 0===a.length?(e[0].verify=!1,e[0].helperText="Registra al menos uno",e[1].verify=!1,e[1].helperText="Registra al menos uno",!1):(J(e),0===t.length)}()?(k||(w(!0),X.current=setTimeout((function(){w(!1),e.enqueueSnackbar("Actualizado",{variant:"success",preventDuplicate:!0})}),2e3)),i(),s()):(K({open:!0,message:"Debes guardar al menos un tel\xe9fono",severity:"warning",title:"Revisa los telefonos!"}),w(!1)):(K({open:!0,message:"Hay campos requeridos que estan vacios, revisalos porfavor",severity:"warning",title:"Campos vacios!"}),w(!1))}},"Actualizar",k&&r.a.createElement(Tt.a,{size:24,className:o.buttonProgress})))))),""!==B.id_representante.value&&r.a.createElement(na.a,{container:!0,spacing:3},r.a.createElement(na.a,{item:!0,xs:12,sm:6,xl:4},r.a.createElement(Nn,{id:l,tipo:"representante",onlySee:s}))),r.a.createElement(oa.a,{open:Q.open,autoHideDuration:5e3,onClose:ee},r.a.createElement(Xo,{onClose:ee,severity:Q.severity},r.a.createElement(xa.a,null,Q.title),Q.message)),r.a.createElement(Ja.a,{open:v.open,TransitionComponent:Ko,onClose:function(){return h({open:!1,type:""})}},r.a.createElement(Ka.a,null,"".concat("B"===v.type?"Eliminar":"Activar")),r.a.createElement($a.a,null,r.a.createElement(Qa.a,null,"Est\xe1 apunto de ","".concat("B"===v.type?"dar de baja":"activar")," al representante \xbfEst\xe1 seguro que desea continuar?")),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:function(){return h({open:!1,type:""})}},"Cancelar"),r.a.createElement(ra.a,{onClick:function(){!function(){var a=function(){var e=N.map((function(e){return"".concat(ua.BASE_URL,"/api/rh/representante/telefono/").concat(B.id_representante.value,"/").concat(e.numero)}));Promise.all(e.map((function(e){return fetch(e,{method:"DELETE"})}))).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){n()})).catch((function(e){console.log("PROMISES",e)}))},n=function(){ua.deleted({url:"".concat(ua.BASE_URL,"/api/rh/representante/").concat(B.id_representante.value),headers:t,exito:function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,n.deleted&&(e.enqueueSnackbar("Representante con RFC: ".concat(B.rfc.value," eliminado"),{variant:"success",preventDuplicate:!0}),X.current=setTimeout((function(){c.push("/nomina/listar-representante")}),1e3));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.push("/server-error");case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){c.push("/server-error")}})};ua.get({url:"".concat(ua.BASE_URL,"/api/rh/empresa?query=id_empresa-identificador&id_representante=").concat(B.id_representante.value),headers:t,exito:function(){var t=Object(We.a)(Be.a.mark((function t(n){var o,i;return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:o=t.sent,(i=o.empresas).length>0?(i.map((function(a){return e.enqueueSnackbar(r.a.createElement(ra.a,{size:"small",style:{color:"#FFFFFF"},onClick:function(){c.push("/nomina/edit-empresa/".concat(a.id_empresa))}},"Ver Empresa: ".concat(a.identificador)),{variant:"info"})})),e.enqueueSnackbar("Dependencias en empresa(s)",{variant:"error"})):a();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.push("/server-error");case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(e){c.push("/server-error")}}),k||(T(!0),X.current=setTimeout((function(){T(!1)}),1e3))}(),h({open:!1,type:""})},color:"secondary"},"".concat("B"===v.type?"Eliminar":"Activar")))),r.a.createElement(rn.a,{className:o.backdrop,open:_},r.a.createElement(Tt.a,{color:"inherit"})))})),nc=Object(Y.a)((function(e){var a;return{fullScreen:(a={},Object(m.a)(a,e.breakpoints.down("sm"),{marginLeft:"0px"}),Object(m.a)(a,e.breakpoints.up("md"),{marginLeft:"50%"}),a),appBar:{position:"relative",backgroundImage:"linear-gradient(45deg, #D84315, #F57C00)"},title:{marginLeft:e.spacing(2),flex:1},container:{padding:e.spacing(3),background:"#fafafa"}}})),rc=r.a.forwardRef((function(e,a){return r.a.createElement(Xa.a,Object.assign({direction:"left",ref:a},e))}));function oc(e){var a=e.open,t=e.setOpen,n=nc();return r.a.createElement(Ja.a,{className:n.fullScreen,fullScreen:!0,open:a,onClose:function(){return t(!1)},TransitionComponent:rc},r.a.createElement(v.a,{position:"fixed",className:n.appBar},r.a.createElement(x.a,null,r.a.createElement(y.a,{edge:"start",color:"inherit",onClick:function(){return t(!1)},"aria-label":"close"},r.a.createElement(A.a,null)),r.a.createElement(j.a,{variant:"h6",className:n.title},"Ver Representante"))),r.a.createElement(na.a,{container:!0,className:n.container},r.a.createElement(tc,{id:e.data.id_representante,onlySee:!0})))}function cc(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}var ic={M:"Mujer",H:"Hombre"},lc={A:"Activo",B:"Baja",P:"Pendiente"};function sc(){var e=Object(d.g)(),a=r.a.useContext(rt),t=a.cabeceras,n=a.isTokenExpired,o=r.a.useState([]),c=Object(f.a)(o,2),i=c[0],l=c[1],s=r.a.useState([]),u=Object(f.a)(s,2),p=u[0],m=u[1],v=r.a.useState(!0),h=Object(f.a)(v,2),b=h[0],E=h[1],g=r.a.useState(!1),_=Object(f.a)(g,2),y=_[0],x=_[1],j=r.a.useState({}),O=Object(f.a)(j,2),C=O[0],k=O[1],w=r.a.useState({open:!1,message:"",severity:"",title:""}),S=Object(f.a)(w,2),A=S[0],D=S[1],T=function(e,a){D(Object(q.a)(Object(q.a)({},A),{},{open:!1}))},R=r.a.useCallback((function(){var a=!0;return E(!0),l([]),m([]),ua.get({url:"".concat(ua.BASE_URL,"/api/rh/representante?query=").concat(ua.REPRESENTANTE_ALL),headers:t,exito:function(){var e=Object(We.a)(Be.a.mark((function e(t){var n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,a&&(l(n.representantes),E(!1));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fallo:function(){var e=Object(We.a)(Be.a.mark((function e(a){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),error_request:function(){return e.push("/server-error")}}),function(){return a=!1}}),[e]);r.a.useEffect((function(){R()}),[]),r.a.useEffect((function(){var e=!0;if(i.length>0&&0===p.length){var a=Object(He.a)(i);a.forEach((function(e){e.genero=ic[e.genero],e.estatus=lc[e.estatus]})),e&&(m(a),E(!1))}return function(){return e=!1}}),[i,p]);var I=[{icon:function(){return r.a.createElement(xr.a,null)},tooltip:"Ver",onClick:function(e,a){k(a),x(!0)}},{icon:function(){return r.a.createElement(vr.a,null)},tooltip:"Editar",onClick:function(a,t){e.push("edit-representante/".concat(t.id_representante))}},{icon:"refresh",tooltip:"Recargar",isFreeAction:!0,onClick:R},{icon:"add",tooltip:"Agregar",isFreeAction:!0,onClick:function(a,t){return e.push("nuevo-representante")}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{localization:{header:{actions:"Acciones"},body:{emptyDataSourceMessage:"No hay registros que mostrar",editTooltip:"Editar",deleteTooltip:"Borrar",addTooltip:"A\xf1adir",editRow:{cancelTooltip:"Cancelar",saveTooltip:"Guardar",deleteText:"\xbfEst\xe1s seguro de eliminar este puesto?"}},toolbar:{searchTooltip:"Buscar",searchPlaceholder:"Buscar",exportName:"Exportar como CSV",exportTitle:"Exportar",showColumnsTitle:"Columas",showColumnsAriaLabel:"Columnas",addRemoveColumns:"Agregar o remover columnas"},pagination:{firstTooltip:"Primera p\xe1gina",previousTooltip:"P\xe1gina anterior",nextTooltip:"Siguiente p\xe1gina",lastTooltip:"\xdaltima p\xe1gina",labelRowsSelect:"filas",labelDisplayedRows:"{from}-{to} a {count}"}},title:"Representantes",columns:[{title:"RFC",field:"rfc",width:220,defaultSort:"asc"},{title:"Nombre",field:"nombre",width:200},{title:"Primer Apellido",field:"primer_apellido",width:200},{title:"Segundo Apellido",field:"segundo_apellido",width:200},{title:"Genero",field:"genero",width:100},{title:"Correo",field:"correo",width:300},{title:"Estaus",field:"estatus",width:100},{title:"",field:"id_representante",hidden:!0,width:0,removable:!1}],data:p,actions:I,options:{paginationType:"normal",exportAllData:!0,exportButton:!0,pageSize:10,pageSizeOptions:[10,20,50,100],fixedColumns:{left:2},headerStyle:{fontWeight:"bold"}},isLoading:b}),r.a.createElement(oc,{open:y,setOpen:x,data:C}),r.a.createElement(oa.a,{open:A.open,autoHideDuration:6e3,onClose:T},r.a.createElement(cc,{onClose:T,severity:A.severity},r.a.createElement(xa.a,null,A.title),A.message)))}var uc=t(687),pc=t.n(uc),dc=t(33),mc=function(e,a){var t=function(e){var a="",t="";switch(e){case"C":a="#e53935",t="#ff6f60";break;case"P":a="#ffb300",t="#ffe54c";break;case"N":a="#0277bd",t="#58a5f0";break;case"A":a="#2e7d32",t="#60ad5e"}return{color:a,secondary:t}}(e),n=t.color,r=t.secondary,o=function(e){return N()(e).diff(N()(),"days")<=3?.5:0}(a);return Object(Y.a)((function(e){return{root:{borderTopColor:n,borderTopStyle:"solid",borderWidth:"25px"},icono:{fontSize:"5em",color:"#757575"},btnMain:{backgroundColor:n,"&:hover":{backgroundColor:r},color:"white",marginTop:"5px",fontSize:"10px"},containerSatus:{paddingTop:e.spacing(2),borderBottom:n,borderBottomStyle:"solid",borderWidth:.5,marginBottom:"5px"},avatar:{backgroundColor:n,width:"3.5em",height:"3.5em",fontSize:22,animation:"$pulse ".concat(o,"s infinite")},"@keyframes pulse":{"0%":{boxShadow:"0 0 0 0 rgba(245,124,0,0.7)"},"70%":{boxShadow:"0 0 0 12px rgba(245,124,0,0)"},"100%":{boxShadow:"0 0 0 0 rgba(245,124,0,0)"}}}}))},fc=t(487),vc=t.n(fc),hc=function(e){var a=Object(d.g)(),t=e.data,n=t.fecha_inicio_periodo,o=t.fecha_fin_periodo,c=t.estatus,i=t.razon_social,l=t.periodo_calculo,s=t.id_contrato,u=t.id_nomina,p=t.id_empresa,m=mc(c)();return r.a.createElement($e.a,{className:m.root},r.a.createElement(na.a,{container:!0,justify:"center",alignItems:"center",spacing:1},r.a.createElement(na.a,{item:!0,sm:12,md:2,lg:2},r.a.createElement(g.a,{className:m.avatar},i.substring(0,1))),r.a.createElement(na.a,{item:!0,sm:12,md:7,lg:7},r.a.createElement(j.a,{variant:"h6",component:"h6"},"Nomina ",function(e){var a="";switch(e){case"S":a="Semanal";break;case"C":a="Catorcenal";break;case"Q":a="Quincenal";break;case"M":a="Mensual";break;default:console.log(e)}return a}(l),":"),r.a.createElement(j.a,{variant:"body2",component:"h6"},i),r.a.createElement(j.a,{variant:"body2",component:"h6"},"Periodo:",r.a.createElement("br",null),r.a.createElement(vc.a,{format:"DD/MM/YYYY"},n)," - ",r.a.createElement(vc.a,{format:"DD/MM/YYYY"},o))),r.a.createElement(na.a,{item:!0,sm:12,md:2,lg:2},r.a.createElement(ra.a,{variant:"contained",className:m.btnMain,onClick:function(){var e=N.a.utc(o).format("YYYY");a.push("/nomina/activas/".concat(u,"&").concat(s,"&").concat(p,"&").concat(e))}},function(e){var a="";switch(e){case"C":a="COMENZAR";break;case"P":a="APROBAR";break;case"N":a="PAGAR";break;case"A":a="VER"}return a}(c)),r.a.createElement("div",{className:m.containerSatus},r.a.createElement(j.a,{variant:"subtitle2",component:"h6"},function(e){var a="";switch(e){case"C":a="EN ESPERA";break;case"P":a="PREN\xd3MINA";break;case"N":a="N\xd3MINA";break;case"A":a="PAGADA"}return a}(c))))))},bc=Object(Y.a)((function(e){return{root:{padding:20}}})),Ec=function(e){e.children;var a=e.nominas,t=e.value,n=e.index,o=Object(B.a)(e,["children","nominas","value","index"]),c=bc();return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},o),t===n&&r.a.createElement("div",{className:c.root},r.a.createElement(na.a,{container:!0,justify:"space-around",alignItems:"center",spacing:2},function(){var e=a.map((function(e,a){return e.flag?r.a.createElement(na.a,{key:a,item:!0,sm:12,md:6},r.a.createElement(hc,{data:e})):""}));return e}())))},gc=Object(z.a)({palette:{primary:{main:"#ff5722"},secondary:{main:"#ff3d00"}}}),_c=t(361),yc=t(386),xc=t(482),jc=t(387),Oc=t.n(jc),Cc=function(e){var a=e.search,t=a.nominasSemanal,o=a.setNominasSemanal,c=a.nominasCatorcenal,i=a.setNominasCatorcenal,l=a.nominasQuincenal,s=a.setNominasQuincenal,u=a.nominasMensual,p=a.setNominasMensual,d=a.value,m=Object(n.useState)(""),v=Object(f.a)(m,2),h=v[0],b=v[1],E=function(e,a){e.forEach((function(e){return e.flag=function(e,a){var t=!1;return Object.keys(e).forEach((function(n){null!==e[n]&&"flag"!==n&&(t|=e[n].toString().toLowerCase().includes(a.toLowerCase()))})),t}(e,a)}))},g=function(e){switch(d){case 0:E(t,e),o(Object(He.a)(t));break;case 1:E(c,e),i(Object(He.a)(c));break;case 2:E(l,e),s(Object(He.a)(l));break;case 3:E(u,e),p(Object(He.a)(u))}};return r.a.createElement(ca.a,{label:"Buscar",value:h,onChange:function(e){b(e.target.value)},onKeyUp:function(e){g(e.target.value)},InputProps:{endAdornment:r.a.createElement(_a.a,null,r.a.createElement(y.a,null,r.a.createElement(Oc.a,null)))}})},kc=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],wc=Object(Y.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),minWidth:120},box:{width:85},extendedIcon:{marginRight:e.spacing(1)}}}));function Sc(e){var a=e.inputRef,t=e.onChange,n=Object(B.a)(e,["inputRef","onChange"]);return r.a.createElement(yc.a,Object.assign({},n,{getInputRef:a,onValueChange:function(a){t({target:{name:e.name,value:a.value}})},format:"####",isNumericString:!0}))}var Ac=function(e){var a=e.month,t=e.changeMonth,n=e.year,o=e.changeYear,c=e.valuesSearch,i=wc(),l=r.a.useState(!1),s=Object(f.a)(l,2),u=s[0],p=s[1],d=function(){p(!1)};return r.a.createElement("div",{style:{margin:16}},r.a.createElement(na.a,{spacing:2,container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"},r.a.createElement(na.a,{item:!0,xs:6,md:2},r.a.createElement(Rt.a,{variant:"extended",size:"medium",color:"primary","aria-label":"add",className:i.margin,onClick:function(){p(!0)}},r.a.createElement(Fn.a,{className:i.extendedIcon}),kc[a-1]," ",n)),r.a.createElement(na.a,{item:!0,xs:6,md:2},r.a.createElement(Cc,{search:c}))),r.a.createElement(Ja.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:u,onClose:d},r.a.createElement(Ka.a,null,"Periodo"),r.a.createElement($a.a,null,r.a.createElement("form",{className:i.container},r.a.createElement(dt.a,{className:i.formControl},r.a.createElement(mt.a,{htmlFor:"demo-dialog-native"},"Mes"),r.a.createElement(xc.a,{value:a,onChange:function(e){t(Number(e.target.value)||"")},input:r.a.createElement(_c.a,{id:"demo-dialog-native"})},kc.map((function(e,a){return r.a.createElement(k.a,{key:"months-elements-".concat(a),value:a+1},e)})))),r.a.createElement(dt.a,{className:i.formControl},r.a.createElement(ca.a,{id:"standard-number",label:"A\xf1o",value:n,InputLabelProps:{shrink:!0},onChange:function(e){o(Number(e.target.value)||"")},InputProps:{inputComponent:Sc},className:i.box})))),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:d,color:"primary"},"Cancelar"),r.a.createElement(ra.a,{onClick:d,color:"primary"},"Aceptar"))))},Dc=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,n,r,o=arguments;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:{},n={},e.prev=2,e.next=5,fetch(a,t);case 5:return n=e.sent,e.next=8,n.json();case 8:if(r=e.sent,!(n.status>=200&&n.status<=299)){e.next=13;break}return e.abrupt("return",{data:r});case 13:return e.abrupt("return",{error:r});case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(2),e.abrupt("return",{error:e.t0,response:n});case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(a){return e.apply(this,arguments)}}(),Tc=function(e,a,t){return{method:a,body:JSON.stringify(e),headers:t}},Rc=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,n,r,o,c,i,l,s,u,p,d;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.url_api,n=a.setN,r=a.body,o=a.addFlags,c=a.headers,i=a.isTokenExpired,l=a.rol,s=a.permisos,e.next=3,Dc(t,Tc(r,"POST",c));case 3:u=e.sent,p=u.error,d=u.data,p?i(p)||console.log(p):("G"!==l&&"C"!==l||(d.result=d.result.filter((function(e){return s.some((function(a){return a===e.id_empresa}))}))),o(d.result),n(d.result),console.log(d.result));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ic=t(246),Nc="".concat(Ic.a,"api/rh/nomina/funtion/paginationNomina"),Lc=N()().month()+1,Pc=N()().year(),qc=function(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}},Fc=function(e){e.forEach((function(e){e.flag=!0}))},zc=Object(Y.a)((function(e){return{root:{width:"auto"},tap:{fontSize:"0.8em"}}}));var Yc=function(){var e=zc(),a=Object(dc.a)(),t=Object(n.useState)(Lc),o=Object(f.a)(t,2),c=o[0],i=o[1],l=Object(n.useState)(Pc),s=Object(f.a)(l,2),u=s[0],p=s[1],d=Object(n.useState)(0),m=Object(f.a)(d,2),v=m[0],h=m[1],b=Object(n.useState)([]),E=Object(f.a)(b,2),g=E[0],_=E[1],y=Object(n.useState)([]),x=Object(f.a)(y,2),j=x[0],O=x[1],C=Object(n.useState)([]),k=Object(f.a)(C,2),w=k[0],S=k[1],A=Object(n.useState)([]),D=Object(f.a)(A,2),T=D[0],R=D[1],I=Object(n.useContext)(rt),N=I.cabeceras,L=I.isTokenExpired,q=I.permisos,F=I.rol;return Object(n.useEffect)((function(){Rc({url_api:Nc,setN:_,body:{mes:c,anio:u,periodo:"S"},headers:N,isTokenExpired:L,addFlags:Fc,permisos:q,rol:F}),Rc({url_api:Nc,setN:O,body:{mes:c,anio:u,periodo:"C"},headers:N,isTokenExpired:L,addFlags:Fc,permisos:q,rol:F}),Rc({url_api:Nc,setN:S,body:{mes:c,anio:u,periodo:"Q"},headers:N,isTokenExpired:L,addFlags:Fc,permisos:q,rol:F}),Rc({url_api:Nc,setN:R,body:{mes:c,anio:u,periodo:"M"},headers:N,isTokenExpired:L,addFlags:Fc,permisos:q,rol:F})}),[c,u]),r.a.createElement(P.a,{theme:gc},r.a.createElement(Ac,{year:u,changeYear:p,month:c,changeMonth:i,valuesSearch:{nominasSemanal:g,setNominasSemanal:_,nominasCatorcenal:j,setNominasCatorcenal:O,nominasQuincenal:w,setNominasQuincenal:S,nominasMensual:T,setNominasMensual:R,value:v}}),r.a.createElement("div",{className:e.root},r.a.createElement(cn.a,null,r.a.createElement(xn.a,{value:v,onChange:function(e,a){h(a)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":""},r.a.createElement(jn.a,Object.assign({label:"Semanal"},qc(0),{className:e.tap})),r.a.createElement(jn.a,Object.assign({label:"Catorcenal"},qc(1),{className:e.tap})),r.a.createElement(jn.a,Object.assign({label:"Quincenal"},qc(2),{className:e.tap})),r.a.createElement(jn.a,Object.assign({label:"Mensual"},qc(3),{className:e.tap})))),r.a.createElement(pc.a,{axis:"rtl"===a.direction?"x-reverse":"x",index:v,onChangeIndex:function(e){h(e)}},r.a.createElement(Ec,{value:v,index:0,dir:a.direction,nominas:g}),r.a.createElement(Ec,{value:v,index:1,dir:a.direction,nominas:j}),r.a.createElement(Ec,{value:v,index:2,dir:a.direction,nominas:w}),r.a.createElement(Ec,{value:v,index:3,dir:a.direction,nominas:T}))))},Uc=t(398),Mc=t(696),Bc=t.n(Mc),Wc=t(697),Hc=t.n(Wc),Gc=0;function Vc(e,a,t,n){var r,o=a.periodo,c=a.aplico_costo_social,i=a.dias,l=a.comision,s=a.perido_fin,u=a.imss_aplicado,p=a.isr_aplicado,d=a.retencion_aplicada;r=s,Gc=N()(r).isLeapYear()?30.5:30.41667;var m={};if(function(e){var a=e.isr,t=e.integracion,n=e.uma,r=e.subsidio,o=e.prima;return a.length>0&&t.length>0&&parseFloat(n)>0&&r.length>0&&o.length>0}(n)){var f,v=Object(nn.a)(e);try{for(v.s();!(f=v.n()).done;){var h=f.value;if(h.tipo){parseInt(i)===parseInt(h.dias.faltas.cantidad_inasistencias)?h.dias.total=0:h.dias.total=i-h.dias.faltas.cantidad_inasistencias,Zc(h,n.integracion,n.uma,s,i);var b=Xc(h.percepciones.percepciones),E=Kc(h.percepciones.percepciones);Qc(h,$c(E,n.isr,n.subsidio,o),n.prima,parseFloat(n.uma),s,i,c,o,u,p);var g=h.deducciones.deducciones.find((function(e){return"D100"===e.id_percepcion_deduccion}));h.percepciones.total=b+E,g&&(h.percepciones.total=h.percepciones.total+g.value),h.deducciones.total=ai(h.deducciones.deducciones)}else h.percepciones.total=ei(h.percepciones.percepciones),h.deducciones.total=ai(h.deducciones.deducciones);h.display={identificador:h.empleado.identificador,nombre:h.tipo?"".concat(h.empleado.nombre," ").concat(h.empleado.primer_apellido," ").concat(h.empleado.segundo_apellido).toUpperCase():h.empleado.nombre.toUpperCase(),tipo:h.tipo,dias:h.dias.total?h.dias.total:0,percepciones:h.percepciones.total,deducciones:h.deducciones.total,total:h.percepciones.total-h.deducciones.total,costo_social:h.costo_social}}}catch(_){v.e(_)}finally{v.f()}return m=function(e,a,t,n,r,o){var c={},i=parseFloat(e.reduce((function(e,a){var t=a.empleado,n=a.tipo,o=a.percepciones;return n?e+t.salario_diario*r:e+o.total}),0)),l=i*parseFloat(a),s=parseFloat(e.reduce((function(e,a){var t=a.costo_social;return e+parseFloat(t||0)}),0)).toFixedDown(5),u=.03*i,p=0,d=0;n?(p=parseFloat(Jc(e,"D001")),c.isr=p):c.isr=0;t?(d=parseFloat(Jc(e,"D002")),c.imss=d):c.imss=0;var m=i+l+s+u+p+d,f=.16*m,v=0,h=0;o?(v=.06*m,c.retencion=v,h=m+f-v):(c.retencion=0,h=m+f);return c.nomina=i,c.comision=l,c.costo_social=s,c.isn=u,c.subtotal=m,c.iva=f,c.total=h,c}(e,l,u,p,i,d),{empleados:e,totales:m}}return{empleados:[],totales:m}}function Jc(e,a){var t=0;return e.forEach((function(e){var n=e.deducciones.deducciones;if(n.length>0){var r=n.find((function(e){return e.id_percepcion_deduccion===a}));r&&(t+=r.value)}})),t}function Zc(e,a,t,n,r){!function(e,a,t){e.empleado.salario_capturado=parseFloat(e.empleado.salario_capturado);var n=e.percepciones.percepciones.findIndex((function(e){return"P001"===e.id_percepcion_deduccion}));if(n>=0){var r=N()().diff(N()(e.empleado.fecha_contrato_externo),"years");0===r&&(r=1);var o=a.find((function(e){return parseInt(e.anio_antiguedad_inferior)>=r&&parseInt(e.anio_antiguedad_superior)<=r})).factor;o=parseFloat(o),e.percepciones.percepciones[n].value=(e.empleado.salario_capturado*e.dias.total).toFixedDown(4),e.empleado.sbc=(e.empleado.salario_capturado*o).toFixedDown(4)}}(e,a,N()(n).format("YYYY")),function(e,a,t){var n=e.empleado.salario_capturado,r=e.percepciones.percepciones.findIndex((function(e){return"P009"===e.id_percepcion_deduccion}));if(r>=0){var o=N()([t]).isLeapYear()?366:365,c=N()().diff(N()(e.empleado.fecha_contrato_externo),"years");0===c&&(c=1);var i=a.find((function(e){return parseInt(e.anio_antiguedad_inferior)>=c&&parseInt(e.anio_antiguedad_superior)<=c})).dias_vacaciones;e.percepciones.percepciones[r].value=n*i/o*o}}(e,a,N()(n).format("YYYY")),function(e){var a=e.percepciones.percepciones.findIndex((function(e){return"P109"===e.id_percepcion_deduccion}));a>=0&&(e.percepciones.percepciones[a].value=e.empleado.salario_capturado)}(e),function(e,a){var t=e.percepciones.percepciones.findIndex((function(e){return"P019"===e.id_percepcion_deduccion}));if(t>=0){e.percepciones.percepciones[t].value=.25*e.empleado.salario_capturado;var n=e.percepciones.percepciones[t].value<=a?e.percepciones.percepciones[t].value:a;e.percepciones.percepciones[t].excento=n,e.percepciones.percepciones[t].grabado=e.percepciones.percepciones[t].value-n}}(e,t),function(e,a,t){var n=e.percepciones.percepciones.findIndex((function(e){return"P010"===e.id_percepcion_deduccion}));if(n>=0){var r=N()().diff(N()(e.empleado.fecha_contrato_externo),"years");0===r&&(r=1);var o=a.find((function(e){return parseInt(e.anio_antiguedad_inferior)>=r&&parseInt(e.anio_antiguedad_superior)<=r})).dias_vacaciones;e.percepciones.percepciones[n].value=e.empleado.salario_capturado*o*.25;var c=e.percepciones.percepciones[n].value<=15*t?e.percepciones.percepciones[n].value:15*t;e.percepciones.percepciones[n].excento=c,e.percepciones.percepciones[n].grabado=e.percepciones.percepciones[n].value-c}}(e,a,t),function(e,a,t){var n=e.percepciones.percepciones.findIndex((function(e){return"P004"===e.id_percepcion_deduccion}));if(n>=0){e.percepciones.percepciones[n].value=e.empleado.salario_capturado*a;var r=e.percepciones.percepciones[n].value<=30*t?e.percepciones.percepciones[n].value:30*t;e.percepciones.percepciones[n].excento=r,e.percepciones.percepciones[n].grabado=e.percepciones.percepciones[n].value-r}}(e,r,t)}function $c(e,a,t,n){var r=e;if(r>0){var o=a.find((function(e){return parseFloat(e.limite_inferior)<=r&&r<=parseFloat(e.limite_superior)})),c=o.limite_inferior,i=o.cuota_fija,l=o.excendente_limite_inferior;c=parseFloat(c),i=parseFloat(i),l=parseFloat(l);var s=(r-c)*l,u=0;switch(n){case"S":u=(s+i)/4;break;case"Q":case"C":u=(s+i)/2;break;case"M":u=s+i;break;default:u=0}var p=t.find((function(e){return e.limite_inferior<=r&&r<=e.limite_superior})).cantidad;return{impuesto_segun:u,subsidio:p=parseFloat(p)/2}}return{impuesto_segun:0,subsidio:0}}function Qc(e,a,t,n,r,o,c,i,l,s){var u=a.impuesto_segun,p=a.subsidio;!function(e,a,t,n){var r=e.deducciones.deducciones.findIndex((function(e){return"D001"===e.id_percepcion_deduccion}));if(r>=0&&a>=0&&t>=0)if(a>t)if(e.deducciones.deducciones[r].value=(a-t).toFixedDown(4),n)e.deducciones.deducciones[r].sumable=!1;else{var o=e.deducciones.deducciones[r],c=(o.sumable,Object(B.a)(o,["sumable"]));e.deducciones.deducciones[r]=c}else e.deducciones.deducciones[r].value=0}(e,u,p,s);var d=function(e,a,t,n,r,o,c){var i=N()([n]).isLeapYear()?366:365,l=a.find((function(a){return a.clave_patronal===e.empleado.clave_patronal})).valor_por_riesgo,s=t*Gc*.204,u=e.empleado.sbc-3*t;u<0&&(u=0);var p=u*Gc*.011,d=u*Gc*.004,m=e.empleado.sbc*Gc*.007,f=e.empleado.sbc*Gc*.0025,v=e.empleado.sbc*Gc*.0105,h=e.empleado.sbc*Gc*.00375,b=e.empleado.sbc*Gc*(l/100),E=e.empleado.sbc*Gc*.0175,g=e.empleado.sbc*Gc*.00625,_=e.empleado.sbc*Gc*.01,y=d+f+h+g,x=s+p+m+v+b+E+_+y,j=.02*e.empleado.sbc*(2*Gc),O=.0315*e.empleado.sbc*(2*Gc),C=.0112501*e.empleado.sbc*(2*Gc),k=j+O+C,w=31*e.empleado.sbc*.05*2/62*61,S=(2*x+k+w)/2,A=12*S/i,D=A*r,T=7*A,R=(2*y+C)/4;switch(c){case"S":R=(2*y+C)/8;break;case"Q":case"C":R=(2*y+C)/4;break;case"M":R=(2*y+C)/2;break;default:R=0}var I=R.toFixedDown(4);I=isNaN(I)?0:I;var L=0;switch(o){case"S":L=T;break;case"Q":L=D;break;case"M":L=S;break;case"C":L=14*A;break;default:L=0}return e.costo_social=L,{imss:I,costo_social:L}}(e,t,n,N()(r).format("YYYY"),o,c,i);!function(e,a,t){var n=e.deducciones.deducciones.findIndex((function(e){return"D002"===e.id_percepcion_deduccion}));if(n>=0)if(e.deducciones.deducciones[n].value=a,t)e.deducciones.deducciones[n].sumable=!1;else{var r=e.deducciones.deducciones[n],o=(r.sumable,Object(B.a)(r,["sumable"]));e.deducciones.deducciones[n]=o}}(e,d.imss,l),function(e,a,t){var n=e.deducciones.deducciones.findIndex((function(e){return"D100"===e.id_percepcion_deduccion}));n>=0&&a>=0&&t>=0&&(e.deducciones.deducciones[n].value=a<t?((t-a)/2).toFixedDown(4):0)}(e,u,p)}function Kc(e){return e.length>0?parseFloat(e.reduce((function(e,a){var t=a.value,n=a.grabado;return e+=n?parseFloat(n):parseFloat(t)}),0)).toFixedDown(5):0}function Xc(e){return e.length>0?parseFloat(e.reduce((function(e,a){var t=a.value,n=a.excento,r=a.id_percepcion_deduccion;return n?e+=parseFloat(n):"P020"===r&&(e+=parseFloat(t)),e}),0)).toFixedDown(5):0}function ei(e){return e.length>0?parseFloat(e.reduce((function(e,a){var t=a.value,n=a.sumable;a.id_percepcion_deduccion;return!1!==n&&(e+=parseFloat(t)),e}),0)).toFixedDown(5):0}function ai(e){return e.length>0?parseFloat(e.reduce((function(e,a){var t=a.value,n=a.sumable,r=a.id_percepcion_deduccion;return!1!==n&&"D100"!==r&&(e+=parseFloat(t)),e}),0)).toFixedDown(5):0}Number.prototype.toFixedDown=function(e){var a=new RegExp("(\\d+\\.\\d{"+e+"})(\\d)"),t=this.toString().match(a);return t?parseFloat(t[1]):this.valueOf()};var ti=function(){var e=Object(We.a)(Be.a.mark((function e(a,t){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(sa,"/api/rh/nomina/detalle_nomina"),{method:"POST",headers:t,body:JSON.stringify(a)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),ni=function(){var e=Object(We.a)(Be.a.mark((function e(a,t,n){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(sa,"/api/rh/nomina/detalle_nomina/").concat(a,"/").concat(t),{method:"DELETE",headers:n}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),ri=function(){var e=Object(We.a)(Be.a.mark((function e(a,t,n,r){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(sa,"/api/rh/nomina/detalle_nomina/").concat(a,"/").concat(t),{method:"PUT",headers:r,body:JSON.stringify(n)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(a,t,n,r){return e.apply(this,arguments)}}(),oi=function(e,a,t,n){return a&&t&&n?("C"===n.estatus&&(n.estatus="P"),Object(q.a)(Object(q.a)(Object(q.a)({},e),n),{},{periodo:t.periodo_calculo,perido_inicio:n.fecha_inicio_periodo,perido_fin:n.fecha_fin_periodo,razon_social:a.razon_social,dias:function(e){switch(e){case"S":return 7;case"C":return 14;case"Q":return 15.25;case"M":return 30.5;default:return 0}}(t.periodo_calculo),comision:t.comision,estatus:n.estatus})):{}},ci=function(e,a,t,n){var r=function(e,a,t,n){return e.filter((function(e){return e.id_percepcion_deduccion[0]===t&&e.id_contrato===n})).map((function(e){var t=a.find((function(a){return a.id_percepcion_deduccion===e.id_percepcion_deduccion})).nombre,n=e.monto,r=Object(B.a)(e,["monto"]);return Object(q.a)(Object(q.a)({},r),{},{value:n,nombre:t,save:!0})}))};return e&&a&&t?e.map((function(e){var o=r(a,t,"P",e.id_contrato),c=r(a,t,"D",e.id_contrato);return{empleado:e,tipo:!0,dias:{total:0,faltas:function(e,a){var t=e.find((function(e){return e.id_contrato===a}));return t||{folio_inasistencia:void 0,cantidad_inasistencias:0,id_contrato:a}}(n,e.id_contrato)},percepciones:{total:0,percepciones:o},deducciones:{total:0,deducciones:c},costo_social:0}})):[]},ii=function(e,a){return e.map((function(e){Object.keys(e).forEach((function(a){null===e[a]&&(e[a]="")}));var t="00000"+e.folio,n="NOMVARIABLE-".concat(t.substring(t.length-5));return{empleado:Object(q.a)(Object(q.a)({},e),{},{id_nomina:a,identificador:n}),tipo:!1,dias:{total:0},percepciones:{total:0,percepciones:[{id_percepcion_deduccion:"OTRAS",nombre:"OTRAS PERCEPCIONES",value:e.monto}]},deducciones:{total:0,deducciones:[]}}}))},li=function(e,a){return"Percepcion"===e?a.filter((function(e){return"P"===e.tipo})):a.filter((function(e){return"D"===e.tipo}))};function si(e,a,t,n){return Vc(e,a,0,t)}function ui(e,a){var t=a.newState,n={};switch(a.action){case"EMPLEADOS":return n=si(t,e.generalSettings,e.fiscales,e.totales),Object(q.a)(Object(q.a)({},e),n);case"SETTINGS":return n=si(e.empleados,t,e.fiscales,e.totales),Object(q.a)(Object(q.a)({},e),{},{generalSettings:t},n);case"ALL":return n=si(t.empleados,t.generalSettings,t.fiscales,e.totales),Object(q.a)(Object(q.a)(Object(q.a)({},e),t),n);default:throw new Error}}var pi=function(){var e=Object(We.a)(Be.a.mark((function e(a,t,n){var r,o,c,i;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(sa+"/api/rh/empresa/detalle_registro_patronal",{method:"GET",headers:t});case 2:return r=e.sent,e.next=5,r.json();case 5:if(o=e.sent,n(o)){e.next=20;break}if(c=(c=o.registros).reduce((function(e,a){return e[N()(a.fecha_registro).format("YYYY")]=e[N()(a.fecha_registro).format("YYYY")]||[],e[N()(a.fecha_registro).format("YYYY")].push(a),e}),{}),i=parseInt(N()(a.fecha_inicio_periodo).format("YYYY")),!(Object.keys(c).length>0)){e.next=20;break}if(!c[i]){e.next=15;break}return e.abrupt("return",c[i]);case 15:if(!c[i-1]){e.next=19;break}return e.abrupt("return",c[i-1]);case 19:return e.abrupt("return",c[Object.keys(c)[0]]);case 20:return e.abrupt("return",[]);case 21:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),di=function(){var e=Object(We.a)(Be.a.mark((function e(a,t,n,r){var o,c,i,l,s,u,p,d,m,f,v;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=N()(a.fecha_inicio_periodo).subtract(1,"days").format("YYYY-MM-DD"),e.next=3,fetch(sa+"/api/rh/nomina?fecha_fin_periodo=".concat(o,"&id_contrato=").concat(t),{method:"GET",headers:n});case 3:return c=e.sent,e.next=6,c.json();case 6:if(i=e.sent,r(i)){e.next=38;break}if(!((l=i.nomina).length>0)){e.next=38;break}return e.next=12,fetch(sa+"/api/rh/nomina/detalle_nomina?id_nomina=".concat(l[0].id_nomina),{method:"GET",headers:n});case 12:return s=e.sent,e.next=15,s.json();case 15:if(u=e.sent,r(u)){e.next=38;break}p=u.nomina.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{id_nomina:a.id_nomina})})),d=Object(nn.a)(p),e.prev=19,d.s();case 21:if((m=d.n()).done){e.next=29;break}return f=m.value,e.next=25,ti(f,n);case 25:v=e.sent,r(v);case 27:e.next=21;break;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(19),d.e(e.t0);case 34:return e.prev=34,d.f(),e.finish(34);case 37:return e.abrupt("return",p);case 38:return e.abrupt("return",[]);case 39:case"end":return e.stop()}}),e,null,[[19,31,34,37]])})));return function(a,t,n,r){return e.apply(this,arguments)}}(),mi=t(300),fi=t.n(mi),vi=t(396),hi=t.n(vi),bi=function(e){var a=e.field,t=e.form,n=Object(B.a)(e,["field","form"]),o=t.errors[a.name]&&t.touched[a.name]&&String(t.errors[a.name]);return r.a.createElement(bt.b,Object.assign({clearable:!0,fullWidth:!0,name:a.name,value:a.value,format:"DD/MM/YYYY",maxDateMessage:"No vayas al futuro!",minDateMessage:"No vayas al pasado!",invalidDateMessage:"Formato invalido",error:Boolean(t.errors[a.name]&&t.touched[a.name]),onError:function(e){e!==o&&""!==e&&t.setFieldError(a.name,e)},onBlur:a.onBlur,onChange:function(e){return t.setFieldValue(a.name,e)}},n))},Ei=function(e){var a=e.field,t=e.form,n=e.children,o=Object(B.a)(e,["field","form","children"]);return r.a.createElement(ca.a,Object.assign({size:"small",autoComplete:"off",fullWidth:!0,name:a.name,value:a.value,error:t.errors[a.name]&&t.touched[a.name],helperText:t.errors[a.name]&&t.touched[a.name]&&String(t.errors[a.name]),onChange:a.onChange,onBlur:a.onBlur},o),n)},gi=t(58),_i=t(51),yi=function(){var e=Object(We.a)(Be.a.mark((function e(a,t){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.abrupt("return",fetch("".concat(sa,"/api/rh/nomina/nomina_variable"),{method:"POST",headers:t,body:JSON.stringify(a)}).then((function(e){if(e.ok)return e.json();throw new Error(e)})));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),xi=function(){var e=Object(We.a)(Be.a.mark((function e(a,t,n){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(sa,"/api/rh/nomina/nomina_variable/").concat(a,"/").concat(t),{method:"DELETE",headers:n}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),ji=function(){var e=Object(We.a)(Be.a.mark((function e(a,t,n,r){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(sa,"/api/rh/nomina/nomina_variable/").concat(a,"/").concat(t),{method:"PUT",headers:r,body:JSON.stringify(n)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(a,t,n,r){return e.apply(this,arguments)}}(),Oi=Object(Y.a)((function(e){return{save:{color:At.a[600],borderColor:At.a[600],"&:hover":{color:At.a[700],borderColor:At.a[700],backgroundColor:At.a[50]}}}}));function Ci(e){var a=Oi(),t=r.a.useContext(rt),n=t.cabeceras,o=t.isTokenExpired,c=r.a.useState(!1),i=Object(f.a)(c,2),l=i[0],s=i[1],u=r.a.useState(!1),p=Object(f.a)(u,2),d=p[0],m=p[1],v=r.a.useState(!1),h=Object(f.a)(v,2),b=h[0],E=h[1],g=e.open,_=e.setOpen,y=e.identificador,x=r.a.useContext(gl),O=x.empleados,C=x.setEmpleados,w=x.bancos,S=x.idNomina,A=r.a.useState(y?"Editar":"Agregar"),D=Object(f.a)(A,2),T=D[0],R=D[1],I=r.a.useState(""),N=Object(f.a)(I,2),L=N[0],P=N[1],q={nombre:"",percepciones:"",no_tarjeta:"",no_cuenta:"",clabe:"",id_banco:""};if(y){var F=O.find((function(e){return e.empleado.identificador===y}));q={nombre:F.empleado.nombre,percepciones:F.percepciones.percepciones[0].value,no_tarjeta:F.empleado.no_tarjeta,no_cuenta:F.empleado.no_cuenta,clabe:F.empleado.clabe,id_banco:F.empleado.id_banco}}var z=function(e){console.log(e),P("TypeError: Failed to fetch"!==e?"Revisa tu conexi\xf3n de internet":"Ha ocurrido un error, revisa los campos"),s(!1),E(!0)},Y=function(){s(!0);var e=O.findIndex((function(e){return e.empleado.identificador===y})),a=O[e].empleado.folio;xi(S,a,n).then((function(e){if(!o(e)&&e.deleted){var a=O.filter((function(e){return e.empleado.identificador!==y}));s(!1),_(!1),C(a)}})).catch(z)};return r.a.createElement(gi.c,{initialValues:q,validationSchema:_i.d().shape({nombre:_i.f().max(50,"Muy largo!").required("Requerido"),percepciones:_i.c().test("Es decimal","No es un n\xfamero",(function(e){return(e+"").match(/\d+(\.\d{1,2})?/)})).typeError("Dias debe ser un numero").required("Requerido"),no_tarjeta:_i.f(),no_cuenta:_i.f(),clabe:_i.f(),id_banco:_i.c()}),onSubmit:function(e){s(!0);var a=Object(He.a)(O);if(y){var t=O.findIndex((function(e){return e.empleado.identificador===y})),r=ki(e).toSend;ji(S,a[t].empleado.folio,r,n).then((function(n){o(n)||(n.error?(s(!1),E(!0)):(a[t].empleado.nombre=e.nombre,a[t].percepciones.percepciones[0].value=e.percepciones,a[t].empleado.no_cuenta=e.no_cuenta,a[t].empleado.no_tarjeta=e.no_tarjeta,a[t].empleado.clabe=e.clabe,a[t].empleado.id_banco=e.id_banco,s(!1),_(!1),C(a)))})).catch(z)}else{var c=ki(e,S);yi(c.toSend,n).then((function(e){if(!o(e)){var t="00000"+e[0].folio;c.toPush.empleado.folio=e[0].folio,c.toPush.empleado.identificador="NOMVARIABLE-".concat(t.substring(t.length-5)),a.push(c.toPush),s(!1),C(a),_(!1)}})).catch(z)}}},(function(e){return r.a.createElement(Ja.a,{open:g,onClose:function(){e.handleReset(),_(!1)},"aria-labelledby":""},l&&r.a.createElement(Hn.a,{color:"secondary"}),r.a.createElement(gi.b,null,r.a.createElement(Ka.a,null,T," persona variable"),r.a.createElement($a.a,null,r.a.createElement(On.a,null,r.a.createElement(na.a,{container:!0,spacing:2},r.a.createElement(na.a,{item:!0,xs:8},r.a.createElement(gi.a,{name:"nombre",placeholder:"Ej. Ju\xe1n Mart\xednez...",label:"Nombre",component:Ei})),r.a.createElement(na.a,{item:!0,xs:4},r.a.createElement(gi.a,{name:"percepciones",label:"Monto",placeholder:"Ej.15.25",component:Ei,InputProps:{inputComponent:Ma}})),r.a.createElement(na.a,{item:!0,xs:6},r.a.createElement(gi.a,{name:"no_cuenta",label:"No. Cuenta",placeholder:"Ej.15.25",component:Ei,InputProps:{inputComponent:Aa}})),r.a.createElement(na.a,{item:!0,xs:6},r.a.createElement(gi.a,{name:"no_tarjeta",label:"No. Tarjeta",placeholder:"Ej.15.25",component:Ei,InputProps:{inputComponent:Ta}})),r.a.createElement(na.a,{item:!0,xs:6},r.a.createElement(gi.a,{name:"clabe",label:"CLABE",placeholder:"Ej.15.25",component:Ei,InputProps:{inputComponent:Ra}})),r.a.createElement(na.a,{item:!0,xs:6},r.a.createElement(gi.a,{name:"id_banco",label:"Banco",placeholder:"Ej.15.25",defaultValue:"",select:!0,component:Ei},r.a.createElement(k.a,{value:"",disabled:!0},"Selecciona"),w.map((function(e,a){return r.a.createElement(k.a,{key:"selected-banco-".concat(a),value:e.id_banco},e.nombre_banco)})))),(d||b)&&r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(j.a,{display:"block",style:{marginTop:10},variant:"button",color:"secondary"},L))))),d?r.a.createElement(Za.a,null,r.a.createElement(ra.a,{variant:"text",color:"default",onClick:function(){return m(!1)}},"Cancelar"),r.a.createElement(ra.a,{variant:"contained",disableElevation:!0,color:"secondary",onClick:Y},"Eliminar")):r.a.createElement(Za.a,{style:{justifyContent:"space-between"}},r.a.createElement(ra.a,{variant:"text",color:"default",onClick:function(){e.handleReset(),_(!1)}},"Cerrar"),r.a.createElement("div",null,y&&r.a.createElement(ra.a,{variant:"text",color:"secondary",onClick:function(){R("Eliminar"),P("Est\xe1s seguro que deseas eliminarlo?"),m(!0)}},"Eliminar"),r.a.createElement(ra.a,{onClick:function(){e.handleSubmit()},className:a.save,variant:"outlined",color:"default"},"Guardar")))))}))}function ki(e,a){var t={};t.nombre=e.nombre,t.monto=e.percepciones,a&&(t.id_nomina=a);var n=e.no_cuenta.replace(/\s/g,"");""!==n&&(t.no_cuenta=n);var r=e.no_tarjeta.replace(/\s/g,"");""!==r&&(t.no_tarjeta=r);var o=e.clabe.replace(/\s/g,"");return""!==o&&(t.clabe=o),""!==e.id_banco&&(t.id_banco=parseInt(e.id_banco)),{toPush:{empleado:{nombre:e.nombre,no_cuenta:e.no_cuenta,no_tarjeta:e.no_tarjeta,clabe:e.clabe,id_banco:e.id_banco,id_nomina:a},tipo:!1,dias:{total:0},percepciones:{total:0,percepciones:[{id_percepcion_deduccion:"OTRAS",nombre:"OTRAS PERCEPCIONES",value:e.percepciones}]},deducciones:{total:0,deducciones:[]}},toSend:t}}var wi=t(663),Si=t(231),Ai=Object(Ne.a)((function(e){return{head:{backgroundColor:Si.a[800]}}}))(Bn.a),Di=Object(Ne.a)((function(e){return{root:{color:Si.a[400],"&:hover":{color:Si.a[50],"& $icon":{color:Si.a[50]}},"&$active":{color:Si.a[50],"&& $icon":{color:Si.a[50]}}},active:{},icon:{}}}))(wi.a);function Ti(e){var a=e.order,t=e.orderBy,n=e.onRequestSort,o=e.headCells;return r.a.createElement(Un.a,null,r.a.createElement(Mn.a,null,o.map((function(e,o){return r.a.createElement(Ai,{key:"sort-head-".concat(o),align:e.align,padding:e.disablePadding?"none":"default",sortDirection:t===e.id&&a},r.a.createElement(Di,{active:t===e.id,direction:t===e.id?a:"asc",onClick:(c=e.id,function(e){n(e,c)})},e.label));var c}))))}var Ri=t(631),Ii=t(692),Ni=t.n(Ii),Li=t(1117),Pi=t(693),qi=t.n(Pi),Fi=Object(Y.a)((function(e){var a;return{rootTab:{flexGrow:1,backgroundColor:e.palette.background.paper},rootList:(a={backgroundColor:e.palette.background.paper,position:"relative",overflow:"auto"},Object(m.a)(a,e.breakpoints.down("xs"),{height:"100%",width:"100%"}),Object(m.a)(a,e.breakpoints.up("sm"),{height:400,width:450}),a),listSection:{backgroundColor:"inherit"},ul:{backgroundColor:"inherit",padding:0},rootContent:Object(m.a)({paddingLeft:0,paddingRight:0},e.breakpoints.down("xs"),{overflow:"hidden"})}}));function zi(e){var a=r.a.useContext(rt),t=a.cabeceras,n=a.isTokenExpired,o=Fi(),c=r.a.useState(""),i=Object(f.a)(c,2),l=i[0],s=i[1],u=e.elements,p=e.keyelement,d=e.identificador,m=e.setLoading,v=r.a.useContext(gl),h=v.percepciones,b=v.deducciones,E=r.a.useContext(gl),g=E.empleados,_=E.setEmpleados,y=E.idNomina,x=E.idContrato;return r.a.createElement(r.a.Fragment,null,r.a.createElement(On.a,{p:3},r.a.createElement(ca.a,{fullWidth:!0,label:"Buscar",value:l,onChange:function(e){return s(e.target.value)},InputProps:{startAdornment:r.a.createElement(_a.a,{position:"start"},r.a.createElement(Oc.a,null))}})),r.a.createElement(Ie.a,{className:o.rootList,subheader:r.a.createElement("li",null)},function(e,a){return""!==a?e.filter((function(e){return e.nombre.toLowerCase().includes(a.toLowerCase())})):e}(function(){var e="percepciones"===p?h:b;return e.forEach((function(e){return e.checked=u.some((function(a){return e.id_percepcion_deduccion===a.id_percepcion_deduccion}))})),e}(),l).map((function(e,a){return r.a.createElement(Ce.a,{key:"item-percepcion-".concat(a)},r.a.createElement(ke.a,null,r.a.createElement(Fr.a,{disabled:e.es_obligatoria,checked:e.checked,onChange:function(a){return function(e,a){m(!0);var r=e.target.checked,o=g.findIndex((function(e){return e.empleado.identificador===d})),c=Object(He.a)(g);try{r?ti({id_nomina:y,id_percepcion_deduccion:a.id_percepcion_deduccion,id_contrato:c[o].empleado.id_contrato,monto:0},t).then((function(e){n(e)||(c[o][p][p].push({id_nomina:y,id_contrato:x,nombre:a.nombre,id_percepcion_deduccion:a.id_percepcion_deduccion,value:0,save:!0}),_(c),m(!1))})):ni(y,a.id_percepcion_deduccion,t).then((function(e){if(!n(e)){var t=c[o][p][p].findIndex((function(e){return e.id_percepcion_deduccion===a.id_percepcion_deduccion}));c[o][p][p].splice(t,1),_(c),m(!1)}}))}catch(i){m(!1)}}(a,e)},edge:"start"})),r.a.createElement(we.a,{primary:e.nombre}))}))))}function Yi(e){var a=e.onClose,t=Object(B.a)(e,["onClose"]),n=Fi(),o=r.a.useState(!1),c=Object(f.a)(o,2),i=c[0],l=c[1],s=Object(dc.a)(),u=Object(Li.a)(s.breakpoints.down("xs"));return r.a.createElement(Ja.a,Object.assign({fullScreen:u},t,{"aria-labelledby":"form-dialog-title"}),i&&r.a.createElement(Hn.a,{color:"secondary"}),r.a.createElement(Ka.a,{id:"form-dialog-title"},"Agregar "),r.a.createElement($a.a,{className:n.rootContent},r.a.createElement(zi,Object.assign({},t,{setLoading:l}))),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{variant:"text",color:"secondary",onClick:a},"Ok")))}var Ui=Object(Y.a)((function(e){var a;return{interna:{color:At.a[300]},externa:{color:uo.a[300]},internalRow:{"&:hover":{cursor:"pointer"}},internalMoney:{fontSize:"0.70rem"},internalCell:{borderBottom:"unset",fontSize:"0.70rem"},internalElipsis:(a={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},Object(m.a)(a,e.breakpoints.down("sm"),{width:90}),Object(m.a)(a,e.breakpoints.up("lg"),{width:150}),a),save:{color:At.a[600],borderColor:At.a[600],"&:hover":{color:At.a[700],borderColor:At.a[700],backgroundColor:At.a[50]}}}})),Mi=function(){var e=Object(We.a)(Be.a.mark((function e(a,t){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(sa,"/api/rh/nomina/inasistencia"),{method:"POST",headers:t,body:JSON.stringify(a)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),Bi=function(){var e=Object(We.a)(Be.a.mark((function e(a,t,n){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(sa,"/api/rh/nomina/inasistencia/").concat(t),{method:"PUT",headers:n,body:JSON.stringify(a)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}();function Wi(e){var a=e.row,t=e.identificador,o=Object(n.useContext)(gl),c=o.generalSettings,i=o.empleados,l=o.setEmpleados,s=o.idNomina,u=Ui(),p=Object(n.useContext)(rt),d=p.cabeceras,m=p.isTokenExpired,v=0;a.tipo&&(v=a.dias.faltas.cantidad_inasistencias);var h=Object(n.useState)(v),b=Object(f.a)(h,2),E=b[0],g=b[1],_=Object(n.useState)(!1),y=Object(f.a)(_,2),x=y[0],j=y[1],O=function(e,a){if(!m(e)){var n=i.findIndex((function(e){return e.empleado.identificador===t})),r=Object(He.a)(i);r[n].dias.faltas.cantidad_inasistencias=E,a&&(r[n].dias.faltas.folio_inasistencia=e[0].folio_inasistencia),l(r),j(!1)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Yn.a,{size:"small"},r.a.createElement(Wn.a,null,r.a.createElement(Mn.a,{className:u.internalRow,hover:!0},r.a.createElement(Bn.a,{align:"center",className:u.internalCell,size:"small",onClick:function(){a.tipo&&("C"!==c.estatus&&"P"!==c.estatus||j(!0))}},a.tipo?"".concat(v," "):"N/A ",r.a.createElement("b",null,"FALTAS"))))),x&&("C"===c||"P"===c.estatus)&&r.a.createElement(Ja.a,{open:x,onClose:function(){return j(!1)},"aria-labelledby":""},r.a.createElement(Ka.a,{id:""},"Editando faltas"),r.a.createElement($a.a,null,r.a.createElement(Qa.a,null,"Numero de faltas en el periodo:"),r.a.createElement(Qa.a,null,N()(c.perido_inicio).format("DD/MM/YYYY")," al ",N()(c.periodo_fin).format("DD/MM/YYYY")),r.a.createElement(ca.a,{fullWidth:!0,value:E,onChange:function(e){var a=e.target.value;parseInt(a)<=parseInt(c.dias)&&g(a)},InputProps:{inputComponent:Ma}})),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:function(){var e=a.dias.faltas,t=e.folio_inasistencia,n=e.id_contrato;t?Bi({cantidad_inasistencias:E},t,d).then((function(e){O(e,!1)})):Mi({folio_inasistencia:t,cantidad_inasistencias:E,id_contrato:n,id_nomina:s},d).then((function(e){O(e,!0)}))},color:"default"},"Guardar"))))}var Hi=Object(Ne.a)((function(e){return{root:{"&:hover":{cursor:"pointer"},"&$selected, &$selected:hover":{backgroundColor:"rgba(216, 67, 21, 0.1)"}},selected:{}}}))((function(e){return r.a.createElement(Mn.a,e)}));function Gi(e){var a=e.row,t=e.openAll,o=Ui(),c=Object(n.useState)(!1),i=Object(f.a)(c,2),l=i[0],s=i[1],u=Object(n.useState)(!1),p=Object(f.a)(u,2),d=p[0],m=p[1],v=Object(n.useContext)(gl),h=v.format,b=v.seePDF;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Hi,{onClick:function(){return m(!d)},hover:!0,selected:d||t},r.a.createElement(Bn.a,null,a.empleado.identificador),r.a.createElement(Bn.a,{component:"th",scope:"row"}," ",a.display.nombre),r.a.createElement(Bn.a,{align:"center"},a.display.tipo?b?"SI":r.a.createElement(so.a,{className:o.interna}):b?"NO":r.a.createElement(Ni.a,{className:o.externa})),r.a.createElement(Bn.a,{align:"right"},a.display.dias),r.a.createElement(Bn.a,{align:"right"},h(a.display.costo_social)),r.a.createElement(Bn.a,{align:"right"},h(a.display.percepciones)),r.a.createElement(Bn.a,{align:"right"},h(a.display.deducciones)),r.a.createElement(Bn.a,{align:"right"},h(a.display.total))),(d||t)&&r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,null),r.a.createElement(Bn.a,null,r.a.createElement(Zi,{empleado:a.empleado,tipo:a.tipo,onClick:function(){return s(!0)}})),r.a.createElement(Bn.a,null),r.a.createElement(Bn.a,{padding:"none",align:"center"},r.a.createElement(Wi,{row:a,identificador:a.empleado.identificador})),r.a.createElement(Bn.a,null),r.a.createElement(Bn.a,{padding:"none"},r.a.createElement(Vi,{elements:a,elementKey:"percepciones",identificador:a.empleado.identificador})),r.a.createElement(Bn.a,{padding:"none"},r.a.createElement(Vi,{elements:a,elementKey:"deducciones",identificador:a.empleado.identificador})),r.a.createElement(Bn.a,null)),l&&r.a.createElement(Ci,{open:l,setOpen:s,identificador:a.empleado.identificador}))}function Vi(e){var a=Ui(),t=e.elements,n=e.elementKey,o=e.identificador,c=r.a.useState(!1),i=Object(f.a)(c,2),l=i[0],s=i[1],u=r.a.useContext(gl),p=u.format,d=u.generalSettings,m=u.seePDF,v=r.a.useContext(rt).rol,h=r.a.useState({open:!1,element:{}}),b=Object(f.a)(h,2),E=b[0],g=b[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Yn.a,null,r.a.createElement(Wn.a,null,t[n][n].map((function(e,o){return r.a.createElement(Mn.a,{key:"item-".concat(n,"-").concat(o),onClick:function(){"C"!==v&&t.tipo&&("C"!==d.estatus&&"P"!==d.estatus||g({open:!0,element:e}))},className:a.internalRow,hover:!0},r.a.createElement(Bn.a,{className:a.internalCell,size:"small",align:"left"},r.a.createElement(Ri.a,{title:e.nombre},r.a.createElement(On.a,{component:"div",className:a.internalElipsis},e.nombre))),r.a.createElement(Bn.a,{className:a.internalCell,size:"small",align:"right"},r.a.createElement(On.a,{className:a.internalMoney},r.a.createElement("b",null,"".concat(p(e.value))))))})),"C"!==v&&t.tipo&&!m&&("C"===d.estatus||"P"===d.estatus)&&r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,{className:a.internalCell,size:"small",align:"center",colSpan:"2"},r.a.createElement(ra.a,{className:a.internalMoney,variant:"text",color:"default",startIcon:r.a.createElement(Bt.a,null),size:"small",onClick:function(){return s(!0)}},"Agregar"))))),l&&r.a.createElement(Yi,{open:l,elements:t[n][n],keyelement:n,onClose:function(){return s(!1)},identificador:o}),E.open&&r.a.createElement(Ji,{open:E.open,onClose:function(){return g(Object(q.a)(Object(q.a)({},E),{},{open:!1}))},element:E.element,defaultValue:E.element.value,identificador:o}))}function Ji(e){var a=Ui(),t=e.open,n=e.onClose,o=e.element,c=e.identificador,i=e.defaultValue,l=Object(dc.a)(),s=Object(Li.a)(l.breakpoints.down("xs")),u=r.a.useState(!1),p=Object(f.a)(u,2),d=p[0],m=p[1],v=r.a.useState(!1),h=Object(f.a)(v,2),b=h[0],E=h[1],g=r.a.useState(i||0),_=Object(f.a)(g,2),y=_[0],x=_[1],O=r.a.useContext(gl),C=O.empleados,k=O.setEmpleados,w=r.a.useContext(rt),S=w.cabeceras,A=w.isTokenExpired,D=function(e){E(!0);var a="D"===String(o.id_percepcion_deduccion).charAt(0)?"deducciones":"percepciones",t=C.findIndex((function(e){return e.empleado.identificador===c})),r=Object(He.a)(C),i=r[t][a][a].findIndex((function(e){return e===o}));if("DELETE"===e){var l=r[t][a][a].splice(i,1)[0],s=l.id_nomina,u=l.id_percepcion_deduccion;ni(s,u,S).then((function(e){A(e)||(E(!1),k(r),x(""),n())})).catch((function(e){return console.log(e)}))}else{var p=r[t][a][a][i],d=p.id_nomina,m=p.id_percepcion_deduccion;ri(d,m,{monto:parseFloat(y).toFixed(2)},S).then((function(e){A(e)||(E(!1),r[t][a][a][i].value=parseFloat(y),k(r),x(""),n())})).catch((function(e){return console.log(e)}))}};return r.a.createElement(Ja.a,{open:t,onClose:n,maxWidth:"xs",fullScreen:s,fullWidth:!0},b&&r.a.createElement(Hn.a,{color:"secondary"}),r.a.createElement(Ka.a,null,"".concat("D"===String(o.id_percepcion_deduccion).charAt(0)?"DEDUCCI\xd3N":"PERCEPCI\xd3N"," ").concat(o.nombre)),r.a.createElement($a.a,null,r.a.createElement(ca.a,{autoFocus:!0,fullWidth:!0,label:"Cantidad",placeholder:"Ej. $999.99",InputLabelProps:{shrink:!0},value:y,onChange:function(e){return x(e.target.value)},InputProps:{inputComponent:Ma,startAdornment:r.a.createElement(_a.a,{position:"start"},"$")},autoComplete:"off"}),d&&r.a.createElement(j.a,{display:"block",style:{marginTop:10},variant:"button",color:"secondary"},"Est\xe1s seguro que deseas eliminarlo?")),d?r.a.createElement(Za.a,null,r.a.createElement(ra.a,{variant:"text",color:"default",onClick:function(){return m(!1)}},"Cancelar"),r.a.createElement(ra.a,{variant:"contained",disableElevation:!0,color:"secondary",onClick:function(){return D("DELETE")}},"Eliminar")):r.a.createElement(Za.a,{style:{justifyContent:"space-between"}},r.a.createElement(ra.a,{variant:"text",color:"default",onClick:n},"Cerrar"),r.a.createElement("div",null,r.a.createElement(ra.a,{variant:"text",color:"secondary",onClick:function(){0===parseInt(y)?D("DELETE"):m(!0)}},"Eliminar"),r.a.createElement(ra.a,{className:a.save,variant:"outlined",color:"default",onClick:function(){return D("SAVE")}},"Guardar"))))}function Zi(e){var a=Ui(),t=r.a.useContext(gl),n=t.bancos,o=t.generalSettings,c=r.a.useContext(rt).rol,i=e.tipo,l=e.onClick,s=e.empleado,u=(s.identificador,s.nombre,Object(B.a)(s,["identificador","nombre"]));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Yn.a,null,r.a.createElement(Wn.a,null,function(){var e=Object.keys(u),t=[];return e.forEach((function(e){if(u[e])switch(e){case"salario_capturado":t.push({name:"SALARIO CAPTURADO",value:"$".concat(u[e])});break;case"salario_diario":t.push({name:"SALARIO REAL",value:"$".concat(u[e])});break;case"no_tarjeta":t.push({name:"NUMERO DE TARJETA",value:u[e]});break;case"no_cuenta":t.push({name:"NUMERO DE CUENTA",value:u[e]});break;case"clabe":t.push({name:"CLABE INTERBANCARIA",value:u[e]});break;case"id_banco":t.push({name:"BANCO",value:n.find((function(a){return a.id_banco=u[e]})).nombre_banco})}})),t.map((function(e,t){return r.a.createElement(Mn.a,{key:"$table-show-keys-".concat(t),className:a.internalRow,hover:!0},r.a.createElement(Bn.a,{className:a.internalCell,size:"small",align:"left"},r.a.createElement(Ri.a,{title:e.name},r.a.createElement(On.a,{component:"div",className:a.internalElipsis},e.name))),r.a.createElement(Bn.a,{className:a.internalCell,size:"small",align:"right"},r.a.createElement(On.a,{className:a.internalMoney},r.a.createElement("b",null,"".concat(e.value)))))}))}(),"C"!==c&&!i&&("P"===o.estatus||"C"===o.estatus)&&r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,{className:a.internalCell,size:"small",align:"center",colSpan:"2"},r.a.createElement(ra.a,{className:a.internalMoney,variant:"text",color:"default",startIcon:r.a.createElement(qi.a,null),size:"small",onClick:l},"Editar"))))))}var $i=t(1107),Qi=function(){var e=Object(We.a)(Be.a.mark((function e(a,t,n){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(sa,"/api/rh/nomina/").concat(a),{method:"PUT",headers:n,body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}();function Ki(e){var a=e.open,t=e.setOpen,n=r.a.useContext(rt),o=n.cabeceras,c=n.isTokenExpired,i=Object(dc.a)(),l=r.a.useState(!1),s=Object(f.a)(l,2),u=s[0],p=s[1],d=Object(Li.a)(i.breakpoints.down("xs")),m=r.a.useContext(gl),v=m.perido_fin,h=m.generalSettings,b=m.setGeneralSettings,E=m.idNomina,g={identificador:h.identificador,estatus:h.estatus,fecha_pago:h.fecha_pago,aplico_costo_social:h.aplico_costo_social,imss_aplicado:h.imss_aplicado,isr_aplicado:h.isr_aplicado,retencion_aplicada:h.retencion_aplicada};return r.a.createElement(gi.c,{initialValues:g,validationSchema:_i.d().shape({identificador:_i.f().max(50,"Muy largo!").required("Requerido"),estatus:_i.f().required("Requerido"),fecha_pago:_i.b().nullable(),aplico_costo_social:_i.f().max(1,"Muy largo!").required("Requerido"),imss_aplicado:_i.a().required("Requerido"),isr_aplicado:_i.a().required("Requerido"),retencion_aplicada:_i.a().required("Requerido")}),onSubmit:function(e){p(!0);var a=e.fecha_pago,n=Object(B.a)(e,["fecha_pago"]);a&&(n.fecha_pago=N()(a).format("YYYY-MM-DD")),console.log(n),Qi(E,n,o).then((function(a){c(a)||(b(Object(q.a)(Object(q.a)({},h),e)),t(!1))})).catch((function(e){console.log(e)}))}},(function(e){var n=e.values,o=e.handleSubmit,c=e.handleReset,i=e.setFieldValue;return r.a.createElement(gi.b,null,r.a.createElement(Ja.a,{fullScreen:d,open:a,"aria-labelledby":"form-dialog-title"},u&&r.a.createElement(Hn.a,{color:"secondary"}),r.a.createElement(Ka.a,{id:"form-dialog-title"},"Ajuste de la n\xf3mina"),r.a.createElement($a.a,{style:{paddingLeft:0,paddingRight:0}},r.a.createElement(On.a,{p:3},r.a.createElement(na.a,{container:!0,spacing:2},r.a.createElement(na.a,{item:!0,xs:8},r.a.createElement(gi.a,{name:"identificador",placeholder:"Ej. Nomina periodo...",label:"N\xf3mina",component:Ei})),r.a.createElement(na.a,{item:!0,xs:4},r.a.createElement(gi.a,{name:"estatus",defaultValue:"",label:"Estatus",select:!0,component:Ei},r.a.createElement(k.a,{value:"",disabled:!0},"Selecciona"),r.a.createElement(k.a,{value:"P"},"Pren\xf3mina"),r.a.createElement(k.a,{value:"N"},"N\xf3mina"),r.a.createElement(k.a,{value:"A"},"Pagada"))),r.a.createElement(na.a,{item:!0,xs:6},r.a.createElement(gi.a,{component:bi,name:"fecha_pago",label:"Fecha Pago",minDate:N()(v),maxDate:N()(v).add(5,"days")})),r.a.createElement(na.a,{item:!0,xs:6},r.a.createElement(gi.a,{name:"aplico_costo_social",defaultValue:"",label:"Costo Social",select:!0,component:Ei},r.a.createElement(k.a,{value:"",disabled:!0},"Seleccionar"),r.a.createElement(k.a,{value:"N"},"No Aplicar"),r.a.createElement(k.a,{value:"S"},"Semanal"),r.a.createElement(k.a,{value:"Q"},"Quincenal"),r.a.createElement(k.a,{value:"M"},"Mensual"))),r.a.createElement(na.a,{item:!0,xs:4},r.a.createElement(dt.a,{component:"fieldset"},r.a.createElement($i.a,null,"IMSS aplicado a:"),r.a.createElement(ft.a,{name:"imss_aplicado",value:n.imss_aplicado,onChange:function(e){var a=e.target.value;return i("imss_aplicado","true"===a)}},r.a.createElement(vt.a,{value:!1,control:r.a.createElement(ht.a,null),label:"Empleado"}),r.a.createElement(vt.a,{value:!0,control:r.a.createElement(ht.a,null),label:"Patr\xf3n"})))),r.a.createElement(na.a,{item:!0,xs:4},r.a.createElement(dt.a,{component:"fieldset"},r.a.createElement($i.a,null,"ISR aplicado a:"),r.a.createElement(ft.a,{name:"isr_aplicado",value:n.isr_aplicado,onChange:function(e){var a=e.target.value;return i("isr_aplicado","true"===a)}},r.a.createElement(vt.a,{value:!1,control:r.a.createElement(ht.a,null),label:"Empleado"}),r.a.createElement(vt.a,{value:!0,control:r.a.createElement(ht.a,null),label:"Patr\xf3n"})))),r.a.createElement(na.a,{item:!0,xs:4},r.a.createElement(dt.a,{component:"fieldset"},r.a.createElement($i.a,null,"Retenci\xf3n del 6%:"),r.a.createElement(ft.a,{name:"retencion_aplicada",value:n.retencion_aplicada,onChange:function(e){var a=e.target.value;return i("retencion_aplicada","true"===a)}},r.a.createElement(vt.a,{value:!1,control:r.a.createElement(ht.a,null),label:"No Aplicar"}),r.a.createElement(vt.a,{value:!0,control:r.a.createElement(ht.a,null),label:"Aplicar"}))))))),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:function(){c(),t(!1)}},"Cerrar"),r.a.createElement(ra.a,{type:"submit",disabled:u,onClick:function(){o()},color:"secondary"},"Guardar"))))}))}function Xi(e){var a=e.totales,t=r.a.useState(!1),o=Object(f.a)(t,2),c=o[0],i=o[1],l=Object(n.useContext)(gl),s=l.format,u=l.generalSettings,p=l.seePDF;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,{rowSpan:10,colSpan:6}),r.a.createElement(Bn.a,{align:"left"},"N\xf3mina"),r.a.createElement(Bn.a,{align:"right"},s(a.nomina))),(c||p)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,{align:"left"},"Comisi\xf3n ","%".concat(parseInt(100*u.comision))),r.a.createElement(Bn.a,{align:"right"},s(a.comision))),r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,{align:"left"},"Costo Social"),r.a.createElement(Bn.a,{align:"right"},s(a.costo_social))),r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,{align:"left"},"ISN"),r.a.createElement(Bn.a,{align:"right"},s(a.isn))),u.imss_aplicado&&r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,{align:"left"},"IMSS"),r.a.createElement(Bn.a,{align:"right"},s(a.imss))),u.isr_aplicado&&r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,{align:"left"},"ISR"),r.a.createElement(Bn.a,{align:"right"},s(a.isr))),r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,{align:"left"},"Subtotal"),r.a.createElement(Bn.a,{align:"right"},s(a.subtotal))),r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,{align:"left"},"IVA 16%"),r.a.createElement(Bn.a,{align:"right"},s(a.iva))),r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,{align:"left"},"Retencion 6%"),r.a.createElement(Bn.a,{align:"right"},s(a.retencion)))),r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,{align:"left"},"TOTAL"),r.a.createElement(Bn.a,{align:"right"},s(a.total))),!p&&r.a.createElement(Mn.a,null,r.a.createElement(Bn.a,{colSpan:2,align:"center"},r.a.createElement(ra.a,{style:{fontSize:12},onClick:function(){return i(!c)}},"Mostrar ","".concat(c?"menos":"m\xe1s")))))}var el=t(489),al=t.n(el),tl=t(694),nl=t.n(tl),rl=t(695),ol=t.n(rl),cl=function(){var e=Object(We.a)(Be.a.mark((function e(a,t){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(sa,"/api/rh/nomina/comprobante"),{method:"POST",headers:t,body:a}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),il=function(){var e=Object(We.a)(Be.a.mark((function e(a,t){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(sa,"/api/rh/nomina/comprobante/").concat(a),{method:"GET",headers:t}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),ll=Object(Y.a)((function(e){return{wrapper:{margin:e.spacing(2),position:"relative"},buttonSuccess:{backgroundColor:At.a[500],"&:hover":{backgroundColor:At.a[700]}},fabProgress:{color:At.a[500],position:"absolute",top:-4,left:-4,zIndex:1},square:{color:"#FFFFFF",backgroundColor:"#cb0606",fontSize:e.spacing(2)},divider:{marginLeft:"30px",marginRight:"30px"}}})),sl={title:"",message:"",open:!1,onConfirm:function(){}};function ul(e){var a=e.nomina,t=e.setNomina,o=e.idNomina,c=e.idEmpresa,i=Object(n.useState)(Object(q.a)({},sl)),l=Object(f.a)(i,2),s=l[0],u=l[1],p=Object(n.useState)(!1),d=Object(f.a)(p,2),m=d[0],v=d[1],h=r.a.useContext(rt),b=h.cabeceras,E=h.isTokenExpired;return r.a.createElement(na.a,{item:!0},r.a.createElement(pl,{setNomina:t,nomina:a,onClick:function(e,n){var r,c,i=function(){Qi(o,{estatus:n},b).then((function(e){E(e)||t(Object(q.a)(Object(q.a)({},a),{},{estatus:n}))}))};switch(c=e?"Avazando...":"Retrocediendo...",r=e?"Estas por ir al siguiente paso ":"Estas por retroceder al paso anterior ",n){case"P":u({message:r+='"Pren\xf3mina" podras hacer modificaciones de la n\xf3mina',title:c,open:!0,onConfirm:i});break;case"N":u({message:r+='"N\xf3mina" ya no podras hacer modificaciones de la n\xf3mina',title:c,open:!0,onConfirm:i});break;case"A":r+='"Pago Aprobado"',v(!0);break;case"D":r+='"Dispersar" dinero al los empleados'}}}),r.a.createElement(ml,{dialog:s,setDialog:u}),r.a.createElement(fl,{open:m,setOpen:v,idNomina:o,idEmpresa:c}))}var pl=function(e){var a=e.nomina,t=e.onClick;switch(a.estatus){case"C":return r.a.createElement(ra.a,{size:"small",endIcon:r.a.createElement(al.a,null),color:"secondary",onClick:function(){return t(!0,"P")}},"Pren\xf3mina");case"P":return r.a.createElement(ra.a,{size:"small",endIcon:r.a.createElement(al.a,null),color:"secondary",onClick:function(){return t(!0,"N")}},"N\xf3mina");case"N":return r.a.createElement(r.a.Fragment,null,r.a.createElement(ra.a,{size:"small",startIcon:r.a.createElement(nl.a,null),color:"primary",onClick:function(){return t(!1,"P")}},"Pren\xf3mina"),r.a.createElement(ra.a,{size:"small",color:"secondary",endIcon:r.a.createElement(Kr.a,null),onClick:function(){return t(!0,"A")}},"Pagar"));case"A":return r.a.createElement(dl,{idNomina:a.id_nomina});default:return null}},dl=function(e){var a=e.idNomina,t=r.a.useContext(rt),o=t.cabeceras,c=t.isTokenExpired,i=Object(n.useState)(),l=Object(f.a)(i,2),s=l[0],u=l[1];return Object(n.useEffect)((function(){il(a,o).then((function(e){c(e)||u(e.documento[0].url_archivo)}))}),[a]),r.a.createElement(ra.a,{size:"small",endIcon:r.a.createElement(ol.a,null),disabled:void 0===s,onClick:function(){return window.open("".concat(s,"&raw=1"),"_blank")},color:"secondary"},"Comprobante")},ml=function(e){var a=e.dialog,t=e.setDialog,n=a.title,o=a.message,c=a.open,i=a.onConfirm,l=function(){return t(Object(q.a)(Object(q.a)({},a),{},{open:!1}))};return r.a.createElement(Ja.a,{open:c,onClose:l,"aria-labelledby":""},r.a.createElement(Ka.a,null,n),r.a.createElement($a.a,null,r.a.createElement(Qa.a,null,o)),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:l,color:"default"},"Cancel"),r.a.createElement(ra.a,{onClick:function(){i(),l()},color:"secondary"},"Confirmar")))},fl=function(e){var a=e.open,t=e.setOpen,o=e.idNomina,c=e.idEmpresa,i=Object(n.useState)(""),l=Object(f.a)(i,2),s=l[0],u=l[1],p=Object(n.useState)(null),d=Object(f.a)(p,2),m=d[0],v=d[1],h=Object(n.useState)(!1),b=Object(f.a)(h,2),E=b[0],g=b[1],_=r.a.useContext(rt),y=_.cabeceras,x=_.isTokenExpired,O=r.a.useContext(gl),C=O.generalSettings,k=O.setGeneralSettings;return r.a.createElement(Ja.a,{open:a,onClose:function(){return t(!1)},"aria-labelledby":""},E&&r.a.createElement(Hn.a,{color:"secondary"}),r.a.createElement(Ka.a,null,"Est\xe1s por notificar a los empleados"),r.a.createElement($a.a,null,r.a.createElement(Qa.a,null,"Una vez que subas el comprobante de pago de la n\xf3mina, los empleados recibir\xe1n la notificaci\xf3n de su pago."),r.a.createElement(na.a,{container:!0,spacing:2},r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(vl,{value:m,onChange:v,label:"Comprobante de Pago"}))),s&&r.a.createElement(j.a,{variant:"button",style:{color:"red"}},s)),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:function(){return t(!1)},color:"default"},"Cancel"),r.a.createElement(ra.a,{onClick:function(){return function(){if(null!==m){g(!0);var e=new FormData;e.append("comprobante",m),e.append("id_nomina",o),e.append("id_empresa",c);var a=new Headers;a.append("authorization",y.authorization),cl(e,a).then((function(e){x(e)||Qi(o,{estatus:"A"},y).then((function(e){x(e)||(k(Object(q.a)(Object(q.a)({},C),{},{estatus:"A"})),t(!1))}))}))}else u(!0),setTimeout((function(){return u(!1)}),1500)}()},color:"secondary"},"Confirmar")))},vl=function(e){var a=e.value,t=e.onChange,n=e.label,o=ll();return r.a.createElement($e.a,{elevation:0},r.a.createElement(on.a,{style:{padding:0},avatar:r.a.createElement(y.a,{disabled:!0},r.a.createElement(g.a,{variant:"rounded",className:o.square},"PDF")),action:r.a.createElement("div",{className:o.wrapper},null===a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{style:{display:"none"},id:"input-file-ticket",type:"file",accept:"application/pdf",onChange:function(e){var a=e.target.files;return t(a[0])}}),r.a.createElement(ra.a,{size:"small","aria-label":"save",color:"primary",htmlFor:"input-file-ticket",component:"label",endIcon:r.a.createElement(dn.a,null)},"Subir"))),title:n,subheader:r.a.createElement(r.a.Fragment,null,null!==a?r.a.createElement(r.a.Fragment,null,"".concat(a.name),r.a.createElement(y.a,{"aria-label":"delete",className:o.margin,size:"small",onClick:function(){return t(null)}},r.a.createElement(fn.a,{fontSize:"inherit"}))):"Selecciona un archivo")}))},hl=t(395),bl=t.n(hl),El=[{id:"identificador",align:"left",disablePadding:!1,label:"Identificador"},{id:"nombre",align:"left",disablePadding:!1,label:"Nombre"},{id:"tipo",align:"center",disablePadding:!1,label:"Contratado"},{id:"dias",align:"right",disablePadding:!1,label:"Dias"},{id:"costo_social",align:"right",disablePadding:!1,label:"Costo Social"},{id:"percepciones",align:"right",disablePadding:!1,label:"Percepciones"},{id:"deducciones",align:"right",disablePadding:!1,label:"Deducciones"},{id:"total",align:"right",disablePadding:!1,label:"Neto a Pagar"}],gl=r.a.createContext(null);function _l(){var e=Object(d.h)(),a=e.idNomina,t=e.idContrato,o=e.idEmpresa,i=e.anio,l=Object(n.useContext)(rt).rol,s=function(e){var a=e.idNomina,t=e.idContrato,o=e.idEmpresa,c=e.anio,i=r.a.useContext(rt),l=i.cabeceras,s=i.isTokenExpired,u=r.a.useReducer(ui,{loading:!0,fiscales:{},generalSettings:{identificador:"",periodo:"",perido_inicio:null,perido_fin:null,fecha_pago:null,razon_social:"",dias:"",aplico_costo_social:"N",comision:0,imss_aplicado:!1,isr_aplicado:!1,retencion_aplicada:!1},percepciones:[],deducciones:[],empleados:[],totales:{nomina:0,comision:0,costo_social:0,isn:0,subtotal:0,iva:0,total:0}}),p=Object(f.a)(u,2),d=p[0],m=p[1],v=function(){var e=Object(We.a)(Be.a.mark((function e(){var n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={method:"GET",headers:l},Promise.all([fetch(sa+"/api/rh/nomina?id_nomina=".concat(a),n),fetch(sa+"/api/rh/empleado?query=es_vigente-id_empleado-estatus-identificador-nombre-primer_apellido-segundo_apellido-no_tarjeta-no_cuenta-clabe-id_banco-id_contrato-salario_diario-salario_capturado-clave_patronal-id_empresa_pertene&id_empresa_labora=".concat(o),n),fetch(sa+"/api/rh/nomina/detalle_nomina?id_nomina=".concat(a),n),fetch(sa+"/api/rh/nomina/percepcion_deduccion",n),fetch(sa+"/api/rh/empresa/contrato?id_contrato=".concat(t),n),fetch(sa+"/api/rh/empresa?query=razon_social-rfc&id_empresa=".concat(o),n),fetch(sa+"/api/rh/nomina/nomina_variable?id_nomina=".concat(a),n),fetch(sa+"/api/rh/nomina/catalogo/isr?anio=".concat(c),n),fetch(sa+"/api/rh/nomina/catalogo/integracion?anio=".concat(c),n),fetch(sa+"/api/rh/nomina/catalogo/uma?anio=".concat(c),n),fetch(sa+"/api/rh/nomina/catalogo/subsidio?anio=".concat(c),n),fetch(sa+"/api/rh/banco",n),fetch(sa+"/api/rh/nomina/inasistencia?id_nomina=".concat(a),n)]).then((function(e){return e})).then(function(){var e=Object(We.a)(Be.a.mark((function e(a){var n,r,o,c,i,u,p,f,v,h,b,E,g,_,y,x,j,O,C,k,w,S,A,D,T,R,I;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a[0].json();case 2:if(n=e.sent,s(n)){e.next=60;break}return e.next=6,a[1].json();case 6:return r=e.sent,o=r.empleados,e.next=10,a[2].json();case 10:return c=e.sent,e.next=13,a[3].json();case 13:return i=e.sent,u=i.percepciondeduccion,e.next=17,a[4].json();case 17:return p=e.sent,f=p.contratoEmpresa,e.next=21,a[5].json();case 21:return v=e.sent,h=v.empresas,e.next=25,a[6].json();case 25:return b=e.sent,e.next=28,a[7].json();case 28:return E=e.sent,e.next=31,a[8].json();case 31:return g=e.sent,e.next=34,a[9].json();case 34:return _=e.sent,y=_.uma,e.next=38,a[10].json();case 38:return x=e.sent,e.next=41,a[11].json();case 41:return j=e.sent,O=j.bancos,e.next=45,a[12].json();case 45:return C=e.sent,k=C.inasistencia,e.next=49,pi(n.nomina[0],l,s);case 49:if(w=e.sent,S=Object(q.a)(Object(q.a)(Object(q.a)(Object(q.a)({},E),g),{},{uma:y[0].diario},x),{},{prima:w}),A=oi(d.generalSettings,h[0],f[0],n.nomina[0]),D=li("Percepcion",u),T=li("Deducciones",u),0!==c.nomina.length){e.next=58;break}return e.next=57,di(n.nomina[0],t,l,s);case 57:c.nomina=e.sent;case 58:n.nomina.length>0&&(o="C"===n.nomina[0].estatus||"P"===n.nomina[0].estatus?o.filter((function(e){return e.es_vigente})):o.filter((function(e){return c.nomina.some((function(a){return a.id_contrato===e.id_contrato}))})),R=ci(o,c.nomina,u,k),I=ii(b.nomina),o=[].concat(Object(He.a)(R),Object(He.a)(I))),m({newState:{bancos:O,fiscales:S,generalSettings:A,percepciones:D,deducciones:T,empleados:o,loading:!1},action:"ALL"});case 60:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){v()}),[]),Object(q.a)(Object(q.a)({},d),{},{setEmpleados:function(e){m({newState:e,action:"EMPLEADOS"})},setGeneralSettings:function(e){m({newState:e,action:"SETTINGS"})}})}({idNomina:a,idContrato:t,idEmpresa:o,anio:i}),u=s.loading,p=s.bancos,m=s.percepciones,v=s.deducciones,h=s.totales,b=s.generalSettings,E=s.setGeneralSettings,g=s.empleados,x=s.setEmpleados,O=Object(n.useState)(!1),C=Object(f.a)(O,2),w=C[0],S=C[1],A=Object(n.useState)("desc"),D=Object(f.a)(A,2),T=D[0],R=D[1],I=Object(n.useState)("tipo"),L=Object(f.a)(I,2),P=L[0],F=L[1],z=Object(n.useState)([]),Y=Object(f.a)(z,2),U=Y[0],M=Y[1],B=Object(n.useState)(!1),W=Object(f.a)(B,2),H=W[0],G=W[1],V=Object(n.useState)(!1),J=Object(f.a)(V,2),Z=J[0],$=J[1],Q=Object(n.useState)(2),K=Object(f.a)(Q,2),X=K[0],ee=K[1],ae=Object(n.useState)(!1),te=Object(f.a)(ae,2),ne=te[0],re=te[1],oe=r.a.createRef();return r.a.useEffect((function(){if(ne){var e=oe.current;Object(Uc.a)(c.a.findDOMNode(e),{paperSize:"Legal",landscape:!0,margin:20,scale:.6,fileName:"Nomina ".concat(b.identificador)},re(!1))}}),[ne]),r.a.createElement(gl.Provider,{value:{generalSettings:b,setGeneralSettings:E,percepciones:m,deducciones:v,empleados:g,setEmpleados:x,bancos:p,format:function(e){return 0===X?fi()(e).format("$0,0",Math.round):2===X?fi()(e).format("$0,0.00",Math.round):3===X?fi()(e).format("$0,0.000",Math.round):fi()(e).format("$0,0.0000",Math.round)},idNomina:a,idContrato:t,seePDF:ne}},r.a.createElement(cn.a,{ref:oe},u&&r.a.createElement(Hn.a,{variant:"query",color:"secondary"}),r.a.createElement(On.a,null,r.a.createElement(na.a,{container:!0,style:{padding:16}},r.a.createElement(na.a,{item:!0,xs:10,sm:8},r.a.createElement(j.a,{variant:"h6",color:"initial"},"Nomina: ",""!==b.identificador?b.identificador:"Cargando..."),r.a.createElement(j.a,{variant:"body1",color:"initial"},"Perido: ",null!==b.perido_inicio&&null!==b.perido_fin?" ".concat(N()(b.perido_inicio).format("DD/MM/YYYY")," al ").concat(N()(b.perido_fin).format("DD/MM/YYYY")):"Cargando..."),r.a.createElement(j.a,{variant:"body2",color:"initial"},"Fecha Pago: ","".concat(null!==b.fecha_pago?N()(b.fecha_pago).format("DD/MM/YYYY"):"Sin especificar")),r.a.createElement(j.a,{variant:"body2",color:"initial"},"Raz\xf3n social para facturar:  ","".concat(""!==b.razon_social?b.razon_social:"Cargando.."))),r.a.createElement(na.a,{item:!0,xs:2,sm:4},ne||u?r.a.createElement(na.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-end"},r.a.createElement("img",{src:bl.a,alt:"pdfimage",height:100})):r.a.createElement(na.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-end"},r.a.createElement(vt.a,{style:{marginRight:0,height:30},control:r.a.createElement(Ur.a,{checked:w,onChange:function(){return S(!w)},size:"small",color:"secondary"}),label:r.a.createElement(j.a,{variant:"subtitle2",color:"initial"},r.a.createElement(_.a,{xsDown:!0},"Ver todo")),labelPlacement:"start"}),r.a.createElement(vt.a,{style:{marginRight:0,height:30},control:r.a.createElement(ca.a,{value:X,select:!0,onChange:function(e){return ee(e.target.value)}},r.a.createElement(k.a,{value:0},"0"),r.a.createElement(k.a,{value:2},"2"),r.a.createElement(k.a,{value:3},"3"),r.a.createElement(k.a,{value:4},"4")),label:r.a.createElement(j.a,{variant:"subtitle2",color:"initial",style:{marginRight:5}},r.a.createElement(_.a,{xsDown:!0},"Decimales")),labelPlacement:"start"}),r.a.createElement(ra.a,{onClick:function(){re(!0)},endIcon:r.a.createElement(hi.a,null),size:"small"},"DESCARGAR COMO PDF"),"C"!==l&&r.a.createElement(ul,{nomina:b,idNomina:a,idEmpresa:o,setNomina:E}))),"C"!==l&&!ne&&!u&&("E"===b.estatus||"P"===b.estatus)&&r.a.createElement(na.a,{item:!0,xs:12,sm:12},r.a.createElement(na.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-end"},r.a.createElement(na.a,{item:!0},r.a.createElement(na.a,{container:!0,direction:"row"},r.a.createElement(j.a,{variant:"subtitle2",color:"initial",display:"block",style:{cursor:"pointer"},onClick:function(){return G(!0)}},r.a.createElement(_.a,{xsDown:!0},"Ajustes de n\xf3mina"),r.a.createElement(y.a,{size:"small"},r.a.createElement(Bc.a,{size:"small"}))),r.a.createElement(j.a,{variant:"subtitle2",color:"initial",display:"block",style:{cursor:"pointer"},onClick:function(){return $(!0)}},r.a.createElement(_.a,{xsDown:!0},"Agregar variable"),r.a.createElement(y.a,{size:"small"},r.a.createElement(Hc.a,{size:"small"}))))))))),r.a.createElement(zn.a,null,r.a.createElement(Yn.a,{size:"small"},r.a.createElement(Ti,{numSelected:U.length,order:T,orderBy:P,onSelectAllClick:function(e){if(e.target.checked){var a=g.map((function(e){return e.name}));M(a)}else M([])},onRequestSort:function(e,a){R(P===a&&"asc"===T?"desc":"asc"),F(a)},rowCount:g.length,headCells:El}),r.a.createElement(Wn.a,null,function(e,a){var t=e.map((function(e,a){return[e,a]}));return t.sort((function(e,t){var n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t.map((function(e){return e[0]}))}(g,function(e,a){function t(e,a,t){return a.display[t]<e.display[t]?-1:a.display[t]>e.display[t]?1:0}return"desc"===e?function(e,n){return t(e,n,a)}:function(e,n){return-t(e,n,a)}}(T,P)).map((function(e,a){return r.a.createElement(Gi,{key:"collapse-row-".concat(a),row:e,openAll:w})})),r.a.createElement(Xi,{totales:h}))))),H&&r.a.createElement(Ki,{open:H,setOpen:G}),Z&&r.a.createElement(Ci,{open:Z,setOpen:$}))}var yl=t(1148),xl={fullWidth:!0,InputLabelProps:{shrink:!0},required:!0},jl=Object(Y.a)((function(e){return{card:{backgroundColor:Si.a[100],height:"100%"},container:{padding:24,height:"100%"}}}));function Ol(e){var a=e.children,t=e.loading,n=Object(B.a)(e,["children","loading"]),o=jl();return r.a.createElement(cn.a,Object.assign({},n,{className:o.card,elevation:0}),t&&r.a.createElement(Hn.a,{color:"secondary"}),r.a.createElement(na.a,{container:!0,className:o.container,spacing:2},Object(He.a)(a)))}function Cl(e){var a=e.cabeceras,t=e.isTokenExpired,o=(Object(B.a)(e,["cabeceras","isTokenExpired"]),Object(n.useState)(!1)),c=Object(f.a)(o,2),i=c[0],l=c[1],s=Object(n.useContext)(Wl).setReport,u=function(){var e=Object(We.a)(Be.a.mark((function e(){var n,r,o,c,i;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,fetch("".concat(sa,"/api/rh/empleado/reporte/entidades"),{method:"GET",headers:a});case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,t(r)||(o=r.empleados,c=o.map((function(e){return va(e.entidad)})),i=o.map((function(e){return e.cantidad})),s({show:!0,type:"horizontalbar",title:"Cantidad de empleados por estado de la republica.",message:"A continuaci\xf3n se mostraran la cantidad de empleados en cada estado de la republica con al menos 1 empleado",data:i,labels:c,label:"Empleados"}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ol,{loading:i},r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(j.a,{variant:"subtitle1",color:"initial"},"Cantidad de empleados por estado de la republica."),r.a.createElement(j.a,{variant:"subtitle2",color:"initial"},"(Solo se mostraran los estados con al menos 1 empleado).")),r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(na.a,{container:!0,style:{height:"100%"},direction:"column",justify:"flex-end",alignItems:"flex-end"},r.a.createElement(ra.a,{color:"secondary",disabled:i,onClick:u},"GENERAR REPORTE"))))}function kl(e){var a=e.empresas,t=e.cabeceras,o=e.isTokenExpired,c=Object(n.useContext)(Wl).setReport,i=Object(n.useState)(!1),l=Object(f.a)(i,2),s=l[0],u=l[1],p=Object(d.g)(),m=function(){var e=Object(We.a)(Be.a.mark((function e(){var n,i,l,s,d;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,fetch("".concat(sa,"/api/rh/empleado/reporte/inasistencias"),{method:"GET",headers:t});case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,o(i)||(l=i.empleados,s=[{title:"Nombre",id:"nombre",hidden:!1,align:"left"},{title:"Pertenece",id:"pertenece",hidden:!1,align:"left"},{title:"Labora",id:"labora",hidden:!1,align:"left"},{title:"Faltas",id:"faltas",hidden:!1,align:"right"},{title:"Acci\xf3n",id:"id_empleado",hidden:!1,align:"left"}],d=l.map((function(e){return{nombre:"".concat(e.nombre," ").concat(e.primer_apellido),pertenece:a.find((function(a){return a.id_empresa===e.id_empresa_pertenece})).razon_social,labora:a.find((function(a){return a.id_empresa===e.id_empresa_labora})).razon_social,faltas:e.faltas,id_empleado:r.a.createElement(ra.a,{color:"secondary",onClick:function(){return p.push("/nomina/edit-empleado/".concat(e.id_empleado))}},"Ver")}})),c({show:!0,type:"table",title:"Empleados que con un mayor numero de inasistencia.",message:"A continuaci\xf3n se muestran los empleados que tiene un mayor numero de inasistencias.",data:d,labels:s,label:"Empleados"}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ol,{loading:s},r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(j.a,{variant:"subtitle1",color:"initial"},"Empleados que con un mayor numero de inasistencia"),r.a.createElement(j.a,{variant:"subtitle2",color:"initial"},"(Solo se muestran los empleados que hayan tenido registro de asistencias en alguna n\xf3mina).")),r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(na.a,{container:!0,style:{height:"100%"},direction:"column",justify:"flex-end",alignItems:"flex-end"},r.a.createElement(ra.a,{color:"secondary",disabled:s,onClick:m},"GENERAR REPORTE"))))}function wl(e){var a=e.empresas,t=e.cabeceras,o=e.isTokenExpired,c=Object(n.useContext)(Wl).setReport,i=Object(n.useState)(!1),l=Object(f.a)(i,2),s=l[0],u=l[1],p=Object(n.useState)({pertenece:"TODAS",labora:"TODAS"}),d=Object(f.a)(p,2),m=d[0],v=d[1],h=function(){var e=Object(We.a)(Be.a.mark((function e(){var a,n,r,i,l,s;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),a="".concat(sa,"/api/rh/empleado/reporte/categoria_imss"),"TODAS"===m.pertenece&&"TODAS"===m.labora||(a+="?"),"TODAS"!==m.pertenece&&(a+="&id_empresa_pertene=".concat(m.pertenece)),"TODAS"!==m.labora&&(a+="&id_empresa_labora=".concat(m.labora)),e.next=7,fetch(a,{method:"GET",headers:t});case 7:return n=e.sent,e.next=10,n.json();case 10:r=e.sent,o(r)||(i=r.empleados,l=i.map((function(e){return"CLASE ".concat(e.categoria)})),s=i.map((function(e){return e.count})),c({show:!0,type:"horizontalbar",title:"Cantidad de empleados registrados determinada clase de IMSS.",message:"Solo se mostrar\xe1n las clases con almenos un empleado registrado",data:s,labels:l,label:"Empleados"}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ol,{loading:s},r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(j.a,{variant:"subtitle1",color:"initial"},"Cantidad de empleados registrados determinada clase de IMSS")),r.a.createElement(na.a,{item:!0,xs:6},r.a.createElement(ca.a,Object.assign({},xl,{select:!0,value:m.pertenece,defaultValue:"TODAS",label:"Empresa Pertenece",onChange:function(e){var a=e.target.value;return v(Object(q.a)(Object(q.a)({},m),{},{pertenece:a}))}}),r.a.createElement(k.a,{value:"TODAS"},"TODAS"),a.filter((function(e){return e.es_interna})).map((function(e){return r.a.createElement(k.a,{key:"empleados-31-empresa-pertenece-".concat(e.id_empresa),value:e.id_empresa},e.razon_social)})))),r.a.createElement(na.a,{item:!0,xs:6},r.a.createElement(ca.a,Object.assign({},xl,{select:!0,value:m.labora,defaultValue:"TODAS",label:"Empresa Labora",onChange:function(e){var a=e.target.value;return v(Object(q.a)(Object(q.a)({},m),{},{labora:a}))}}),r.a.createElement(k.a,{value:"TODAS"},"TODAS"),a.map((function(e){return r.a.createElement(k.a,{key:"empleados-32-empresa-pertenece-".concat(e.id_empresa),value:e.id_empresa},e.razon_social)})))),r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(na.a,{container:!0,style:{height:"100%"},direction:"column",justify:"flex-end",alignItems:"flex-end"},r.a.createElement(ra.a,{color:"secondary",onClick:h},"GENERAR REPORTE"))))}function Sl(e){var a=e.cabeceras,t=e.isTokenExpired,o=Object(n.useContext)(Wl).setReport,c=Object(n.useState)(!1),i=Object(f.a)(c,2),l=i[0],s=i[1],u=function(){var e=Object(We.a)(Be.a.mark((function e(){var n,r,c,i,l,u;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,fetch("".concat(sa,"/api/rh/empleado/reporte/edades"),{method:"GET",headers:a});case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,t(r)||(c=r.empleados,i=Object.keys(c[0]),l=i.map((function(e){return e.replace(/_/g,"-")})),u=i.map((function(e){return c[0][e]})),o({show:!0,type:"horizontalbar",title:"Cantidad de empleados distribuidos por edad.",message:"A continuaci\xf3n se mostraran la cantidad de empleados en distribuidos por edad",data:u,labels:l,label:"Empleados"}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ol,{loading:l},r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(j.a,{variant:"subtitle1",color:"initial"},"Cantidad de empleados distribuidos por edad"),r.a.createElement(j.a,{variant:"subtitle2",color:"initial"},"Los rangos de edades van de menor a 20, 20 a 29, 30 a 39, 40 a 49, 50 a 59, 60 en adelante")),r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(na.a,{container:!0,style:{height:"100%"},direction:"column",justify:"flex-end",alignItems:"flex-end"},r.a.createElement(ra.a,{color:"secondary",onClick:u},"GENERAR REPORTE"))))}function Al(e){return r.a.createElement(na.a,{spacing:2,container:!0,direction:"row",justify:"center",alignItems:"stretch"},r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(Cl,e)),r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(kl,e)),r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(wl,e)),r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(Sl,e)))}function Dl(e){var a=e.empresas,t=e.cabeceras,o=e.isTokenExpired,c=Object(n.useContext)(Wl).setReport,i=Object(n.useState)("TODAS"),l=Object(f.a)(i,2),s=l[0],u=l[1],p=Object(n.useState)(!1),d=Object(f.a)(p,2),m=d[0],v=d[1],h=function(){var e=Object(We.a)(Be.a.mark((function e(){var n,r,i,l,u,p,d;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),n="A continuaci\xf3n se muestran la cantidad de empleados activos e inactivos ",r=sa+"/api/rh/empleado?query=estatus-id_empleado","TODAS"!==s?(n+="de la empresa: "+a.find((function(e){return e.id_empresa===s})).razon_social,r+="&id_empresa_labora=".concat(s)):n+="de TODAS las empresas",e.next=6,fetch(r,{method:"GET",headers:t});case 6:return i=e.sent,e.next=9,i.json();case 9:l=e.sent,o(l)||(u=l.empleados,p=u.filter((function(e){return"A"===e.estatus})).length,d=u.filter((function(e){return"B"===e.estatus})).length,c({show:!0,type:"bar",title:"Cantidad de empleados (activos o inactivos) por empresa",message:n,data:[d,p],labels:["Bajas","Activos"],label:"Empleados"}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ol,{loading:m},r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(j.a,{variant:"subtitle1",color:"initial"},"Cantidad de empleados (activos o inactivos) por empresa")),r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(ca.a,Object.assign({},xl,{value:s,onChange:function(e){var a=e.target.value;return u(a)},select:!0,defaultValue:"TODAS",label:"Empresa"}),r.a.createElement(k.a,{value:"TODAS"},"TODAS"),a.map((function(e){return r.a.createElement(k.a,{key:"empresa-labora-".concat(e.id_empresa),value:e.id_empresa},e.razon_social)})))),r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(na.a,{container:!0,style:{height:"100%"},direction:"column",justify:"flex-end",alignItems:"flex-end"},r.a.createElement(ra.a,{color:"secondary",disabled:m,onClick:h},"GENERAR REPORTE"))))}function Tl(e){var a=e.cabeceras,t=e.isTokenExpired,o=Object(n.useState)(!1),c=Object(f.a)(o,2),i=c[0],l=c[1],s=Object(n.useContext)(Wl).setReport,u=function(){var e=Object(We.a)(Be.a.mark((function e(){var n,r,o,c,i;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,fetch("".concat(sa,"/api/rh/empresa/reporte/entidades"),{method:"GET",headers:a});case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,t(r)||(o=r.empresas,c=o.map((function(e){return va(e.entidad)})),i=o.map((function(e){return e.cantidad})),s({show:!0,type:"horizontalbar",title:"Cantidad de empleados por estado de la republica.",message:"A continuaci\xf3n se mostraran la cantidad de empleados en cada estado de la republica con al menos 1 empleado",data:i,labels:c,label:"Empleados"}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ol,{loading:i},r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(j.a,{variant:"subtitle1",color:"initial"},"Cantidad de empresas por estado de la republica."),r.a.createElement(j.a,{variant:"subtitle2",color:"initial"},"(Solo se mostraran los estados con al menos una empresa).")),r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(na.a,{container:!0,style:{height:"100%"},direction:"column",justify:"flex-end",alignItems:"flex-end"},r.a.createElement(ra.a,{color:"secondary",onClick:u},"GENERAR REPORTE"))))}function Rl(e){var a=e.cabeceras,t=e.isTokenExpired,o=Object(n.useContext)(Wl).setReport,c=Object(n.useState)(!1),i=Object(f.a)(c,2),l=i[0],s=i[1],u=Object(d.g)(),p=function(){var e=Object(We.a)(Be.a.mark((function e(){var n,c,i,l,p;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,fetch("".concat(sa,"/api/rh/empresa/reporte/contrato"),{method:"GET",headers:a});case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,t(c)||(i=c.empresas,l=[{title:"Razon Social",id:"razon_social",hidden:!1,align:"left"},{title:"Fecha Final",id:"fecha_fin",hidden:!1,align:"left"},{title:"Accion",id:"id_empresa",hidden:!1,align:"left"}],p=i.map((function(e){return{razon_social:e.razon_social,fecha_fin:N()(e.fecha_fin).format("DD/MM/YYYY"),id_empresa:r.a.createElement(ra.a,{color:"secondary",onClick:function(){return u.push("/nomina/edit-empresa/".concat(e.id_empresa))}},"Ver")}})),o({show:!0,type:"table",title:"Empresas que est\xe1n por finalizar contrato en un rango de 3 meses.",message:"Se muestran las empresas que la fecha de terminaci\xf3n de contrato se acerca.",data:p,labels:l,label:"Empleados"}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ol,{loading:l},r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(j.a,{variant:"subtitle1",color:"initial"},"Empresas que est\xe1n por finalizar contrato en un rango de 3 meses."),r.a.createElement(j.a,{variant:"subtitle2",color:"initial"},"(Solo se muestran las empresas que la fecha de terminaci\xf3n de contrato se acerca).")),r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(na.a,{container:!0,style:{height:"100%"},direction:"column",justify:"flex-end",alignItems:"flex-end"},r.a.createElement(ra.a,{disabled:l,color:"secondary",onClick:p},"GENERAR REPORTE"))))}function Il(e){return r.a.createElement(na.a,{spacing:2,container:!0,direction:"row",justify:"center",alignItems:"stretch"},r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(Dl,e)),r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(Tl,e)),r.a.createElement(na.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(Rl,e)))}var Nl=t(408);var Ll=t(698),Pl=t.n(Ll),ql=t(235),Fl=t(236),zl=t(646),Yl=t(643),Ul=t(644),Ml=t(233),Bl=t(645),Wl=Object(n.createContext)(null),Hl=Object(n.createRef)(null),Gl={show:!1,title:"",message:"",data:"",labels:"",type:"",label:""};function Vl(){var e=Object(n.useContext)(rt),a=Object.assign({},e),t=function(){var e=Object(n.useContext)(rt),a=e.cabeceras,t=e.isTokenExpired,r=Object(n.useState)([]),o=Object(f.a)(r,2),c=o[0],i=o[1],l=function(){var e=Object(We.a)(Be.a.mark((function e(){var n,r,o;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(sa,"/api/rh/empresa?query=id_empresa-razon_social-es_interna"),{method:"GET",headers:a});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,t(r)||(o=r.empresas,i(o));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){l()}),[]),{empresas:c}}().empresas,o=Object(n.useState)(Object(q.a)({},Gl)),i=Object(f.a)(o,2),l=i[0],s=i[1],u=function(e){s(Object(q.a)(Object(q.a)({},l),{},{type:e}))};return r.a.createElement(Wl.Provider,{value:{report:l,setReport:s}},r.a.createElement(cn.a,null,r.a.createElement(On.a,{style:{padding:16}},l.show?r.a.createElement(na.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",spacing:2},r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(na.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-start"},r.a.createElement(ra.a,{startIcon:r.a.createElement(Yt.a,null),onClick:function(){s(Object(q.a)({},Gl))}},r.a.createElement(_.a,{xsDown:!0},"Volver")),r.a.createElement(j.a,{variant:"button",color:"initial"},"Reporte Generado"),r.a.createElement(ra.a,{endIcon:r.a.createElement(hi.a,null),color:"secondary",onClick:function(){Object(Uc.a)(c.a.findDOMNode(Hl.current),{paperSize:"Legal",margin:20,scale:.7,fileName:"Reporte"})}},r.a.createElement(_.a,{xsDown:!0},"Descargar")))),"table"!==l.type&&r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(na.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(yl.a,{variant:"text",color:"secondary","aria-label":"text primary button group"},r.a.createElement(ra.a,{endIcon:r.a.createElement(ve.a,{style:{transform:"rotate(90deg)"}}),onClick:function(){return u("horizontalbar")}},r.a.createElement(_.a,{xsDown:!0},"Horizontal")),r.a.createElement(ra.a,{endIcon:r.a.createElement(ve.a,null),onClick:function(){return u("bar")}},r.a.createElement(_.a,{xsDown:!0},"Vertical")),r.a.createElement(ra.a,{endIcon:r.a.createElement(Pl.a,null),onClick:function(){return u("pie")}},r.a.createElement(_.a,{xsDown:!0},"Circular"))))),r.a.createElement(na.a,{item:!0,ref:Hl},r.a.createElement(na.a,{container:!0,direction:"column",spacing:2},r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(na.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end"},r.a.createElement(na.a,{item:!0,xs:2},r.a.createElement("img",{src:bl.a,alt:"pdfimage",height:100,crossOrigin:"anonymous"})),r.a.createElement(na.a,{item:!0,xs:10},r.a.createElement(na.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(j.a,{variant:"body1",color:"initial",display:"block"},"Reporte: ",l.title)),r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(j.a,{variant:"body2",color:"initial",display:"block"},l.message)))))),r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(na.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Jl,l)))))):r.a.createElement(na.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",spacing:2},r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(j.a,{variant:"button",display:"block",style:{textAlign:"center"}},"Reportes de Empleados")),r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(Al,Object.assign({empresas:t},a))),r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(j.a,{variant:"button",display:"block",style:{textAlign:"center"}},"Reportes de Empresas")),r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(Il,Object.assign({empresas:t},a)))))))}var Jl=function(e){var a=Zl(Object(q.a)({},e));switch(e.type){case"pie":return r.a.createElement(Nl.Pie,{data:a});case"bar":return r.a.createElement(Nl.Bar,{data:a});case"horizontalbar":return r.a.createElement(Nl.HorizontalBar,{data:a});case"table":return r.a.createElement($l,{data:e.data,labels:e.labels});default:return null}},Zl=function(e){var a=e.type,t=e.data,n=e.labels,r=e.label,o={maintainAspectRatio:!1};switch(a){case"pie":return{labels:n.map((function(e,a){return"".concat(e,": ").concat(t[a])})),datasets:[{data:t,backgroundColor:[uo.a[300],At.a[300],ql.a[300],Fl.a[300],zl.a[300],Yl.a[300],Ul.a[300],Ml.a[300],Bl.a[300]],hoverBackgroundColor:[uo.a[600],At.a[600],ql.a[600],Fl.a[500],zl.a[600],Yl.a[600],Ul.a[600],Ml.a[600],Bl.a[600]],stack:0}],options:o};case"bar":case"horizontalbar":default:return{labels:n,datasets:[{label:r,backgroundColor:"rgba(245, 124, 0,0.2)",borderColor:"rgba(245, 124, 0,1)",borderWidth:1,hoverBackgroundColor:"rgba(216, 67, 21,0.4)",hoverBorderColor:"rgba(216, 67, 21,1)",data:t,stack:0}],options:o}}},$l=function(e){var a=e.data,t=e.labels;return r.a.createElement(zn.a,null,r.a.createElement(Yn.a,{size:"small","aria-label":"a dense table"},r.a.createElement(Un.a,null,r.a.createElement(Mn.a,null,t.map((function(e){var a=e.title,t=e.hidden,n=e.align,o=e.id;return t?null:r.a.createElement(Bn.a,{key:"header-table-ghrapic-".concat(o),align:n},a)})))),r.a.createElement(Wn.a,null,a.map((function(e,a){return r.a.createElement(Mn.a,{key:"table-row-ghrapic-".concat(a)},t.map((function(a,t){var n=a.hidden,o=a.align,c=a.id;return console.log(e[c]),n?null:r.a.createElement(Bn.a,{align:o,key:"table-cell-ghrapic-".concat(t)},e[c])})))})))))},Ql=t(210),Kl=t.n(Ql),Xl={header:{actions:"Acciones"},body:{emptyDataSourceMessage:"No hay registros que mostrar",editTooltip:"Editar",deleteTooltip:"Borrar",addTooltip:"A\xf1adir",editRow:{cancelTooltip:"Cancelar",saveTooltip:"Guardar",deleteText:"\xbfEst\xe1 seguro que desea continuar?"}},toolbar:{searchTooltip:"Buscar",searchPlaceholder:"Buscar",exportName:"Exportar como CSV",exportTitle:"Exportar",showColumnsTitle:"Columas",showColumnsAriaLabel:"Columnas",addRemoveColumns:"Agregar o remover columnas"},pagination:{firstTooltip:"Primera p\xe1gina",previousTooltip:"P\xe1gina anterior",nextTooltip:"Siguiente p\xe1gina",lastTooltip:"\xdaltima p\xe1gina",labelRowsSelect:"filas",labelDisplayedRows:"{from}-{to} a {count}"}},es=[{icon:"refresh",tooltip:"Actualizar",isFreeAction:!0,onClick:function(){}}],as={columnsButton:!0,exportAllData:!0,exportButton:!0,headerStyle:{fontWeight:"bold"}},ts=Object(z.a)({palette:{primary:{main:"#4caf50"},secondary:{main:"#ff9100"}}}),ns=Object(Ne.a)({root:{"&$checked":{color:At.a[600]}},checked:{}})((function(e){return r.a.createElement(Fr.a,Object.assign({style:{padding:5},color:"default"},e))}));function rs(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}function os(){var e=r.a.useContext(rt),a=e.cabeceras,t=e.isTokenExpired,n=Object(d.g)(),o=r.a.useState([]),c=Object(f.a)(o,2),i=c[0],l=c[1],s=r.a.useState(!1),u=Object(f.a)(s,2),p=u[0],m=u[1],v=r.a.useState({open:!1,message:"",severity:"",title:""}),h=Object(f.a)(v,2),b=h[0],E=h[1],g=function(e,a){E(Object(q.a)(Object(q.a)({},b),{},{open:!1}))},_=r.a.useCallback((function(){var e=!0;m(!0),l([]);var r=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,console.log(n),e&&(m(!1),n.tipo_documento.length>0?((r=n.tipo_documento).forEach((function(e){e.empresa=void 0!==e.empresa&&null!==e.empresa&&""!==e.empresa&&e.empresa,e.empleado=void 0!==e.empleado&&null!==e.empleado&&""!==e.empleado&&e.empleado,e.representante=void 0!==e.representante&&null!==e.representante&&""!==e.representante&&e.representante})),l(r)):E({open:!0,message:"",severity:"info",title:"Ningun registro encontrado"}));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),o=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||e&&(m(!1),E({open:!0,message:"Ha ocurrido un error, intenta nuevamente",severity:"error",title:"Uuuups!"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return e&&ua.get({url:"".concat(ua.BASE_URL,"/api/rh/tipo_documento"),headers:a,exito:r,fallo:o,error_request:function(){n.push("/server-error")}}),function(){return e=!1}}),[n]),y=[{title:"Documento",field:"tipo",width:300,editComponent:function(e){return r.a.createElement(ca.a,{multiline:!0,fullWidth:!0,size:"small",value:e.value||"",placeholder:"Ej. RFC ...",onChange:function(a){return e.onChange(a.target.value)}})}},{title:"Descripci\xf3n",field:"descripcion",width:300,editComponent:function(e){return r.a.createElement(ca.a,{multiline:!0,fullWidth:!0,size:"small",value:e.value||"",placeholder:"Ej. Registro Federal de Contribuyentes...",onChange:function(a){return e.onChange(a.target.value)}})}},{title:"Empresa",field:"empresa",render:function(e){var a=e.empresa;return r.a.createElement(na.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ns,{icon:r.a.createElement(Kl.a,null),checkedIcon:r.a.createElement(so.a,null),checked:a}))},editComponent:function(e){return r.a.createElement(na.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(vt.a,{style:{marginLeft:0,marginRight:0},control:r.a.createElement(ns,{icon:r.a.createElement(Kl.a,null),checkedIcon:r.a.createElement(so.a,null),checked:void 0!==e.value&&e.value,onChange:function(a){return e.onChange(void 0===e.value||!e.value)},name:"empresa"})}))}},{title:"Empleado",field:"empleado",render:function(e){var a=e.empleado;return r.a.createElement(na.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ns,{icon:r.a.createElement(Kl.a,null),checkedIcon:r.a.createElement(so.a,null),checked:a}))},editComponent:function(e){return r.a.createElement(na.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(vt.a,{style:{marginLeft:0,marginRight:0},control:r.a.createElement(ns,{icon:r.a.createElement(Kl.a,null),checkedIcon:r.a.createElement(so.a,null),checked:void 0!==e.value&&e.value,onChange:function(a){return e.onChange(void 0===e.value||!e.value)},name:"empleado"})}))}},{title:"Representante",field:"representante",render:function(e){var a=e.representante;return r.a.createElement(na.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ns,{icon:r.a.createElement(Kl.a,null),checkedIcon:r.a.createElement(so.a,null),checked:a}))},editComponent:function(e){return r.a.createElement(na.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(vt.a,{style:{marginLeft:0,marginRight:0},control:r.a.createElement(ns,{icon:r.a.createElement(Kl.a,null),checkedIcon:r.a.createElement(so.a,null),checked:void 0!==e.value&&e.value,onChange:function(a){return e.onChange(void 0===e.value||!e.value)},name:"representante"})}))}},{title:"",field:"id_tipo_documento",width:20,editable:"never",hidden:!0,removable:!1}];es[0].onClick=_,Xl.body.editRow.deleteText=r.a.createElement(j.a,{variant:"button",gutterBottom:!0},"\xbfEst\xe1 seguro que desea continuar?");return r.a.useEffect((function(){_()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{title:"Documentos",columns:y,localization:Xl,data:i,actions:es,options:as,isLoading:p,editable:{onRowAdd:function(e){return new Promise((function(r,o){setTimeout((function(){if(console.log(e),void 0===e.tipo||void 0===e.descripcion||!(e.empresa||e.empleado||e.representante))return E({open:!0,message:'Rellena los campos "Documento", "Descripci\xf3n", debe ser asignado a al menos una entidad',severity:"warning",title:"Campos vacios!"}),void o();!function(e){var r=!0,o=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,o;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,r&&(e.id_tipo_documento=n[0].id_tipo_documento,(o=i).push(e),l(o),m(!1),E({open:!0,message:"Documento: ".concat(e.tipo.toUpperCase()," creado correctamente"),severity:"success",title:"Registro exitoso!"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),c=function(){var e=Object(We.a)(Be.a.mark((function e(a){var n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:n=e.sent,t(n)||r&&(m(!1),E({open:!0,message:"El registro no se ha realizado, intenta de nuevo",severity:"error",title:"Registro fallido!"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();r&&(m(!0),ua.post({url:"".concat(ua.BASE_URL,"/api/rh/tipo_documento"),headers:a,data:e,exito:o,fallo:c,error_request:function(e){n.push("/server-error")}}))}(e),r()}),600)}))},onRowUpdate:function(e,r){return new Promise((function(o,c){setTimeout((function(){if(""===e.tipo||""===e.descripcion||!(e.empresa||e.empleado||e.representante))return E({open:!0,message:'Rellena los campos "Documento", "Descripci\xf3n", debe ser asignado a al menos una entidad',severity:"warning",title:"Campos vacios!"}),void c();o(),function(e,r){var o=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,o,c;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,console.log(n),c=(o=i).indexOf(r),i[c]=e,l(o),m(!1),E({open:!0,message:"Documento: ".concat(e.tipo.toUpperCase()," se ha actualizado correctamente"),severity:"success",title:"Actualizaci\xf3n exitoso!"});case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),c=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||(m(!1),E({open:!0,message:"Documento: ".concat(e.tipo.toUpperCase()," no ha sido actualizado, intenta de nuevo"),severity:"error",title:"Actualizaci\xf3n fallida!"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();m(!0),function(){var t={tipo:e.tipo,descripcion:e.descripcion,empresa:e.empresa,empleado:e.empleado,representante:e.representante};ua.put({url:"".concat(ua.BASE_URL,"/api/rh/tipo_documento/").concat(e.id_tipo_documento),headers:a,data:t,exito:o,fallo:c,error_request:function(e){n.push("/server-error")}})}()}(e,r)}),600)}))},onRowDelete:function(e){return new Promise((function(r,o){setTimeout((function(){r(),function(e){var r=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=(n=i).indexOf(e),i.splice(r,1),l(n),m(!1),E({open:!0,message:"Documento: ".concat(e.tipo.toUpperCase()," se ha eliminado correctamente"),severity:"success",title:"Eliminaci\xf3n exitosa!"});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),o=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||(m(!1),E({open:!0,message:"Documento: ".concat(e.tipo.toUpperCase()," tiene registros que dependen de este, primero debes eliminarlos"),severity:"error",title:"Eliminaci\xf3n fallida!"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();m(!0),ua.deleted({url:"".concat(ua.BASE_URL,"/api/rh/tipo_documento/").concat(e.id_tipo_documento),headers:a,exito:r,fallo:o,error_request:function(){n.push("/server-error")}})}(e)}),600)}))}}}),r.a.createElement(oa.a,{open:b.open,autoHideDuration:6e3,onClose:g},r.a.createElement(rs,{onClose:g,severity:b.severity},r.a.createElement(xa.a,null,b.title),b.message)))}function cs(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}function is(){var e=r.a.useContext(rt),a=e.cabeceras,t=e.isTokenExpired,n=Object(d.g)(),o=r.a.useState([]),c=Object(f.a)(o,2),i=c[0],l=c[1],s=r.a.useState(!1),u=Object(f.a)(s,2),p=u[0],m=u[1],v=r.a.useState({open:!1,message:"",severity:"",title:""}),h=Object(f.a)(v,2),b=h[0],E=h[1],g=function(e,a){E(Object(q.a)(Object(q.a)({},b),{},{open:!1}))},_=r.a.useCallback((function(){var e=!0;m(!0),l([]);var r=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,e&&(l(n.giros),m(!1),0===n.giros.length&&E({open:!0,message:"No existen registros de empresas",severity:"info",title:"Ningun registro encontrado"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),o=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||e&&(m(!1),E({open:!0,message:"Ha ocurrido un error, intenta nuevamente",severity:"error",title:"Uuuups!"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return e&&ua.get({url:"".concat(ua.BASE_URL,"/api/rh/giro?query=").concat(ua.GIROS_ALL),headers:a,exito:r,fallo:o,error_request:function(){n.push("/server-error")}}),function(){return e=!1}}),[n]);es[0].onClick=_,Xl.body.editRow.deleteText=r.a.createElement(j.a,{variant:"button",gutterBottom:!0},"\xbfEst\xe1 seguro que desea continuar?");var y=[{title:"ID",field:"id_giro",width:20,editable:"never",hidden:!0},{title:"Nombre Giro",field:"nombre_giro",width:150,defaultSort:"asc",editComponent:function(e){return r.a.createElement(ca.a,{fullWidth:!0,size:"small",value:e.value||"",placeholder:"Ej. Contrucci\xf3n",onChange:function(a){return e.onChange(a.target.value)}})}},{title:"Descripci\xf3n",field:"descripcion",width:300,editComponent:function(e){return r.a.createElement(ca.a,{fullWidth:!0,size:"small",value:e.value||"",placeholder:"Ej. Hacen edificios, casas o todo tipo de edificaciones",onChange:function(a){return e.onChange(a.target.value)}})}}];return r.a.useEffect((function(){_()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{title:"Giros",columns:y,localization:Xl,data:i,actions:es,options:as,isLoading:p,editable:{onRowAdd:function(e){return new Promise((function(r,o){setTimeout((function(){if(""===e.nombre_giro||""===e.descripcion||void 0===e.nombre_giro||void 0===e.descripcion)return E({open:!0,message:'Rellena los campos "Nombre Giro" y "Descripci\xf3n"',severity:"warning",title:"Campos vacios!"}),void o();!function(e){var r=!0,o=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,o;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,r&&(e.id_giro=n.giro[0].id_giro,(o=i).push(e),l(o),m(!1),E({open:!0,message:"Giro: ".concat(e.nombre_giro.toUpperCase()," creado correctamente"),severity:"success",title:"Registro exitoso!"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),c=function(){var e=Object(We.a)(Be.a.mark((function e(a){var n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:n=e.sent,t(n)||r&&(m(!1),E({open:!0,message:"El registro no se ha realizado, intenta de nuevo",severity:"error",title:"Registro fallido!"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();r&&(m(!0),ua.post({url:"".concat(ua.BASE_URL,"/api/rh/giro"),headers:a,data:e,exito:o,fallo:c,error_request:function(e){n.push("/server-error")}}))}(e),r()}),600)}))},onRowUpdate:function(e,r){return new Promise((function(o,c){setTimeout((function(){if(""===e.nombre_giro||""===e.descripcion||void 0===e.nombre_giro||void 0===e.descripcion)return E({open:!0,message:'Rellena los campos "Nombre Giro" y "Descripci\xf3n"',severity:"warning",title:"Campos vacios!"}),void c();o(),function(e,r){var o=function(){var a=Object(We.a)(Be.a.mark((function a(n){var o,c,s;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:o=a.sent,t(o)||(s=(c=i).indexOf(r),i[s]=e,l(c),m(!1),E({open:!0,message:"Giro: ".concat(e.nombre_giro.toUpperCase()," se ha actualizado correctamente"),severity:"success",title:"Actualizaci\xf3n exitoso!"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),c=function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:m(!1),E({open:!0,message:"Giro: ".concat(e.nombre_giro.toUpperCase()," no ha sido actualizado, intenta de nuevo"),severity:"error",title:"Actualizaci\xf3n fallida!"});case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();m(!0),function(){var t={nombre_giro:e.nombre_giro,descripcion:e.descripcion};ua.put({url:"".concat(ua.BASE_URL,"/api/rh/giro/").concat(e.id_giro),headers:a,data:t,exito:o,fallo:c,error_request:function(e){n.push("/server-error")}})}()}(e,r)}),600)}))},onRowDelete:function(e){return new Promise((function(r){setTimeout((function(){r(),function(e){var r=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r,o,c;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||(c=(o=i).indexOf(e),i.splice(c,1),l(o),m(!1),E({open:!0,message:"Giro: ".concat(e.nombre_giro.toUpperCase()," se ha eliminado correctamente"),severity:"success",title:"Eliminaci\xf3n exitosa!"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),o=function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:m(!1),E({open:!0,message:"Giro: ".concat(e.nombre_giro.toUpperCase()," tiene registros que dependen de este, primero debes eliminarlos"),severity:"error",title:"Eliminaci\xf3n fallida!"});case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();m(!0),ua.deleted({url:"".concat(ua.BASE_URL,"/api/rh/giro/").concat(e.id_giro),headers:a,exito:r,fallo:o,error_request:function(){n.push("/server-error")}})}(e)}),600)}))}}}),r.a.createElement(oa.a,{open:b.open,autoHideDuration:6e3,onClose:g},r.a.createElement(cs,{onClose:g,severity:b.severity},r.a.createElement(xa.a,null,b.title),b.message)))}function ls(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}function ss(){var e=r.a.useContext(rt),a=e.cabeceras,t=e.isTokenExpired,n=Object(d.g)(),o=r.a.useState([]),c=Object(f.a)(o,2),i=c[0],l=c[1],s=r.a.useState(!1),u=Object(f.a)(s,2),p=u[0],m=u[1],v=r.a.useState({open:!1,message:"",severity:"",title:""}),h=Object(f.a)(v,2),b=h[0],E=h[1],g=function(e,a){E(Object(q.a)(Object(q.a)({},b),{},{open:!1}))},_=r.a.useCallback((function(){var e=!0;m(!0),l([]);var r=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,e&&(l(n.regimenesCapitales),m(!1),0===n.regimenesCapitales.length&&E({open:!0,message:"No existen registros de Regimenes Capitales",severity:"info",title:"Ningun registro encontrado"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),o=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||e&&(m(!1),E({open:!0,message:"Ha ocurrido un error, intenta nuevamente",severity:"error",title:"Uuuups!"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return e&&ua.get({url:"".concat(ua.BASE_URL,"/api/rh/regimen?query=*"),headers:a,exito:r,fallo:o,error_request:function(){n.push("/server-error")}}),function(){return e=!1}}),[n]),y=[{title:"ID",field:"id_regimen_capital",width:20,editable:"never",hidden:!0},{title:"Nombre Regimen",field:"nombre_regimen",width:150,defaultSort:"asc",editComponent:function(e){return r.a.createElement(ca.a,{fullWidth:!0,size:"small",value:e.value||"",placeholder:"Ej. S.A. de ...",onChange:function(a){return e.onChange(a.target.value)}})}},{title:"Descripci\xf3n",field:"descripcion",width:300,editComponent:function(e){return r.a.createElement(ca.a,{fullWidth:!0,size:"small",value:e.value||"",placeholder:"Ej. Sociedad An\xf3nima de...",onChange:function(a){return e.onChange(a.target.value)}})}}];return es[0].onClick=_,Xl.body.editRow.deleteText=r.a.createElement(j.a,{variant:"button",gutterBottom:!0},"\xbfEst\xe1 seguro que desea continuar?"),r.a.useEffect((function(){_()}),[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{title:"Regimenes Capitales",columns:y,localization:Xl,data:i,actions:es,options:as,isLoading:p,editable:{onRowAdd:function(e){return new Promise((function(r,o){setTimeout((function(){if(""===e.nombre_regimen||""===e.descripcion||void 0===e.nombre_regimen||void 0===e.descripcion)return E({open:!0,message:'Rellena los campos "Nombre Regimen" y "Descripci\xf3n"',severity:"warning",title:"Campos vacios!"}),void o();!function(e){var r=!0,o=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,o;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,console.log(n),r&&(e.id_regimen_capital=n.regimenCapital[0].id_regimen_capital,(o=i).push(e),l(o),m(!1),E({open:!0,message:"Regimen: ".concat(e.nombre_regimen.toUpperCase()," creado correctamente"),severity:"success",title:"Registro exitoso!"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),c=function(){var e=Object(We.a)(Be.a.mark((function e(a){var n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:n=e.sent,t(n)||r&&(m(!1),E({open:!0,message:"El registro no se ha realizado, intenta de nuevo",severity:"error",title:"Registro fallido!"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();r&&(m(!0),ua.post({url:"".concat(ua.BASE_URL,"/api/rh/regimen"),headers:a,data:e,exito:o,fallo:c,error_request:function(e){n.push("/server-error")}}))}(e),r()}),600)}))},onRowUpdate:function(e,r){return new Promise((function(o,c){setTimeout((function(){if(""===e.nombre_regimen||""===e.descripcion||void 0===e.nombre_regimen||void 0===e.descripcion)return E({open:!0,message:'Rellena los campos "Nombre Regimen" y "Descripci\xf3n"',severity:"warning",title:"Campos vacios!"}),void c();o(),function(e,r){var o=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,o;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:o=(n=i).indexOf(r),i[o]=e,l(n),m(!1),E({open:!0,message:"Regimen: ".concat(e.nombre_regimen.toUpperCase()," se ha actualizado correctamente"),severity:"success",title:"Actualizaci\xf3n exitoso!"});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),c=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||(m(!1),E({open:!0,message:"Regimen: ".concat(e.nombre_regimen.toUpperCase()," no ha sido actualizado, intenta de nuevo"),severity:"error",title:"Actualizaci\xf3n fallida!"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();m(!0),function(){var t={nombre_regimen:e.nombre_regimen,descripcion:e.descripcion};ua.put({url:"".concat(ua.BASE_URL,"/api/rh/regimen/").concat(e.id_regimen_capital),headers:a,data:t,exito:o,fallo:c,error_request:function(e){n.push("/server-error")}})}()}(e,r)}),600)}))},onRowDelete:function(e){return new Promise((function(r,o){setTimeout((function(){r(),function(e){var r=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=(n=i).indexOf(e),i.splice(r,1),l(n),m(!1),E({open:!0,message:"Regimen: ".concat(e.nombre_regimen.toUpperCase()," se ha eliminado correctamente"),severity:"success",title:"Eliminaci\xf3n exitosa!"});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),o=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||(m(!1),E({open:!0,message:"Regimen: ".concat(e.nombre_regimen.toUpperCase()," tiene registros que dependen de este, primero debes eliminarlas"),severity:"error",title:"Eliminaci\xf3n fallida!"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();m(!0),ua.deleted({url:"".concat(ua.BASE_URL,"/api/rh/regimen/").concat(e.id_regimen_capital),headers:a,exito:r,fallo:o,error_request:function(){n.push("/server-error")}})}(e)}),600)}))}}}),r.a.createElement(oa.a,{open:b.open,autoHideDuration:6e3,onClose:g},r.a.createElement(ls,{onClose:g,severity:b.severity},r.a.createElement(xa.a,null,b.title),b.message)))}function us(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}function ps(){var e=r.a.useContext(rt),a=e.cabeceras,t=e.isTokenExpired,n=Object(d.g)(),o=r.a.useState([]),c=Object(f.a)(o,2),i=c[0],l=c[1],s=r.a.useState(!1),u=Object(f.a)(s,2),p=u[0],m=u[1],v=r.a.useState({open:!1,message:"",severity:"",title:""}),h=Object(f.a)(v,2),b=h[0],E=h[1],g=function(e,a){E(Object(q.a)(Object(q.a)({},b),{},{open:!1}))},_=r.a.useCallback((function(){var e=!0;m(!0),l([]);var r=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,e&&(l(n.regimenesContratacion),m(!1),0===n.regimenesContratacion.length&&E({open:!0,message:"No existen registros de Regimenes de Contrataci\xf3n",severity:"info",title:"Ningun registro encontrado"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),o=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||e&&(m(!1),E({open:!0,message:"Ha ocurrido un error, intenta nuevamente",severity:"error",title:"Uuuups!"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return e&&ua.get({url:"".concat(ua.BASE_URL,"/api/rh/regimen_contratacion"),headers:a,exito:r,fallo:o,error_request:function(){n.push("/server-error")}}),function(){return e=!1}}),[n]),y=[{title:"ID",field:"id_regimen_contratacion",width:20,editable:"never",hidden:!0},{title:"Regimen Contrataci\xf3n",field:"regimen_contratacion",width:150,defaultSort:"asc",editComponent:function(e){return r.a.createElement(ca.a,{fullWidth:!0,size:"small",value:e.value||"",placeholder:"Ej. S.A. de ...",onChange:function(a){return e.onChange(a.target.value)}})}},{title:"Descripci\xf3n",field:"descripcion",width:300,editComponent:function(e){return r.a.createElement(ca.a,{fullWidth:!0,size:"small",value:e.value||"",placeholder:"Ej. Sociedad An\xf3nima de...",onChange:function(a){return e.onChange(a.target.value)}})}}];return r.a.useEffect((function(){_()}),[n]),es[0].onClick=_,Xl.body.editRow.deleteText=r.a.createElement(j.a,{variant:"button",gutterBottom:!0},"\xbfEst\xe1 seguro que desea continuar?"),r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{title:"Regimenes de Contrataci\xf3n",columns:y,localization:Xl,data:i,actions:es,options:as,isLoading:p,editable:{onRowAdd:function(e){return new Promise((function(r,o){setTimeout((function(){if(""===e.regimen_contratacion||""===e.descripcion||void 0===e.regimen_contratacion||void 0===e.descripcion)return E({open:!0,message:'Rellena los campos "Regimen Contrataci\xf3n" y "Descripci\xf3n"',severity:"warning",title:"Campos vacios!"}),void o();!function(e){var r=!0,o=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,o;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,console.log(n),r&&(e.id_regimen_contratacion=n.RegimenContratacion[0].id_regimen_contratacion,(o=i).push(e),l(o),m(!1),E({open:!0,message:"Regimen: ".concat(e.regimen_contratacion.toUpperCase()," creado correctamente"),severity:"success",title:"Registro exitoso!"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),c=function(){var e=Object(We.a)(Be.a.mark((function e(a){var n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:n=e.sent,t(n)||r&&(m(!1),E({open:!0,message:"El registro no se ha realizado, intenta de nuevo",severity:"error",title:"Registro fallido!"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();r&&(m(!0),ua.post({url:"".concat(ua.BASE_URL,"/api/rh/regimen_contratacion"),headers:a,data:e,exito:o,fallo:c,error_request:function(e){n.push("/server-error")}}))}(e),r()}),600)}))},onRowUpdate:function(e,r){return new Promise((function(o,c){setTimeout((function(){if(""===e.regimen_contratacion||""===e.descripcion||void 0===e.regimen_contratacion||void 0===e.descripcion)return E({open:!0,message:'Rellena los campos "Regimen Contrataci\xf3n" y "Descripci\xf3n"',severity:"warning",title:"Campos vacios!"}),void c();o(),function(e,r){var o=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,o;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:o=(n=i).indexOf(r),i[o]=e,l(n),m(!1),E({open:!0,message:"Regimen: ".concat(e.regimen_contratacion.toUpperCase()," se ha actualizado correctamente"),severity:"success",title:"Actualizaci\xf3n exitoso!"});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),c=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||(m(!1),E({open:!0,message:"Regimen: ".concat(e.regimen_contratacion.toUpperCase()," no ha sido actualizado, intenta de nuevo"),severity:"error",title:"Actualizaci\xf3n fallida!"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();m(!0),function(){var t={regimen_contratacion:e.regimen_contratacion,descripcion:e.descripcion};ua.put({url:"".concat(ua.BASE_URL,"/api/rh/regimen_contratacion/").concat(e.id_regimen_contratacion),headers:a,data:t,exito:o,fallo:c,error_request:function(e){n.push("/server-error")}})}()}(e,r)}),600)}))},onRowDelete:function(e){return new Promise((function(r,o){setTimeout((function(){r(),function(e){var r=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=(n=i).indexOf(e),i.splice(r,1),l(n),m(!1),E({open:!0,message:"Regimen: ".concat(e.regimen_contratacion.toUpperCase()," se ha eliminado correctamente"),severity:"success",title:"Eliminaci\xf3n exitosa!"});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),o=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||(m(!1),E({open:!0,message:"Regimen: ".concat(e.regimen_contratacion.toUpperCase()," tiene registros que dependen de este, primero debes eliminarlas"),severity:"error",title:"Eliminaci\xf3n fallida!"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();m(!0),ua.deleted({url:"".concat(ua.BASE_URL,"/api/rh/regimen_contratacion/").concat(e.id_regimen_contratacion),headers:a,exito:r,fallo:o,error_request:function(){n.push("/server-error")}})}(e)}),600)}))}}}),r.a.createElement(oa.a,{open:b.open,autoHideDuration:6e3,onClose:g},r.a.createElement(us,{onClose:g,severity:b.severity},r.a.createElement(xa.a,null,b.title),b.message)))}function ds(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}function ms(){var e=r.a.useContext(rt),a=e.cabeceras,t=e.isTokenExpired,n=Object(d.g)(),o=r.a.useState([]),c=Object(f.a)(o,2),i=c[0],l=c[1],s=r.a.useState(!1),u=Object(f.a)(s,2),p=u[0],m=u[1],v=r.a.useState({open:!1,message:"",severity:"",title:""}),h=Object(f.a)(v,2),b=h[0],E=h[1],g=function(e,a){E(Object(q.a)(Object(q.a)({},b),{},{open:!1}))},_=r.a.useCallback((function(){var e=!0;m(!0),l([]);var r=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,e&&(l(n.jornadas),m(!1),0===n.jornadas.length&&E({open:!0,message:"No existen registros de empresas",severity:"info",title:"Ningun registro encontrado"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),o=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||e&&(m(!1),E({open:!0,message:"Ha ocurrido un error, intenta nuevamente",severity:"error",title:"Uuuups!"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return e&&ua.get({url:"".concat(ua.BASE_URL,"/api/rh/jornada?query=*"),headers:a,exito:r,fallo:o,error_request:function(){n.push("/server-error")}}),function(){return e=!1}}),[n]),y=[{title:"ID",field:"id_jornada",width:20,editable:"never",hidden:!0},{title:"Nombre Jornada",field:"tipo",width:150,defaultSort:"asc",editComponent:function(e){return r.a.createElement(ca.a,{fullWidth:!0,size:"small",value:e.value||"",placeholder:"Ej. Nocturna",onChange:function(a){return e.onChange(a.target.value)}})}},{title:"Descripci\xf3n",field:"descripcion",width:300,editComponent:function(e){return r.a.createElement(ca.a,{fullWidth:!0,size:"small",value:e.value||"",placeholder:"Ej. Horario laboral entre 8pm. y 8am.",onChange:function(a){return e.onChange(a.target.value)}})}}];es[0].onClick=_,Xl.body.editRow.deleteText=r.a.createElement(j.a,{variant:"button",gutterBottom:!0},"\xbfEst\xe1 seguro que desea continuar?");return r.a.useEffect((function(){_()}),[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{title:"Jornadas",columns:y,localization:Xl,data:i,actions:es,options:as,isLoading:p,editable:{onRowAdd:function(e){return new Promise((function(r,o){setTimeout((function(){if(""===e.tipo||""===e.descripcion||void 0===e.tipo||void 0===e.descripcion)return E({open:!0,message:'Rellena los campos "Nombre Jornada" y "Descripci\xf3n"',severity:"warning",title:"Campos vacios!"}),void o();!function(e){var r=!0,o=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,o;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,r&&(e.id_jornada=n.jornada[0].id_jornada,(o=i).push(e),l(o),m(!1),E({open:!0,message:"Jornada: ".concat(e.tipo.toUpperCase()," creado correctamente"),severity:"success",title:"Registro exitoso!"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),c=function(){var e=Object(We.a)(Be.a.mark((function e(a){var n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:n=e.sent,t(n)||r&&(m(!1),E({open:!0,message:"El registro no se ha realizado, intenta de nuevo",severity:"error",title:"Registro fallido!"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();r&&(m(!0),ua.post({url:"".concat(ua.BASE_URL,"/api/rh/jornada"),headers:a,data:e,exito:o,fallo:c,error_request:function(e){n.push("/server-error")}}))}(e),r()}),600)}))},onRowUpdate:function(e,r){return new Promise((function(o,c){setTimeout((function(){if(""===e.tipo||""===e.descripcion||void 0===e.tipo||void 0===e.descripcion)return E({open:!0,message:'Rellena los campos "Nombre Jornada" y "Descripci\xf3n"',severity:"warning",title:"Campos vacios!"}),void c();o(),function(e,r){var o=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,o;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:o=(n=i).indexOf(r),i[o]=e,l(n),m(!1),E({open:!0,message:"Jornada: ".concat(e.tipo.toUpperCase()," se ha actualizado correctamente"),severity:"success",title:"Actualizaci\xf3n exitoso!"});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),c=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||(m(!1),E({open:!0,message:"Jornada: ".concat(e.tipo.toUpperCase()," no ha sido actualizado, intenta de nuevo"),severity:"error",title:"Actualizaci\xf3n fallida!"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();m(!0),function(){var t={tipo:e.tipo,descripcion:e.descripcion};ua.put({url:"".concat(ua.BASE_URL,"/api/rh/jornada/").concat(e.id_jornada),headers:a,data:t,exito:o,fallo:c,error_request:function(e){n.push("/server-error")}})}()}(e,r)}),600)}))},onRowDelete:function(e){return new Promise((function(r,o){setTimeout((function(){r(),function(e){var r=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=(n=i).indexOf(e),i.splice(r,1),l(n),m(!1),E({open:!0,message:"Jornada: ".concat(e.tipo.toUpperCase()," se ha eliminado correctamente"),severity:"success",title:"Eliminaci\xf3n exitosa!"});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),o=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||(m(!1),E({open:!0,message:"Jornada: ".concat(e.tipo.toUpperCase()," tiene registros que dependen de este, primero debes eliminarlas"),severity:"error",title:"Eliminaci\xf3n fallida!"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();m(!0),ua.deleted({url:"".concat(ua.BASE_URL,"/api/rh/jornada/").concat(e.id_jornada),headers:a,exito:r,fallo:o,error_request:function(){n.push("/server-error")}})}(e)}),600)}))}}}),r.a.createElement(oa.a,{open:b.open,autoHideDuration:6e3,onClose:g},r.a.createElement(ds,{onClose:g,severity:b.severity},r.a.createElement(xa.a,null,b.title),b.message)))}function fs(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}function vs(){var e=r.a.useContext(rt),a=e.cabeceras,t=e.isTokenExpired,n=Object(d.g)(),o=r.a.useState([]),c=Object(f.a)(o,2),i=c[0],l=c[1],s=r.a.useState(!1),u=Object(f.a)(s,2),p=u[0],m=u[1],v=r.a.useState({open:!1,message:"",severity:"",title:""}),h=Object(f.a)(v,2),b=h[0],E=h[1],g=function(e,a){E(Object(q.a)(Object(q.a)({},b),{},{open:!1}))},_=r.a.useCallback((function(){var e=!0;m(!0),l([]);var r=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,e&&(l(n.departamentos),m(!1),0===n.departamentos.length&&E({open:!0,message:"No existen registros de Departamentos",severity:"info",title:"Ningun registro encontrado"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),o=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||e&&(m(!1),E({open:!0,message:"Ha ocurrido un error, intenta nuevamente",severity:"error",title:"Uuuups!"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return e&&ua.get({url:"".concat(ua.BASE_URL,"/api/rh/departamento"),headers:a,exito:r,fallo:o,error_request:function(){n.push("/server-error")}}),function(){return e=!1}}),[n]);es[0].onClick=_,Xl.body.editRow.deleteText=r.a.createElement(j.a,{variant:"button",gutterBottom:!0},"\xbfEst\xe1 seguro que desea continuar?");var y=[{title:"ID",field:"id_departamento",width:20,editable:"never",hidden:!0},{title:"Nombre Departamento",field:"nombre_departamento",width:150,defaultSort:"asc",editComponent:function(e){return r.a.createElement(ca.a,{fullWidth:!0,size:"small",value:e.value||"",placeholder:"Ej. Recursos humanos ...",onChange:function(a){return e.onChange(a.target.value)}})}},{title:"Descripci\xf3n",field:"descripcion",width:300,editComponent:function(e){return r.a.createElement(ca.a,{fullWidth:!0,size:"small",value:e.value||"",placeholder:"Ej. Llevan el control de decursos y finanzas...",onChange:function(a){return e.onChange(a.target.value)}})}}];return r.a.useEffect((function(){var e=!0;m(!0),l([]);var r=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,e&&(l(n.departamentos),m(!1),0===n.departamentos.length&&E({open:!0,message:"No existen registros de Departamentos Capitales",severity:"info",title:"Ningun registro encontrado"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),o=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||e&&(m(!1),E({open:!0,message:"Ha ocurrido un error, intenta nuevamente",severity:"error",title:"Uuuups!"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return e&&ua.get({url:"".concat(ua.BASE_URL,"/api/rh/departamento"),headers:a,exito:r,fallo:o,error_request:function(){n.push("/server-error")}}),function(){return e=!1}}),[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{title:"Departamentos",columns:y,localization:Xl,data:i,actions:es,options:as,isLoading:p,editable:{onRowAdd:function(e){return new Promise((function(r,o){setTimeout((function(){if(""===e.nombre_departamento||""===e.descripcion||void 0===e.nombre_departamento||void 0===e.descripcion)return E({open:!0,message:'Rellena los campos "Nombre Departamento" y "Descripci\xf3n"',severity:"warning",title:"Campos vacios!"}),void o();!function(e){var r=!0,o=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,o;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,console.log(n),r&&(e.id_departamento=n.departamento[0].id_departamento,(o=i).push(e),l(o),m(!1),E({open:!0,message:"Departamento: ".concat(e.nombre_departamento.toUpperCase()," creado correctamente"),severity:"success",title:"Registro exitoso!"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),c=function(){var e=Object(We.a)(Be.a.mark((function e(a){var n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:n=e.sent,t(n)||r&&(m(!1),E({open:!0,message:"El registro no se ha realizado, intenta de nuevo",severity:"error",title:"Registro fallido!"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();r&&(m(!0),ua.post({url:"".concat(ua.BASE_URL,"/api/rh/departamento"),headers:a,data:e,exito:o,fallo:c,error_request:function(e){n.push("/server-error")}}))}(e),r()}),600)}))},onRowUpdate:function(e,r){return new Promise((function(o,c){setTimeout((function(){if(""===e.nombre_departamento||""===e.descripcion||void 0===e.nombre_departamento||void 0===e.descripcion)return E({open:!0,message:'Rellena los campos "Nombre Departamento" y "Descripci\xf3n"',severity:"warning",title:"Campos vacios!"}),void c();o(),function(e,r){var o=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,o;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:o=(n=i).indexOf(r),i[o]=e,l(n),m(!1),E({open:!0,message:"Departamento: ".concat(e.nombre_departamento.toUpperCase()," se ha actualizado correctamente"),severity:"success",title:"Actualizaci\xf3n exitoso!"});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),c=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||(m(!1),E({open:!0,message:"Departamento: ".concat(e.nombre_departamento.toUpperCase()," no ha sido actualizado, intenta de nuevo"),severity:"error",title:"Actualizaci\xf3n fallida!"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();m(!0),function(){var t={nombre_departamento:e.nombre_departamento,descripcion:e.descripcion};ua.put({url:"".concat(ua.BASE_URL,"/api/rh/departamento/").concat(e.id_departamento),headers:a,data:t,exito:o,fallo:c,error_request:function(e){n.push("/server-error")}})}()}(e,r)}),600)}))},onRowDelete:function(e){return new Promise((function(r,o){setTimeout((function(){r(),function(e){var r=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=(n=i).indexOf(e),i.splice(r,1),l(n),m(!1),E({open:!0,message:"Departamento: ".concat(e.nombre_departamento.toUpperCase()," se ha eliminado correctamente"),severity:"success",title:"Eliminaci\xf3n exitosa!"});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),o=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||(m(!1),E({open:!0,message:"Departamento: ".concat(e.nombre_departamento.toUpperCase()," tiene registros que dependen de este, primero debes eliminarlas"),severity:"error",title:"Eliminaci\xf3n fallida!"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();m(!0),ua.deleted({url:"".concat(ua.BASE_URL,"/api/rh/departamento/").concat(e.id_departamento),headers:a,exito:r,fallo:o,error_request:function(){n.push("/server-error")}})}(e)}),600)}))}}}),r.a.createElement(oa.a,{open:b.open,autoHideDuration:6e3,onClose:g},r.a.createElement(fs,{onClose:g,severity:b.severity},r.a.createElement(xa.a,null,b.title),b.message)))}function hs(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}function bs(){var e=Object(n.useContext)(rt),a=e.cabeceras,t=e.isTokenExpired,o=Object(d.g)(),c=r.a.useState([]),i=Object(f.a)(c,2),l=i[0],s=i[1],u=r.a.useState(!1),p=Object(f.a)(u,2),m=p[0],v=p[1],h=r.a.useState({open:!1,message:"",severity:"",title:""}),b=Object(f.a)(h,2),E=b[0],g=b[1],_=function(e,a){g(Object(q.a)(Object(q.a)({},E),{},{open:!1}))},y=r.a.useCallback((function(){var e=!0;v(!0),s([]);var a=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,e&&(s(n.tipo_contratos),v(!1),0===n.tipo_contratos.length&&g({open:!0,message:"No existen registros de empresas",severity:"info",title:"Ningun registro encontrado"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),n=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||e&&(v(!1),g({open:!0,message:"Ha ocurrido un error, intenta nuevamente",severity:"error",title:"Uuuups!"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return ua.get({url:"".concat(ua.BASE_URL,"/api/rh/tipo_contrato?query=*"),headers:new Headers,exito:a,fallo:n,error_request:function(){o.push("/server-error")}}),function(){return e=!1}}),[o]);es[0].onClick=y,Xl.body.editRow.deleteText=r.a.createElement(j.a,{variant:"button",gutterBottom:!0},"\xbfEst\xe1 seguro que desea continuar?");var x=[{title:"ID",field:"id_tipo_contrato",width:20,editable:"never",hidden:!0},{title:"Nombre Tipo Contrato",field:"nombre_tipo_contrato",width:150,defaultSort:"asc",editComponent:function(e){return r.a.createElement(ca.a,{fullWidth:!0,size:"small",value:e.value||"",placeholder:"Ej. Honorarios",onChange:function(a){return e.onChange(a.target.value)}})}},{title:"Descripci\xf3n",field:"descripcion",width:300,editComponent:function(e){return r.a.createElement(ca.a,{fullWidth:!0,size:"small",value:e.value||"",placeholder:"Ej. Est\xe1 asignado por honorarios.",onChange:function(a){return e.onChange(a.target.value)}})}}];return r.a.useEffect((function(){var e=!0;v(!0),s([]);var n=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,e&&(console.log(n.tiposContrato),s(n.tiposContrato),v(!1),0===n.tiposContrato.length&&g({open:!0,message:"No existen registros ",severity:"info",title:"Ningun registro encontrado"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),r=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||e&&(v(!1),g({open:!0,message:"Ha ocurrido un error, intenta nuevamente",severity:"error",title:"Uuuups!"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return e&&ua.get({url:"".concat(ua.BASE_URL,"/api/rh/tipo_contrato"),headers:a,exito:n,fallo:r,error_request:function(){o.push("/server-error")}}),function(){return e=!1}}),[o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{title:"Tipo Contrato",columns:x,localization:Xl,data:l,actions:es,options:as,isLoading:m,editable:{onRowAdd:function(e){return new Promise((function(n,r){setTimeout((function(){if(""===e.nombre_tipo_contrato||""===e.descripcion||void 0===e.nombre_tipo_contrato||void 0===e.descripcion)return g({open:!0,message:'Rellena los campos "Nombre Tipo Contrato" y "Descripci\xf3n"',severity:"warning",title:"Campos vacios!"}),void r();!function(e){var n=!0,r=function(){var a=Object(We.a)(Be.a.mark((function a(t){var r,o;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=a.sent,n&&(e.id_tipo_contrato=r.tiposContrato[0].id_tipo_contrato,(o=l).push(e),s(o),v(!1),g({open:!0,message:"Tipo Contrato: ".concat(e.nombre_tipo_contrato.toUpperCase()," creado correctamente"),severity:"success",title:"Registro exitoso!"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),c=function(){var e=Object(We.a)(Be.a.mark((function e(a){var r;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:r=e.sent,t(r)||n&&(v(!1),g({open:!0,message:"El registro no se ha realizado, intenta de nuevo",severity:"error",title:"Registro fallido!"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();n&&(v(!0),ua.post({url:"".concat(ua.BASE_URL,"/api/rh/tipo_contrato"),headers:a,data:e,exito:r,fallo:c,error_request:function(e){o.push("/server-error")}}))}(e),n()}),600)}))},onRowUpdate:function(e,n){return new Promise((function(r,c){setTimeout((function(){if(""===e.nombre_tipo_contrato||""===e.descripcion||void 0===e.nombre_tipo_contrato||void 0===e.descripcion)return g({open:!0,message:'Rellena los campos "Nombre Tipo Contrato" y "Descripci\xf3n"',severity:"warning",title:"Campos vacios!"}),void c();r(),function(e,n){var r=function(){var a=Object(We.a)(Be.a.mark((function a(t){var r,o;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:o=(r=l).indexOf(n),l[o]=e,s(r),v(!1),g({open:!0,message:"Tipo Contrato: ".concat(e.nombre_tipo_contrato.toUpperCase()," se ha actualizado correctamente"),severity:"success",title:"Actualizaci\xf3n exitoso!"});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),c=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||(v(!1),g({open:!0,message:"Tipo Contrato: ".concat(e.nombre_tipo_contrato.toUpperCase()," no ha sido actualizado, intenta de nuevo"),severity:"error",title:"Actualizaci\xf3n fallida!"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();v(!0),function(){var t={nombre_tipo_contrato:e.nombre_tipo_contrato,descripcion:e.descripcion};ua.put({url:"".concat(ua.BASE_URL,"/api/rh/tipo_contrato/").concat(e.id_tipo_contrato),headers:a,data:t,exito:r,fallo:c,error_request:function(e){o.push("/server-error")}})}()}(e,n)}),600)}))},onRowDelete:function(e){return new Promise((function(n,r){setTimeout((function(){n(),function(e){var n=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:r=(n=l).indexOf(e),l.splice(r,1),s(n),v(!1),g({open:!0,message:"Tipo Contrato: ".concat(e.nombre_tipo_contrato.toUpperCase()," se ha eliminado correctamente"),severity:"success",title:"Eliminaci\xf3n exitosa!"});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),r=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t(r)||(v(!1),g({open:!0,message:"Tipo Contrataci\xf3n: ".concat(e.nombre_tipo_contrato.toUpperCase()," tiene registros que dependen de este, primero debes eliminarlos"),severity:"error",title:"Eliminaci\xf3n fallida!"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();v(!0),ua.deleted({url:"".concat(ua.BASE_URL,"/api/rh/tipo_contrato/").concat(e.id_tipo_contrato),headers:a,exito:n,fallo:r,error_request:function(){o.push("/server-error")}})}(e)}),600)}))}}}),r.a.createElement(oa.a,{open:E.open,autoHideDuration:6e3,onClose:_},r.a.createElement(hs,{onClose:_,severity:E.severity},r.a.createElement(xa.a,null,E.title),E.message)))}var Es=function(e){var a=e.handleClose,t=e.values;return r.a.createElement(oa.a,{open:t.open,autoHideDuration:6e3,onClose:a},r.a.createElement(ya.a,{onClose:a,severity:t.severity},r.a.createElement(xa.a,null,t.title),t.message))},gs=function(e){var a=e.inputRef,t=Object(B.a)(e,["inputRef"]);return r.a.createElement(Oa.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:[/[PD]/,/\d/,/\d/,/\d/],placeholderChar:"\u2000",showMask:!0}))},_s=function(e){var a=e.inputRef,t=e.onChange,n=Object(B.a)(e,["inputRef","onChange"]);return r.a.createElement(yc.a,Object.assign({},n,{getInputRef:a,onValueChange:function(a){t({target:{name:e.name,value:a.value}})},format:"####",isNumericString:!0}))},ys=function(e){var a=e.isSAT;return r.a.createElement(ca.a,{fullWidth:!0,size:"small",value:e.value||"",placeholder:"0000",onChange:function(a){return e.onChange(a.target.value)},InputProps:{inputComponent:a?_s:gs}})},xs=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,n,r,o,c,i,l,s,u;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.url_api,n=a.key,r=a.setLoading,o=a.setData,c=a.headers,i=a.isTokenExpired,e.next=3,Dc(t,Tc(void 0,"GET",c));case 3:l=e.sent,s=l.error,u=l.data,s?i(s)||console.log(s):o(u[n]),r(!1);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),js=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,n,r,o,c,i,l,s,u,p,d,m,f;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.url_api,n=a.values,r=a.setLoading,o=a.data,c=a.setData,i=a.controllerAlerts,l=a.resolve,s=a.reject,u=a.headers,p=a.isTokenExpired,r(!0),e.next=4,Dc(t,Tc(n,"POST",u));case 4:d=e.sent,(m=d.error)?p(m)||(ks(m,i),s()):((f=Object(He.a)(o)).push(n),c(f),i("POST")),r(!1),l();case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Os=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,n,r,o,c,i,l,s,u,p,d,m,f,v;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.url,n=a.values,r=a.oldValues,o=a.resolve,c=a.reject,i=a.setLoading,l=a.data,s=a.setData,u=a.controllerAlerts,p=a.headers,d=a.isTokenExpired,i(!0),e.next=4,Dc(t,Tc(n,"PUT",p));case 4:m=e.sent,(f=m.error)?d(f)||(ks(f,u),c()):((v=Object(He.a)(l))[l.indexOf(r)]=n,s(v),u("PUT")),i(!1),o();case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Cs=function(){var e=Object(We.a)(Be.a.mark((function e(a){var t,n,r,o,c,i,l,s,u,p,d,m,f;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.url,n=a.oldData,r=a.resolve,o=a.setLoading,c=a.data,i=a.setData,l=a.controllerAlerts,s=a.reject,u=a.headers,p=a.isTokenExpired,o(!0),e.next=4,Dc(t,Tc({},"DELETE",u));case 4:d=e.sent,(m=d.error)?p(m)||(ks(m,l),s()):((f=Object(He.a)(c)).splice(f.indexOf(n),1),i(f),l("DELETE")),o(!1),r();case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ks=function(e,a){switch(e.error.db_code){case"23505":a("INVALID_KEY");break;case"23503":a("ERROR_REFERENCED");break;default:console.log(e.error)}},ws=function(e){var a=e.id_percepcion_deduccion,t=e.nombre,n=e.aplicacion,r=e.tipo_nomina,o=e.base_cotizacion,c=e.estatus,i=e.prestacion,l=e.digito_grabable;return!(a&&t&&n&&r&&o&&c&&i&&l)},Ss=function(e){var a=e.url_api,t=e.controllerAlerts,n=Object(B.a)(e,["url_api","controllerAlerts"]);return function(e){return new Promise((function(r,o){ws(e)?(t("REQUIERED"),o()):js(Object(q.a)({url_api:a,values:e,controllerAlerts:t,resolve:r,reject:o},n))}))}},As=function(e){var a=e.url_api,t=e.controllerAlerts,n=Object(B.a)(e,["url_api","controllerAlerts"]);return function(e,r){return new Promise((function(o,c){var i=r.id_percepcion_deduccion;ws(e)?(t("REQUIERED"),c()):Os(Object(q.a)({url:"".concat(a,"/").concat(i),values:e,controllerAlerts:t,resolve:o,oldValues:r,reject:c},n))}))}},Ds=function(e){var a=e.url_api,t=Object(B.a)(e,["url_api"]);return function(e){return new Promise((function(n,r){var o=e.id_percepcion_deduccion;Cs(Object(q.a)({url:"".concat(a,"/").concat(o),oldData:e,resolve:n},t))}))}},Ts=[{title:"Clave",field:"id_percepcion_deduccion",editComponent:function(e){return r.a.createElement(ys,e)}},{title:"Nombre",field:"nombre"},{title:"Formula",field:"formula"},{title:"Aplicaci\xf3n",field:"aplicacion",lookup:{G:"General",I:"Individual"}},{title:"Tipo Nomina",field:"tipo_nomina",lookup:{N:"Normal",E:"Especial"}},{title:"Base cotizaci\xf3n",field:"base_cotizacion",lookup:{V:"Variable",F:"Fijo"}},{title:"Estatus",field:"estatus",lookup:{A:"Alta",B:"Inactiva",C:"Calculo"}},{title:"Prestaci\xf3n",field:"prestacion",lookup:{E:"Efectivo",T:"Transferencia"}},{title:"Digito grabable",field:"digito_grabable",lookup:{G:"G",D:"E"}},{title:"Clave SAT",field:"clave_sat",editComponent:function(e){return r.a.createElement(ys,Object.assign({isSAT:!0},e))}},{title:"Tipo",field:"tipo",lookup:{P:"Percepci\xf3n",D:"Deducci\xf3n"}}],Rs="".concat(Ic.a,"api/rh/nomina/percepcion_deduccion"),Is=function(){var e=r.a.useContext(rt),a=e.cabeceras,t=e.isTokenExpired,o=Object(n.useState)([]),c=Object(f.a)(o,2),i=c[0],l=c[1],s=Object(n.useState)(!0),u=Object(f.a)(s,2),p=u[0],d=u[1],m=Object(n.useState)({open:!1,message:"",severity:"",title:""}),v=Object(f.a)(m,2),h=v[0],b=v[1],E=function(){xs({url_api:Rs,key:"percepciondeduccion",setLoading:d,setData:l,headers:a,isTokenExpired:t})};es[0].onClick=E,Object(n.useEffect)((function(){E()}),[]);var g=function(e){var a={open:!0,severity:"success"};switch(e.toUpperCase()){case"POST":a.message="Creacion de nueva deduccion o percepcion exitosa",a.title="Registro exitoso";break;case"PUT":a.message="Realizada exitosamente",a.title="Actualizaci\xf3n";break;case"DELETE":a.message="Realizada exitosamente",a.title="Eliminaci\xf3n";break;case"ERROR_KEY":a.message="Registro existente",a.title="Invalido",a.severity="info";break;case"REQUIERED":a.message="Complete todos los campos",a.title="Incompleto",a.severity="info";break;case"INVALID_KEY":a.message="Percepci\xf3n o deducci\xf3n SAT",a.title="Invalida",a.severity="warning"}b(a)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{theme:ts},r.a.createElement(mr.a,{actions:es,localization:Xl,options:as,isLoading:p,title:"Percepciones y Deducciones",columns:Ts,data:i,editable:{onRowAdd:Ss({url_api:Rs,setLoading:d,data:i,setData:l,controllerAlerts:g,headers:a,isTokenExpired:t}),onRowUpdate:As({url_api:Rs,setLoading:d,data:i,setData:l,controllerAlerts:g,headers:a,isTokenExpired:t}),onRowDelete:Ds({url_api:Rs,setLoading:d,data:i,setData:l,controllerAlerts:g,headers:a,isTokenExpired:t})}})),r.a.createElement(Es,{values:h,handleClose:function(e,a){"clickaway"!==a&&b(Object(q.a)(Object(q.a)({},h),{},{open:!1}))}}))},Ns=function(e){var a=e.clave_sat,t=e.tipo,n=e.descripcion;return!(3===Object.keys(e).length&&a.toString().trim()&&t.trim()&&n.trim())},Ls=function(e){var a=e.url_api,t=e.controllerAlerts,n=e.otherProps;return function(e){return new Promise((function(r,o){Ns(e)?(t("REQUIERED"),o()):js(Object(q.a)({url_api:a,values:e,controllerAlerts:t,resolve:r,reject:o},n))}))}},Ps=function(e){var a=e.url_api,t=e.controllerAlerts,n=Object(B.a)(e,["url_api","controllerAlerts"]);return function(e,r){return new Promise((function(o,c){var i=r.clave_sat,l=r.tipo;Ns(e)?(t("REQUIERED"),c()):Os(Object(q.a)(Object(q.a)({url:"".concat(a,"/").concat(i,"/").concat(l),values:e},n),{},{resolve:o,oldValues:r,reject:c}))}))}},qs=function(e){var a=e.url_api,t=Object(B.a)(e,["url_api"]);return function(e){return new Promise((function(n,r){var o=e.clave_sat,c=e.tipo;Cs(Object(q.a)({url:"".concat(a,"/").concat(o,"/").concat(c),oldData:e,resolve:n,reject:r},t))}))}},Fs=[{title:"Clave SAT",field:"clave_sat",editComponent:function(e){return r.a.createElement(ys,Object.assign({isSAT:!0},e))}},{title:"Tipo",field:"tipo",lookup:{P:"Percepci\xf3n",D:"Deducci\xf3n"}},{title:"Descripci\xf3n",field:"descripcion"}],zs="".concat(Ic.a,"api/rh/nomina/percepcion_deduccion_sat"),Ys=function(){var e=Object(n.useContext)(rt),a=e.cabeceras,t=e.isTokenExpired,o=Object(n.useState)([]),c=Object(f.a)(o,2),i=c[0],l=c[1],s=Object(n.useState)(!0),u=Object(f.a)(s,2),p=u[0],d=u[1],m=Object(n.useState)({open:!1,message:"",severity:"",title:""}),v=Object(f.a)(m,2),h=v[0],b=v[1],E=function(){xs({url_api:zs,key:"percepciondeduccionsat",setLoading:d,setData:l,headers:a,isTokenExpired:t})};es[0].onClick=E,Object(n.useEffect)((function(){E()}),[]);var g=function(e){var a={open:!0,severity:"success"};switch(e.toUpperCase()){case"POST":a.message="Creacion de nueva deduccion o percepcion exitosa",a.title="Registro exitoso";break;case"PUT":a.message="Realizada exitosamente",a.title="Actualizaci\xf3n";break;case"DELETE":a.message="Realizada exitosamente",a.title="Eliminaci\xf3n";break;case"INVALID_KEY":a.message="Registro existente",a.title="Invalido",a.severity="warning";break;case"REQUIERED":a.message="Complete todos los campos",a.title="Incompleto",a.severity="info";break;case"ERROR_REFERENCED":a.message="Existe dependencia de este registro.",a.title="No Permitido",a.severity="warning"}b(a)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{theme:ts},r.a.createElement(mr.a,{actions:es,localization:Xl,options:as,isLoading:p,title:"Percepciones y Deducciones SAT",columns:Fs,data:i,editable:{onRowAdd:Ls({url_api:zs,setLoading:d,data:i,setData:l,controllerAlerts:g,headers:a,isTokenExpired:t}),onRowUpdate:Ps({url_api:zs,setLoading:d,data:i,setData:l,controllerAlerts:g,headers:a,isTokenExpired:t}),onRowDelete:qs({url_api:zs,setLoading:d,data:i,setData:l,controllerAlerts:g,headers:a,isTokenExpired:t})}})),r.a.createElement(Es,{values:h,handleClose:function(e,a){"clickaway"!==a&&b(Object(q.a)(Object(q.a)({},h),{},{open:!1}))}}))},Us={isr:"/api/rh/nomina/catalogo/isr",integracion:"/api/rh/nomina/catalogo/integracion",uma:"/api/rh/nomina/catalogo/uma",subsidio:"/api/rh/nomina/catalogo/subsidio"};function Ms(e){var a=e.type,t=Object(n.useContext)(rt),r=t.cabeceras,o=t.isTokenExpired,c=Object(n.useState)([]),i=Object(f.a)(c,2),l=i[0],s=i[1],u=Object(n.useState)(!1),p=Object(f.a)(u,2),d=p[0],m=p[1],v=function(){var e=Object(We.a)(Be.a.mark((function e(t,n){var c,i,l,s;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.data,e.prev=1,m(!0),i=Us[a],e.next=6,fetch("".concat(sa).concat(i),{method:"POST",headers:r,body:JSON.stringify(c)});case 6:return l=e.sent,e.next=9,l.json();case 9:if(s=e.sent,o(s)){e.next=15;break}return e.next=13,g();case 13:m(!1),n&&n();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(a,t){return e.apply(this,arguments)}}(),h=function(){var e=Object(We.a)(Be.a.mark((function e(t,n){var c,i,l,s;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.id,e.prev=1,m(!0),i=Us[a],e.next=6,fetch("".concat(sa).concat(i,"/").concat(c),{method:"DELETE",headers:r});case 6:return l=e.sent,e.next=9,l.json();case 9:if(s=e.sent,o(s)){e.next=15;break}return e.next=13,g();case 13:m(!1),n&&n();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(a,t){return e.apply(this,arguments)}}(),b=function(){var e=Object(We.a)(Be.a.mark((function e(t,n){var c,i,l,s,u;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.id,i=t.data,e.prev=1,m(!0),l=Us[a],e.next=6,fetch("".concat(sa).concat(l,"/").concat(c),{method:"PUT",headers:r,body:JSON.stringify(i)});case 6:return s=e.sent,e.next=9,s.json();case 9:if(u=e.sent,o(u)){e.next=15;break}return e.next=13,g();case 13:m(!1),n&&n();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(a,t){return e.apply(this,arguments)}}(),E=function(){var e=Object(We.a)(Be.a.mark((function e(){var t,n,c;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),t=Us[a],e.next=5,fetch("".concat(sa).concat(t),{method:"GET",headers:r});case 5:return n=e.sent,e.next=8,n.json();case 8:c=e.sent,o(c)||(s(c[a]),m(!1)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),g=function(){E()};return Object(n.useEffect)((function(){g()}),[a]),{data:l,refresh:g,loading:d,post:v,remove:h,put:b}}var Bs={prefix:"",suffix:"",includeThousandsSeparator:!0,thousandsSeparatorSymbol:"",decimalSymbol:".",allowNegative:!1,allowLeadingZeroes:!1},Ws=function(e){var a=e.inputRef,t=Object(B.a)(e,["inputRef"]),n=ka()(Object(q.a)(Object(q.a)({},Bs),{},{decimalLimit:4,integerLimit:1,allowDecimal:!0}));return r.a.createElement(Oa.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:n,placeholderChar:"\u2000"}))},Hs=function(e){var a=e.inputRef,t=Object(B.a)(e,["inputRef"]);return r.a.createElement(Oa.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:["2","0",/\d/,/\d/],placeholderChar:"\u2000"}))},Gs=function(e){var a=e.inputRef,t=Object(B.a)(e,["inputRef"]),n=ka()(Object(q.a)(Object(q.a)({},Bs),{},{decimalLimit:0,integerLimit:2,allowDecimal:!1}));return r.a.createElement(Oa.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:n,placeholderChar:"\u2000"}))},Vs=function(e){var a=e.inputRef,t=Object(B.a)(e,["inputRef"]),n=ka()(Object(q.a)(Object(q.a)({},Bs),{},{decimalLimit:2,integerLimit:9,allowDecimal:!0}));return r.a.createElement(Oa.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:n,placeholderChar:"\u2000"}))};function Js(e){var a=e.value,t=e.onChange,n=(e.columnDef,e.rowData,e.onRowDataChange,Object(B.a)(e,["value","onChange","columnDef","rowData","onRowDataChange"]));return r.a.createElement(ca.a,Object.assign({fullWidth:!0,size:"small",value:a||""},n,{onChange:function(e){return t(e.target.value)}}))}function Zs(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}function $s(){var e=Ms({type:"integracion"}),a=e.data,t=e.loading,n=e.refresh,o=e.post,c=e.remove,i=e.put,l=r.a.useState({open:!1,severity:"",title:""}),s=Object(f.a)(l,2),u=s[0],p=s[1],d=function(e,a){p(Object(q.a)(Object(q.a)({},u),{},{open:!1}))};es[0].onClick=n,Xl.body.editRow.deleteText=r.a.createElement(j.a,{variant:"button",gutterBottom:!0},"\xbfEst\xe1 seguro que desea continuar?");var m=["anio","anio_antiguedad_inferior","anio_antiguedad_superior","dias_aguinaldo","dias_vacaciones","factor","prima_vacacional"],v=[{title:"ID",field:"folio_integracion",editable:"never",hidden:!0},{title:"A\xf1o",field:"anio",defaultSort:"desc",editComponent:function(e){return r.a.createElement(Js,Object.assign({},e,{placeholder:"Ej. 2020",InputProps:{inputComponent:Hs}}))}},{title:"A\xf1o Inferior",field:"anio_antiguedad_inferior",editComponent:function(e){return r.a.createElement(Js,Object.assign({},e,{placeholder:"Ej. 1",InputProps:{inputComponent:Gs}}))}},{title:"A\xf1o Superior",field:"anio_antiguedad_superior",editComponent:function(e){return r.a.createElement(Js,Object.assign({},e,{placeholder:"Ej. 2",InputProps:{inputComponent:Gs}}))}},{title:"D\xedas Aguinaldo",field:"dias_aguinaldo",editComponent:function(e){return r.a.createElement(Js,Object.assign({},e,{placeholder:"Ej. 15",InputProps:{inputComponent:Gs}}))}},{title:"D\xedas Vacaciones",field:"dias_vacaciones",editComponent:function(e){return r.a.createElement(Js,Object.assign({},e,{placeholder:"Ej. 6",InputProps:{inputComponent:Gs}}))}},{title:"Factor",field:"factor",editComponent:function(e){return r.a.createElement(Js,Object.assign({},e,{placeholder:"Ej. 0.25",InputProps:{inputComponent:Ws}}))}},{title:"Prima Vacacional",field:"prima_vacacional",editComponent:function(e){return r.a.createElement(Js,Object.assign({},e,{placeholder:"Ej. 1.0452",InputProps:{inputComponent:Ws}}))}}],h=function(e){return parseInt(e.anio_antiguedad_inferior)<=parseInt(e.anio_antiguedad_superior)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{title:"Factores de Integraci\xf3n",columns:v,localization:Xl,data:a,actions:es,options:as,isLoading:t,editable:{onRowAdd:function(e){return new Promise((function(a,t){setTimeout((function(){var n=Object.keys(e);return m.every((function(e){return n.includes(e)&&!Number.isNaN(e)}))?h(e)?(a(),void o({data:e},(function(){p({open:!0,severity:"success",title:"Creaci\xf3n exitosa"})}))):(p({open:!0,severity:"warning",title:"Limite mayor no puede ser menor al mayor!"}),void t()):(p({open:!0,severity:"warning",title:"Campos vacios!"}),void t())}),600)}))},onRowUpdate:function(e,a){return new Promise((function(a,t){setTimeout((function(){var n=[].concat(m);n.push("folio_integracion");var r=Object.keys(e);if(!n.every((function(a){return r.includes(a)&&""!==e[a]})))return p({open:!0,severity:"warning",title:"Campos vacios!"}),void t();if(!h(e))return p({open:!0,severity:"warning",title:"Limite mayor no puede ser menor al mayor!"}),void t();if(m.every((function(e){return n.includes(e)&&!Number.isNaN(e)}))&&h(e)){a();var o=e.folio_integracion,c=Object(B.a)(e,["folio_integracion"]);i({id:o,data:c},(function(){p({open:!0,severity:"success",title:"Actualizaci\xf3n exitosa"})}))}}),600)}))},onRowDelete:function(e){return new Promise((function(a){setTimeout((function(){a(),c({id:e.folio_integracion},(function(){p({open:!0,severity:"success",title:"Eliminaci\xf3n exitosa"})}))}),600)}))}}}),r.a.createElement(oa.a,{open:u.open,autoHideDuration:6e3,onClose:d},r.a.createElement(Zs,{onClose:d,severity:u.severity},u.title,u.message&&u.message)))}function Qs(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}function Ks(){var e=Ms({type:"isr"}),a=e.data,t=e.loading,n=e.refresh,o=e.post,c=e.remove,i=e.put,l=r.a.useState({open:!1,severity:"",title:""}),s=Object(f.a)(l,2),u=s[0],p=s[1],d=function(e,a){p(Object(q.a)(Object(q.a)({},u),{},{open:!1}))};es[0].onClick=n,Xl.body.editRow.deleteText=r.a.createElement(j.a,{variant:"button",gutterBottom:!0},"\xbfEst\xe1 seguro que desea continuar?");var m=["anio","limite_inferior","limite_superior","cuota_fija","excendente_limite_inferior"],v=[{title:"ID",field:"folio_isr",editable:"never",hidden:!0},{title:"A\xf1o",field:"anio",defaultSort:"desc",editComponent:function(e){return r.a.createElement(Js,Object.assign({},e,{placeholder:"Ej. 2020",InputProps:{inputComponent:Hs}}))}},{title:"Limite Inferior",field:"limite_inferior",editComponent:function(e){return r.a.createElement(Js,Object.assign({},e,{placeholder:"Ej. 1",InputProps:{inputComponent:Vs}}))}},{title:"Limite Superior",field:"limite_superior",editComponent:function(e){return r.a.createElement(Js,Object.assign({},e,{placeholder:"Ej. 2",InputProps:{inputComponent:Vs}}))}},{title:"Cuota Fija",field:"cuota_fija",editComponent:function(e){return r.a.createElement(Js,Object.assign({},e,{placeholder:"Ej. 15",InputProps:{inputComponent:Vs}}))}},{title:"Excedente Limite Inf.",field:"excendente_limite_inferior",editComponent:function(e){return r.a.createElement(Js,Object.assign({},e,{placeholder:"Ej. 0.25",InputProps:{inputComponent:Vs}}))}}],h=function(e){return parseFloat(e.limite_inferior)<parseFloat(e.limite_superior)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{title:"ISR",columns:v,localization:Xl,data:a,actions:es,options:as,isLoading:t,editable:{onRowAdd:function(e){return new Promise((function(a,t){setTimeout((function(){var n=Object.keys(e);return m.every((function(a){return n.includes(a)&&""!==e[a]}))?h(e)?(a(),void o({data:e},(function(){p({open:!0,severity:"success",title:"Creaci\xf3n exitosa"})}))):(p({open:!0,severity:"warning",title:"Limite mayor no puede ser menor al mayor!"}),void t()):(p({open:!0,severity:"warning",title:"Campos vacios!"}),void t())}),600)}))},onRowUpdate:function(e,a){return new Promise((function(a,t){setTimeout((function(){var n=Object.keys(e);if(!m.every((function(a){return n.includes(a)&&""!==e[a]})))return p({open:!0,severity:"warning",title:"Campos vacios!"}),void t();if(!h(e))return p({open:!0,severity:"warning",title:"Limite mayor no puede ser menor al mayor!"}),void t();a();var r=e.folio_isr,o=Object(B.a)(e,["folio_isr"]);i({id:r,data:o},(function(){p({open:!0,severity:"success",title:"Actualizaci\xf3n exitosa"})}))}),600)}))},onRowDelete:function(e){return new Promise((function(a){setTimeout((function(){a(),c({id:e.folio_isr},(function(){p({open:!0,severity:"success",title:"Eliminaci\xf3n exitosa"})}))}),600)}))}}}),r.a.createElement(oa.a,{open:u.open,autoHideDuration:6e3,onClose:d},r.a.createElement(Qs,{onClose:d,severity:u.severity},u.title,u.message&&u.message)))}function Xs(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}function eu(){var e=Ms({type:"subsidio"}),a=e.data,t=e.loading,n=e.refresh,o=e.post,c=e.remove,i=e.put,l=r.a.useState({open:!1,severity:"",title:""}),s=Object(f.a)(l,2),u=s[0],p=s[1],d=function(e,a){p(Object(q.a)(Object(q.a)({},u),{},{open:!1}))};es[0].onClick=n,Xl.body.editRow.deleteText=r.a.createElement(j.a,{variant:"button",gutterBottom:!0},"\xbfEst\xe1 seguro que desea continuar?");var m=["anio","limite_inferior","limite_superior","cantidad"],v=[{title:"ID",field:"folio_subsidio",editable:"never",hidden:!0},{title:"A\xf1o",field:"anio",defaultSort:"desc",editComponent:function(e){return r.a.createElement(Js,Object.assign({},e,{placeholder:"Ej. 2020",InputProps:{inputComponent:Hs}}))}},{title:"Limite Inferior",field:"limite_inferior",editComponent:function(e){return r.a.createElement(Js,Object.assign({},e,{placeholder:"Ej. 1",InputProps:{inputComponent:Vs}}))}},{title:"Limite Superior",field:"limite_superior",editComponent:function(e){return r.a.createElement(Js,Object.assign({},e,{placeholder:"Ej. 2",InputProps:{inputComponent:Vs}}))}},{title:"Cantidad",field:"cantidad",editComponent:function(e){return r.a.createElement(Js,Object.assign({},e,{placeholder:"Ej. 15",InputProps:{inputComponent:Vs}}))}}],h=function(e){return parseInt(e.limite_inferior)<parseInt(e.limite_superior)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{title:"Subsidio",columns:v,localization:Xl,data:a,actions:es,options:as,isLoading:t,editable:{onRowAdd:function(e){return new Promise((function(a,t){setTimeout((function(){var n=Object.keys(e);return m.every((function(a){return n.includes(a)&&""!==e[a]}))?h(e)?(a(),void o({data:e},(function(){p({open:!0,severity:"success",title:"Creaci\xf3n exitosa"})}))):(p({open:!0,severity:"warning",title:"Limite mayor no puede ser menor al mayor!"}),void t()):(p({open:!0,severity:"warning",title:"Campos vacios!"}),void t())}),600)}))},onRowUpdate:function(e,a){return new Promise((function(a,t){setTimeout((function(){var n=Object.keys(e);if(!m.every((function(a){return n.includes(a)&&""!==e[a]})))return p({open:!0,severity:"warning",title:"Campos vacios!"}),void t();if(!h(e))return p({open:!0,severity:"warning",title:"Limite mayor no puede ser menor al mayor!"}),void t();a();var r=e.folio_subsidio,o=Object(B.a)(e,["folio_subsidio"]);i({id:r,data:o},(function(){p({open:!0,severity:"success",title:"Actualizaci\xf3n exitosa"})}))}),600)}))},onRowDelete:function(e){return new Promise((function(a){setTimeout((function(){a(),c({id:e.folio_subsidio},(function(){p({open:!0,severity:"success",title:"Eliminaci\xf3n exitosa"})}))}),600)}))}}}),r.a.createElement(oa.a,{open:u.open,autoHideDuration:6e3,onClose:d},r.a.createElement(Xs,{onClose:d,severity:u.severity},u.title,u.message&&u.message)))}function au(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}function tu(){var e=Ms({type:"uma"}),a=e.data,t=e.loading,n=e.refresh,o=e.post,c=e.remove,i=e.put,l=r.a.useState({open:!1,severity:"",title:""}),s=Object(f.a)(l,2),u=s[0],p=s[1],d=function(e,a){p(Object(q.a)(Object(q.a)({},u),{},{open:!1}))};es[0].onClick=n,Xl.body.editRow.deleteText=r.a.createElement(j.a,{variant:"button",gutterBottom:!0},"\xbfEst\xe1 seguro que desea continuar?");var m=["anio","diario"],v=[{title:"A\xf1o",field:"anio",defaultSort:"desc",editComponent:function(e){return r.a.createElement(Js,Object.assign({},e,{placeholder:"Ej. 2020",InputProps:{inputComponent:Hs}}))}},{title:"Diario",field:"diario",editComponent:function(e){return r.a.createElement(Js,Object.assign({},e,{placeholder:"Ej. 15",InputProps:{inputComponent:Vs}}))}}],h=function(e,t){var n=a.filter((function(e){return e.anio===t.anio}));return e?0===n.length:1===n.length};return r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{title:"UMA",columns:v,localization:Xl,data:a,actions:es,options:as,isLoading:t,editable:{onRowAdd:function(e){return new Promise((function(a,t){setTimeout((function(){var n=Object.keys(e);return m.every((function(a){return n.includes(a)&&""!==e[a]}))?h(!0,e)?(a(),void o({data:e},(function(){p({open:!0,severity:"success",title:"Creaci\xf3n exitosa"})}))):(p({open:!0,severity:"warning",title:"A\xf1o no puede repetirse!"}),void t()):(p({open:!0,severity:"warning",title:"Campos vacios!"}),void t())}),600)}))},onRowUpdate:function(e,a){return new Promise((function(a,t){setTimeout((function(){var n=Object.keys(e);if(!m.every((function(a){return n.includes(a)&&""!==e[a]})))return p({open:!0,severity:"warning",title:"Campos vacios!"}),void t();if(!h(!1,e))return p({open:!0,severity:"warning",title:"A\xf1o no puede repetirse!"}),void t();a();var r=e.anio,o=Object(B.a)(e,["anio"]);i({id:r,data:o},(function(){p({open:!0,severity:"success",title:"Actualizaci\xf3n exitosa"})}))}),600)}))},onRowDelete:function(e){return new Promise((function(a){setTimeout((function(){a(),c({id:e.anio},(function(){p({open:!0,severity:"success",title:"Eliminaci\xf3n exitosa"})}))}),600)}))}}}),r.a.createElement(oa.a,{open:u.open,autoHideDuration:6e3,onClose:d},r.a.createElement(au,{onClose:d,severity:u.severity},u.title,u.message&&u.message)))}var nu=t(1149),ru=t(1150),ou=t(207),cu=t(647),iu=t(699),lu=t.n(iu),su=t(700),uu=t.n(su),pu=t(397),du=t.n(pu),mu=t(701),fu=t.n(mu),vu=t(170),hu=[{frase:"Llegar juntos es el principio. Mantenerse juntos, es el progreso. Trabajar juntos es el \xe9xito.",autor:" Henry Ford"},{frase:"El talento gana partidos, pero el trabajo en equipo y la inteligencia ganan campeonatos.",autor:" Michael Jordan"},{frase:"Ninguno de nosotros es tan bueno como todos nosotros juntos.",autor:" Ray Kroc"},{frase:"La fuerza del equipo viene de cada miembro. La fuerza de cada miembro es el equipo.",autor:" Phil Jackson"},{frase:"Si quieres ir r\xe1pido, ve solo. Si quieres llegar lejos, ve acompa\xf1ado.",autor:" Proverbio africano"},{frase:"Cuando las ara\xf1as tejen juntas, pueden atar a un le\xf3n.",autor:" Proverbio et\xedope"},{frase:"No hay problema que no podamos resolver juntos, y muy pocos que podamos resolver por nosotros mismos.",autor:" Lyndon Johnson"},{frase:"Solos podemos hacer poco, juntos podemos hacer mucho.",autor:" Hellen Keller"},{frase:"Un bote no va hacia delante si cada uno rema a su propia manera.",autor:" Proverbio swahili"},{frase:"La gente consigue m\xe1s como resultado de trabajar con otros que contra ellos. ",autor:"Dr. Allan Fromme"}];function bu(){var e=Math.floor(Math.random()*(hu.length+1));return e>0&&e<hu.length?hu[e]:hu[0]}var Eu=Object(Y.a)((function(e){return Object(ou.a)({avatar:{marginTop:"5vh",marginBottom:"5vh",height:"8vh",width:"8vh",color:e.palette.getContrastText(cu.a[500]),backgroundColor:"#F57C00"}})}));function gu(){var e=Eu(),a=Object(n.useState)({}),t=Object(f.a)(a,2),o=t[0],c=t[1],i=Object(n.useContext)(Ju).setUser,l=[{image:lu.a,title:"Empleados",url:"/nomina/listar-empleado-by/all/all",descripcion:"En este apartado podr\xe1s crear, editar, subir una foto, descargarlos...",autor:"Photo by Christina Morillo from Pexels"},{image:uu.a,title:"Representantes",url:"/nomina/listar-representante",descripcion:"En este apartado podr\xe1s editar a los representantes, crear uno nuevo, descargarlos...",autor:"Photo by fauxels from Pexels"},{image:du.a,title:"Empresas",url:"/nomina/listar-empresa-por/false",descripcion:"En este apartado podr\xe1s editar las empresas, crear una nueva, descargarlas...",autor:"Photo by SevenStorm JUHASZIMRUS from Pexels"},{image:fu.a,title:"N\xf3minas",url:"/nomina/activas",descripcion:"En este apartado podr\xe1s consultar las n\xf3minas, asignar faltas, descargarlas...",autor:"Photo by Lukas from Pexels"}];return Object(n.useEffect)((function(){c(bu()),i({nombre:"Administrador"})}),[]),r.a.createElement(na.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center",spacing:3},r.a.createElement(na.a,{item:!0},r.a.createElement(vu.a.div,{animate:{scale:2},transition:{duration:.5},whileHover:{scale:2.5},whileTap:{scale:1.8}},r.a.createElement(g.a,{className:e.avatar},"SU"))),r.a.createElement(na.a,{item:!0},r.a.createElement(j.a,{variant:"h2",color:"initial",align:"center",display:"block"},"Bienvenido Administrador")),r.a.createElement(na.a,{item:!0},r.a.createElement(j.a,{variant:"h4",color:"initial",align:"center",display:"block"},"Tienes el control de todo el sistema!")),r.a.createElement(na.a,{item:!0},r.a.createElement(vu.a.div,{initial:"hidden",animate:"visible",variants:{visible:{opacity:1},hidden:{opacity:0}}},r.a.createElement(j.a,{variant:"body1",color:"initial",align:"center",display:"block"},r.a.createElement("i",null,"".concat(o.frase," ")),r.a.createElement("span",null,o.autor)))),r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(na.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3},l.map((function(e,a){return r.a.createElement(na.a,{item:!0,key:"card-element-".concat(a)},r.a.createElement(yu,e))})))))}var _u=Object(Y.a)({root:{maxWidth:250},media:{height:140}});function yu(e){var a=e.image,t=e.title,n=e.url,o=e.descripcion,c=e.autor,i=Object(d.g)(),l=_u();return r.a.createElement(vu.a.div,{initial:"hidden",animate:"visible",variants:{visible:{opacity:1},hidden:{opacity:0}},whileHover:{scale:1.1},whileTap:{scale:.9}},r.a.createElement($e.a,{className:l.root,elevation:3,onClick:function(){return i.push(n)}},r.a.createElement(nu.a,null,r.a.createElement(ru.a,{className:l.media,image:a,title:c}),r.a.createElement(Qe.a,null,r.a.createElement(j.a,{gutterBottom:!0,variant:"h5",component:"h2"},t),r.a.createElement(j.a,{variant:"body2",color:"textSecondary",component:"p"},o)))))}var xu=Object(Y.a)((function(e){return Object(ou.a)({avatar:{marginTop:"5vh",marginBottom:"5vh",height:"8vh",width:"8vh",color:e.palette.getContrastText(cu.a[500]),backgroundColor:"#F57C00"}})}));function ju(){var e=xu(),a=Object(n.useState)({}),t=Object(f.a)(a,2),o=t[0],c=t[1],i=Object(n.useContext)(rt),l=i.rfc,s=i.permisos,u=i.isTokenExpired,p=i.rol,d=i.cabeceras,m=Object(n.useState)(),v=Object(f.a)(m,2),h=v[0],b=v[1],E=Object(n.useContext)(Ju).setUser,_=function(){var e=Object(We.a)(Be.a.mark((function e(a,t,n){var r,o,c,i,l;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(a,{method:"GET",headers:t});case 3:return r=e.sent,e.next=6,r.json();case 6:o=e.sent,u(o)||(c=o[n][0],i=c.url_foto,l=c.nombre,b(o[n][0]),E({nombre:l,url:i})),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(a,t,n){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c(bu());var e="",a={};"G"===p?((a=new Headers).append("authorization",d.authorization),e=sa+"/api/rh/empleado?query=nombre-url_foto-genero&rfc=".concat(l),_(e,a,"empleados")):"C"===p&&(e=sa+"/api/rh/representante?query=nombre-genero&rfc=".concat(l),_(e,d,"representantes"))}),[]),h?r.a.createElement("div",{style:{padding:20}},r.a.createElement(na.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center",spacing:3},r.a.createElement(na.a,{item:!0},r.a.createElement(vu.a.div,{animate:{scale:2},transition:{duration:.5},whileHover:{scale:2.5},whileTap:{scale:1.8}},h&&h.url_foto?r.a.createElement(g.a,{src:"http://res.cloudinary.com/get-consultoria/image/upload/v1/".concat(h.url_foto),className:e.avatar}):r.a.createElement(g.a,{className:e.avatar},h?h.nombre&&h.nombre[0]:"U"))),r.a.createElement(na.a,{item:!0},r.a.createElement(j.a,{variant:"h2",color:"initial",align:"center",display:"block"},h&&"F"===h.genero?"Bienvenida ":"Bienvenido ",h&&h.nombre)),r.a.createElement(na.a,{item:!0},r.a.createElement(vu.a.div,{initial:"hidden",animate:"visible",variants:{visible:{opacity:1},hidden:{opacity:0}}},r.a.createElement(j.a,{variant:"h4",color:"initial",align:"center",display:"block"},"C"===p?"Eres nuestra prioridad.":"Somos un equipo!"))),r.a.createElement(na.a,{item:!0,xs:12,md:8,lg:6},r.a.createElement(vu.a.div,{initial:"hidden",animate:"visible",variants:{visible:{opacity:1},hidden:{opacity:0}}},r.a.createElement(j.a,{variant:"body1",color:"initial",align:"center",display:"block"},"C"===p?"Contamos con el mejor equipo en la gesti\xf3n integral de talento humano, lo que hace que podamos colaborar en la administraci\xf3n de tu n\xf3mina de manera eficiente, as\xed como en la gesti\xf3n del modelo de negocio adecuado, aportando de inmediato beneficios tangibles como ahorro de dinero y tiempo.":r.a.createElement(r.a.Fragment,null," ",r.a.createElement("i",null,'"',o.frase,'"'),r.a.createElement("span",null,o.autor)," ")))),r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(na.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3},s.map((function(e,a){return r.a.createElement(na.a,{item:!0,key:"card-element-".concat(a)},r.a.createElement(Cu,{permiso:e}))})))))):null}var Ou=Object(Y.a)({root:{maxWidth:250},media:{height:140}});function Cu(e){var a=e.permiso,t=Object(n.useContext)(rt),o=t.isTokenExpired,c=t.rol,i=t.cabeceras,l=Object(d.g)(),s=Ou(),u=Object(n.useState)(),p=Object(f.a)(u,2),m=p[0],v=p[1],h=function(){var e=Object(We.a)(Be.a.mark((function e(){var t,n,r;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new Headers).append("authorization",i.authorization),e.next=5,fetch("".concat(sa,"/api/rh/empresa?query=razon_social-url_logo&id_empresa=").concat(a),{method:"GET",headers:t});case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,o(r)||v(r.empresas[0]),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();if(Object(n.useEffect)((function(){h()}),[]),!m)return null;return r.a.createElement(vu.a.div,{initial:"hidden",animate:"visible",variants:{visible:{opacity:1},hidden:{opacity:0}},whileHover:{scale:1.1},whileTap:{scale:.9}},r.a.createElement($e.a,{className:s.root,elevation:4,onClick:function(){"G"===c&&l.push("/nomina/edit-empresa/".concat(a))}},r.a.createElement(nu.a,null,r.a.createElement(ru.a,{className:s.media,image:m.url_logo?"http://res.cloudinary.com/get-consultoria/image/upload/v1/".concat(m.url_logo):du.a,title:m.razon_social}),r.a.createElement(Qe.a,null,r.a.createElement(j.a,{gutterBottom:!0,variant:"h5",component:"h2",noWrap:!0},m&&m.razon_social&&m.razon_social),r.a.createElement(j.a,{variant:"body2",color:"textSecondary",component:"p",paragraph:!0},"C"===c?"Nos comprometemos a obtener el mejor resultado favorable para nuestros clientes.":"Aqui podras ver la informacion de la empresa, el calendario de las n\xf3minas y los documentos...")))))}var ku=t(702),wu=t.n(ku),Su=t(490),Au=t.n(Su),Du=t(703),Tu=t.n(Du);function Ru(e){var a=e.open,t=e.data,n=e.onClose,o=e.notification,c=r.a.useState(!1),i=Object(f.a)(c,2),l=i[0],s=i[1],u=r.a.useState(!1),p=Object(f.a)(u,2),d=p[0],m=p[1],v=r.a.useContext(rt),h=v.cabeceras,b=v.isTokenExpired,E=_i.d().shape({password:_i.f().required("Contrase\xf1a Requerida"),changepassword:_i.f().when("password",{is:function(e){return!!(e&&e.length>0)},then:_i.f().oneOf([_i.e("password")],"Las contrase\xf1as no coinciden")})}),g=function(){var e=Object(We.a)(Be.a.mark((function e(a){var r,c,i,l,u;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.password,s(!0),e.prev=2,c=JSON.stringify({contrasenia:r}),e.next=6,fetch("".concat(sa,"/api/rh/usuario/").concat(t.id_usuario),{method:"PUT",headers:h,body:c});case 6:return i=e.sent,e.next=9,i.json();case 9:l=e.sent,b(l)||(u=l.error,s(!1),u?(m(!0),setTimeout((function(){return m(!1)}),1e3)):(o({open:!0,message:"",severity:"success",title:"Contrase\xf1a Reestablecida"}),n())),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:s(!1);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(Ja.a,{open:a,onClose:n,"aria-labelledby":"dialog",maxWidth:"xs",fullWidth:!0},l&&r.a.createElement(Hn.a,{color:"secondary"}),r.a.createElement(gi.c,{initialValues:{password:"",changepassword:""},validationSchema:E,onSubmit:g},(function(e){return r.a.createElement(gi.b,null,r.a.createElement(Ka.a,null,"Reestablecer Contrase\xf1a"),r.a.createElement($a.a,null,r.a.createElement(Qa.a,null,"La contrase\xf1a se reestablecer\xe1 para el usuario:"),r.a.createElement(Qa.a,null,r.a.createElement("b",null,t.correo)),r.a.createElement(na.a,{spacing:2,container:!0,direction:"column",justify:"center",alignItems:"stretch"},r.a.createElement(na.a,{item:!0},r.a.createElement(gi.a,{name:"password",label:"Contrase\xf1a",placeholder:"************",component:Iu,type:"password"})),r.a.createElement(na.a,{item:!0},r.a.createElement(gi.a,{name:"changepassword",label:"Confirma Contrase\xf1a",placeholder:"************",component:Iu,type:"password"}))),d&&r.a.createElement(j.a,{variant:"button",color:"secondary"},"Ha ocurrido un error, intenta nuevamente")),r.a.createElement(Za.a,null,r.a.createElement(ra.a,{onClick:n,color:"default"},"Cancel"),r.a.createElement(ra.a,{onClick:e.handleSubmit,color:"secondary",type:"submit"},"Guardar")))})))}var Iu=function(e){var a=e.field,t=e.form,n=e.children,o=Object(B.a)(e,["field","form","children"]);return r.a.createElement(ca.a,Object.assign({size:"small",autoComplete:"off",fullWidth:!0,name:a.name,value:a.value,error:t.errors[a.name]&&t.touched[a.name],helperText:t.errors[a.name]&&t.touched[a.name]&&String(t.errors[a.name]),onChange:a.onChange,onBlur:a.onBlur},o),n)};function Nu(e){return r.a.createElement(ya.a,Object.assign({elevation:6,variant:"filled"},e))}var Lu=Object(Ne.a)({root:{color:uo.a[600],"&$checked":{color:At.a[600]}},checked:{}})((function(e){return r.a.createElement(Fr.a,Object.assign({style:{padding:5},color:"default"},e))}));function Pu(e){var a=e.type,t=r.a.useState({open:!1,data:{}}),n=Object(f.a)(t,2),o=n[0],c=n[1],i=r.a.useContext(rt),l=i.cabeceras,s=i.isTokenExpired,u=Object(d.g)(),p=r.a.useState([]),m=Object(f.a)(p,2),v=m[0],h=m[1],b=r.a.useState(!1),E=Object(f.a)(b,2),g=E[0],_=E[1],y=r.a.useState({open:!1,message:"",severity:"",title:""}),x=Object(f.a)(y,2),O=x[0],C=x[1],k=function(e,a){C(Object(q.a)(Object(q.a)({},O),{},{open:!1}))},w=function(e){var a=!0;_(!0),h([]);var t=function(){var e=Object(We.a)(Be.a.mark((function e(t){var n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(n),a&&(h(n.usuarios.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{rfc:e.rfc.toUpperCase()})}))),_(!1),0===n.usuarios.length&&C({open:!0,message:"No existen registros de empresas",severity:"info",title:"Ningun registro encontrado"}));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n=function(){var e=Object(We.a)(Be.a.mark((function e(t){var n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,s(n)||a&&(_(!1),C({open:!0,message:"Ha ocurrido un error, intenta nuevamente",severity:"error",title:"Uuuups!"}));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return a&&ua.get({url:"".concat(ua.BASE_URL,"/api/rh/usuario?rol=").concat(e),headers:l,exito:t,fallo:n,error_request:function(){u.push("/server-error")}}),function(){return a=!1}},S=[{title:"ID",field:"id_usuario",editable:"never",hidden:!0},{title:"RFC",field:"rfc",defaultSort:"asc",editComponent:function(e){return r.a.createElement(qu,Object.assign({placeholder:"Ej. Contrucci\xf3n"},e))}},{title:"Correo",field:"correo",editComponent:function(e){return r.a.createElement(qu,Object.assign({placeholder:"Ej. Contrucci\xf3n"},e))}},{title:"Activo",field:"estatus",width:60,render:function(e){var a=e.estatus;return r.a.createElement(na.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Lu,{icon:r.a.createElement(Au.a,null),checkedIcon:r.a.createElement(so.a,null),checked:a}))},editComponent:function(e){return r.a.createElement(na.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(vt.a,{style:{marginLeft:0,marginRight:0},control:r.a.createElement(Lu,{icon:r.a.createElement(Au.a,null),checkedIcon:r.a.createElement(so.a,null),checked:void 0===e.value||e.value,onChange:function(a){return e.onChange(void 0===e.value||!e.value)},name:"status"})}))}}];r.a.useEffect((function(){w(a)}),[a]);var A=[{icon:"refresh",tooltip:"Actualizar",isFreeAction:!0,onClick:function(){w(a)}},{icon:function(){return r.a.createElement(Tu.a,null)},tooltip:"Reestablecer Contrase\xf1a",onClick:function(e,a){return c({open:!0,data:a})}}];return Xl.body.editRow.deleteText=r.a.createElement(j.a,{variant:"button",gutterBottom:!0},"\xbfEst\xe1 seguro que desea continuar?"),r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{title:"Usuarios "+function(e){switch(e){case"S":return"Administrador";case"G":return"Internos";case"E":return"Externos";case"C":return"Representantes"}}(a),columns:S,localization:Xl,data:v,actions:A,options:as,isLoading:g,editable:{onRowAdd:function(e){return new Promise((function(t,n){setTimeout((function(){if(""===e.rfc||""===e.correo)return C({open:!0,message:'Rellena los campos "RFC" y "Correo"',severity:"warning",title:"Campos vacios!"}),void n();!function(e){e.es_default=!0,e.rol=a,e.tipo=function(e){switch(e){case"S":return"S";case"G":case"E":return"E";case"C":return"R"}}(a);var t=!0,n=function(){var a=Object(We.a)(Be.a.mark((function a(n){var r,o;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:r=a.sent,t&&(e.id_usuario=r.usuario[0].id_usuario,(o=v).push(e),h(o),_(!1),C({open:!0,message:"Correo: ".concat(r.user.email," Contrase\xf1a: ").concat(r.user.password),severity:"success",title:"Registro exitoso!"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),r=function(){var e=Object(We.a)(Be.a.mark((function e(a){var n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:n=e.sent,s(n)||t&&(_(!1),C({open:!0,message:"El registro no se ha realizado, intenta de nuevo",severity:"error",title:"Registro fallido!"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();t&&(_(!0),ua.post({url:"".concat(ua.BASE_URL,"/api/rh/usuario"),headers:l,data:e,exito:n,fallo:r,error_request:function(e){u.push("/server-error")}}))}(Object(q.a)(Object(q.a)({},e),{},{estatus:!0})),t()}),600)}))},onRowUpdate:function(e,a){return new Promise((function(t,n){setTimeout((function(){if(""===e.rfc||""===e.correo)return C({open:!0,message:'Rellena los campos "RFC" y "Correo"',severity:"warning",title:"Campos vacios!"}),void n();t(),function(e,a){var t=function(){var t=Object(We.a)(Be.a.mark((function t(n){var r,o,c;return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:r=t.sent,s(r)||(c=(o=v).indexOf(a),v[c]=e,h(o),_(!1),C({open:!0,message:"Usuario: ".concat(e.rfc.toUpperCase()," se ha actualizado correctamente"),severity:"success",title:"Actualizaci\xf3n exitoso!"}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,console.log(n),s(n)||(_(!1),C({open:!0,message:"usuario: ".concat(e.rfc.toUpperCase()," no ha sido actualizado, intenta de nuevo"),severity:"error",title:"Actualizaci\xf3n fallida!"}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();_(!0),function(){var a={rfc:e.rfc,correo:e.correo,estatus:e.estatus};ua.put({url:"".concat(ua.BASE_URL,"/api/rh/usuario/").concat(e.id_usuario),headers:l,data:a,exito:t,fallo:n,error_request:function(e){u.push("/server-error")}})}()}(e,a)}),600)}))},onRowDelete:function(e){return new Promise((function(a){setTimeout((function(){a(),function(e){var a=function(){var a=Object(We.a)(Be.a.mark((function a(t){var n,r,o;return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,s(n)||(o=(r=v).indexOf(e),v.splice(o,1),h(r),_(!1),C({open:!0,message:"Usuario: ".concat(e.rfc.toUpperCase()," se ha eliminado correctamente"),severity:"success",title:"Eliminaci\xf3n exitosa!"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),t=function(){var a=Object(We.a)(Be.a.mark((function a(t){return Be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:_(!1),C({open:!0,message:"usuario: ".concat(e.nombre_usuario.toUpperCase()," tiene registros que dependen de este, primero debes eliminarlos"),severity:"error",title:"Eliminaci\xf3n fallida!"});case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();_(!0),ua.deleted({url:"".concat(ua.BASE_URL,"/api/rh/usuario/").concat(e.id_usuario),headers:l,exito:a,fallo:t,error_request:function(){u.push("/server-error")}})}(e)}),600)}))}}}),r.a.createElement(oa.a,{open:O.open,onClose:k},r.a.createElement(Nu,{onClose:k,severity:O.severity},r.a.createElement(xa.a,null,O.title),O.message)),r.a.createElement(Ru,Object.assign({},o,{onClose:function(){return c(Object(q.a)(Object(q.a)({},o),{},{open:!1}))},notification:C})))}var qu=function(e){e.columnDef,e.rowData,e.onRowDataChange;var a=Object(B.a)(e,["columnDef","rowData","onRowDataChange"]);return r.a.createElement(ca.a,Object.assign({},a,{fullWidth:!0,size:"small",value:a.value||"",onChange:function(e){return a.onChange(e.target.value)}}))},Fu=t(704),zu=t.n(Fu),Yu=t(301),Uu=t.n(Yu),Mu="/nomina",Bu=[{icon:r.a.createElement(zu.a,null),name:"Fiscales",childs:[{icon:r.a.createElement(Uu.a,null),name:"Integraci\xf3n",route:"".concat(Mu,"/fiscales/integracion")},{icon:r.a.createElement(Uu.a,null),name:"Subsidio",route:"".concat(Mu,"/fiscales/subsidio")},{icon:r.a.createElement(Uu.a,null),name:"ISR",route:"".concat(Mu,"/fiscales/isr")},{icon:r.a.createElement(Uu.a,null),name:"UMA",route:"".concat(Mu,"/fiscales/uma")}]}],Wu=[{icon:r.a.createElement(ge.a,null),name:"Usuarios",childs:[{icon:r.a.createElement(ye.a,null),name:"Adminstradores",route:"".concat(Mu,"/usuario/administrador")},{icon:r.a.createElement(ie.a,null),name:"Internos",route:"".concat(Mu,"/usuario/interno")},{icon:r.a.createElement(oe.a,null),name:"Externos",route:"".concat(Mu,"/usuario/externo")},{icon:r.a.createElement(je.a,null),name:"Representantes",route:"".concat(Mu,"/usuario/representante")}]}],Hu=[{icon:r.a.createElement(ae.a,null),name:"Todos",childs:[{icon:r.a.createElement(ne.a,null),name:"Deparamentos",route:"".concat(Mu,"/departamento")},{icon:r.a.createElement(ne.a,null),name:"Reg. Contrataci\xf3n",route:"".concat(Mu,"/regimen-contratacion")},{icon:r.a.createElement(ne.a,null),name:"Giros",route:"".concat(Mu,"/giro")},{icon:r.a.createElement(ne.a,null),name:"Reg. Capital",route:"".concat(Mu,"/regimen-capital")},{icon:r.a.createElement(ne.a,null),name:"Jornadas",route:"".concat(Mu,"/jornada")},{icon:r.a.createElement(ne.a,null),name:"Tipo Contrato",route:"".concat(Mu,"/tipo-contrato")},{icon:r.a.createElement(ne.a,null),name:"Tipo Documento",route:"".concat(Mu,"/tipo-documento")},{icon:r.a.createElement(ne.a,null),name:"Percepci\xf3n Deducci\xf3n",route:"".concat(Mu,"/percepcion-deduccion")},{icon:r.a.createElement(ne.a,null),name:"Percepci\xf3n Deducci\xf3n SAT",route:"".concat(Mu,"/percepcion-deduccion-sat")}]}],Gu=Object(Y.a)((function(e){return{divider:{backgroundColor:"#D1D2D4",margin:"0px 15px"},drawerHeader:Object(q.a)(Object(q.a)({display:"flex",alignItems:"center",padding:e.spacing(1)},e.mixins.toolbar),{},{justifyContent:"center"})}}));function Vu(e){var a=e.type,t=Gu(),n=function(e){switch(e){case"S":return{entidades:[{icon:r.a.createElement(pe.a,null),name:"N\xf3minas",childs:[{icon:r.a.createElement(me.a,null),name:"Activas",route:"".concat(Mu,"/activas")}]},{icon:r.a.createElement(H.a,null),name:"Empresas",childs:[{icon:r.a.createElement(Z.a,null),name:"Nueva",route:"".concat(Mu,"/nueva-empresa")},{icon:r.a.createElement(ie.a,null),name:"Internas",route:"".concat(Mu,"/listar-empresa-por/true")},{icon:r.a.createElement(oe.a,null),name:"Clientes",route:"".concat(Mu,"/listar-empresa-por/false")},{icon:r.a.createElement(se.a,null),name:"Todas",route:"".concat(Mu,"/listar-empresa")}]},{icon:r.a.createElement(V.a,null),name:"Empleados",childs:[{icon:r.a.createElement(Z.a,null),name:"Nuevo",route:"".concat(Mu,"/nuevo-empleado")},{icon:r.a.createElement(Q.a,null),name:"Listar",route:"".concat(Mu,"/listar-empleado-by/all/all")}]},{icon:r.a.createElement(X.a,null),name:"Representantes",childs:[{icon:r.a.createElement(Z.a,null),name:"Nuevo",route:"".concat(Mu,"/nuevo-representante")},{icon:r.a.createElement(Q.a,null),name:"Listar",route:"".concat(Mu,"/listar-representante")}]}],catalogos:Hu,usuarios:Wu,fiscales:Bu,reportes:[{icon:r.a.createElement(be.a,null),name:"Reportes",childs:[{icon:r.a.createElement(ve.a,null),name:"Gr\xe1ficas",route:"".concat(Mu,"/reportes")}]}]};case"G":return{entidades:[{icon:r.a.createElement(pe.a,null),name:"N\xf3minas",childs:[{icon:r.a.createElement(me.a,null),name:"Activas",route:"".concat(Mu,"/activas")}]},{icon:r.a.createElement(H.a,null),name:"Empresas",childs:[{icon:r.a.createElement(oe.a,null),name:"Mis Clientes",route:"".concat(Mu,"/listar-empresa-por/false")}]},{icon:r.a.createElement(V.a,null),name:"Empleados",childs:[{icon:r.a.createElement(Z.a,null),name:"Nuevo",route:"".concat(Mu,"/nuevo-empleado")},{icon:r.a.createElement(Q.a,null),name:"Listar",route:"".concat(Mu,"/listar-empleado-by/all/all")}]}],catalogos:Hu};case"C":return{entidades:[{icon:r.a.createElement(pe.a,null),name:"N\xf3minas",childs:[{icon:r.a.createElement(me.a,null),name:"Activas",route:"".concat(Mu,"/activas")}]}]};default:return{}}}(a),o=function(){return r.a.createElement(Ue.Scrollbars,{style:{position:"absolute"},renderThumbVertical:function(e){var a=e.style,t=Object(B.a)(e,["style"]);return r.a.createElement("div",Object.assign({style:Object(q.a)(Object(q.a)({},a),{backgroundColor:"rgb(214,214,214, 0.3)"})},t))},autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement(p.c,{to:"/nomina/"},r.a.createElement("img",{alt:"logo",src:wu.a,height:"40"}))),r.a.createElement(Oe.a,{className:t.divider}),n.entidades&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ye,{items:n.entidades,keyElement:"entidades",name:"Entidades"}),r.a.createElement(Oe.a,{className:t.divider})),n.reportes&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ye,{items:n.reportes,keyElement:"reportes",name:"Reportes"}),r.a.createElement(Oe.a,{className:t.divider})),n.fiscales&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ye,{items:n.fiscales,keyElement:"fiscales",name:"Fiscales"}),r.a.createElement(Oe.a,{className:t.divider})),n.usuarios&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ye,{items:n.usuarios,keyElement:"usuarios",name:"Usuarios"}),r.a.createElement(Oe.a,{className:t.divider})),n.catalogos&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ye,{items:n.catalogos,keyElement:"catalogos",name:"Cat\xe1logos"}),r.a.createElement(Oe.a,{className:t.divider})))};return r.a.createElement(o,null)}var Ju=Object(n.createContext)();var Zu=function(e){var a=Object(d.g)(),t=M(),n=r.a.useContext(rt),o=n.logout,c=n.rol,i=e.container,l=r.a.createRef(),s=r.a.useState(0),u=Object(f.a)(s,2),p=u[0],O=u[1],S=r.a.useState(!0),I=Object(f.a)(S,2),q=I[0],F=I[1],z=r.a.useState(!1),Y=Object(f.a)(z,2),B=Y[0],W=Y[1],H=r.a.useState(null),G=Object(f.a)(H,2),V=G[0],J=G[1],Z=r.a.useState(),$=Object(f.a)(Z,2),Q=$[0],K=$[1],X=Boolean(V),ee=function(){W(!B)},ae=function(e){J(e.currentTarget)},te=r.a.createElement("div",null,r.a.createElement(Vu,{type:c})),ne=function(e){return function(){l.current.closeSnackbar(e)}};return r.a.createElement(Ju.Provider,{value:{setUser:K}},r.a.createElement(L.a,{maxSnack:5,anchorOrigin:{vertical:"bottom",horizontal:"right"},ref:l,action:function(e){return r.a.createElement(y.a,{onClick:ne(e)},r.a.createElement(A.a,{style:{color:"white"},fontSize:"small"}))}},r.a.createElement(D.a,{handleWidth:!0,handleHeight:!0,onResize:function(e){p!==e&&(O(e),F(!(e<1024)&&!!q))}}),r.a.createElement("div",null,r.a.createElement(h.a,null),r.a.createElement(v.a,{position:"fixed",className:Object(b.a)(t.appBar,Object(m.a)({},t.appBarShift,q))},r.a.createElement(x.a,null,r.a.createElement(_.a,{smDown:!0,implementation:"css"},r.a.createElement(y.a,{color:"inherit","aria-label":"open drawer",onClick:function(){F(!q)},edge:"start",className:t.menuButton},r.a.createElement(C.a,null))),r.a.createElement(_.a,{mdUp:!0,implementation:"css"},r.a.createElement(y.a,{color:"inherit","aria-label":"open drawer",onClick:ee,edge:"start"},r.a.createElement(C.a,null))),r.a.createElement(j.a,{variant:"button",noWrap:!0,className:t.title},"Grupo Estrategia Tributaria"),r.a.createElement("div",null,Q&&Q.url&&null!==Q.url&&""!==Q.url?r.a.createElement(g.a,{onClick:ae,src:"http://res.cloudinary.com/get-consultoria/image/upload/v1/".concat(Q.url),className:t.avatar}):r.a.createElement(g.a,{onClick:ae},Q?Q.nombre&&Q.nombre[0]:"U"),r.a.createElement(w.a,{id:"menu-appbar",anchorEl:V,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:X,onClose:function(){J(null)}},r.a.createElement(k.a,{onClick:function(){o(),a.push("/nomina")}},"Cerrar Session"))))),r.a.createElement("nav",{className:t.drawer,"aria-label":"mailbox folders"},r.a.createElement(_.a,{mdUp:!0,implementation:"css"},r.a.createElement(E.a,{container:i,variant:"temporary",anchor:"left",open:B,onClose:ee,classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0}},te)),r.a.createElement(_.a,{smDown:!0,implementation:"css"},r.a.createElement(E.a,{className:t.drawer,variant:"persistent",anchor:"left",open:q,classes:{paper:t.drawerPaper}},te))),r.a.createElement("main",{className:Object(b.a)(t.content,Object(m.a)({},t.contentShift,q))},r.a.createElement("div",{className:t.drawerHeader}),r.a.createElement(P.a,{theme:U},r.a.createElement(T.a,{libInstance:N.a,locale:"es",utils:R.a},function(e){switch(e){case"S":return r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"".concat(Mu)}," ",r.a.createElement(gu,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/")}," ",r.a.createElement(gu,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/nueva-empresa")}," ",r.a.createElement(tn,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/edit-empresa/:id(\\d+)")}," ",r.a.createElement(pr,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/listar-empresa")}," ",r.a.createElement(Cr,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/listar-empresa-por/:tipo(true|false)")}," ",r.a.createElement(Cr,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/nuevo-representante")}," ",r.a.createElement($o,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/edit-representante/:id(\\d+)")}," ",r.a.createElement(tc,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/listar-representante")}," ",r.a.createElement(sc,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/nuevo-empleado")}," ",r.a.createElement(Po,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/edit-empleado/:id(\\d+)")}," ",r.a.createElement(Io,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/listar-empleado-by/:interna/:externa")}," ",r.a.createElement(Ho,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/activas")}," ",r.a.createElement(Yc,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/activas/:idNomina(\\d+)&:idContrato(\\d+)&:idEmpresa(\\d+)&:anio(\\d+)")}," ",r.a.createElement(_l,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/reportes")}," ",r.a.createElement(Vl,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/giro")},r.a.createElement(is,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/regimen-capital")},r.a.createElement(ss,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/regimen-contratacion")},r.a.createElement(ps,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/jornada")},r.a.createElement(ms,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/departamento")},r.a.createElement(vs,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/tipo-contrato")},r.a.createElement(bs,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/tipo-documento")},r.a.createElement(os,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/percepcion-deduccion")},r.a.createElement(Is,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/percepcion-deduccion-sat")},r.a.createElement(Ys,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/usuario/administrador")},r.a.createElement(Pu,{type:"S"})),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/usuario/interno")},r.a.createElement(Pu,{type:"G"})),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/usuario/externo")},r.a.createElement(Pu,{type:"E"})),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/usuario/representante")},r.a.createElement(Pu,{type:"C"})),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/fiscales/integracion")},r.a.createElement($s,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/fiscales/isr")},r.a.createElement(Ks,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/fiscales/subsidio")},r.a.createElement(eu,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/fiscales/uma")},r.a.createElement(tu,null)),r.a.createElement(d.b,{path:"".concat(Mu,"/*")},r.a.createElement(d.a,{from:"".concat(Mu,"/*"),to:"/page-not-found"})));case"G":return r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"".concat(Mu)}," ",r.a.createElement(ju,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/")}," ",r.a.createElement(ju,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/activas")}," ",r.a.createElement(Yc,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/activas/:idNomina(\\d+)&:idContrato(\\d+)&:idEmpresa(\\d+)&:anio(\\d+)")}," ",r.a.createElement(_l,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/edit-empresa/:id(\\d+)")}," ",r.a.createElement(pr,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/listar-empresa-por/false")}," ",r.a.createElement(Cr,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/nuevo-empleado")}," ",r.a.createElement(Po,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/edit-empleado/:id(\\d+)")}," ",r.a.createElement(Io,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/listar-empleado-by/:interna/:externa")}," ",r.a.createElement(Ho,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/giro")},r.a.createElement(is,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/regimen-capital")},r.a.createElement(ss,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/regimen-contratacion")},r.a.createElement(ps,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/jornada")},r.a.createElement(ms,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/departamento")},r.a.createElement(vs,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/tipo-contrato")},r.a.createElement(bs,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/tipo-documento")},r.a.createElement(os,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/percepcion-deduccion")},r.a.createElement(Is,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/percepcion-deduccion-sat")},r.a.createElement(Ys,null)),r.a.createElement(d.b,{path:"".concat(Mu,"/*")},r.a.createElement(d.a,{from:"".concat(Mu,"/*"),to:"/page-not-found"})));case"C":return r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"".concat(Mu)}," ",r.a.createElement(ju,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/")}," ",r.a.createElement(ju,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/activas")}," ",r.a.createElement(Yc,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(Mu,"/activas/:idNomina(\\d+)&:idContrato(\\d+)&:idEmpresa(\\d+)&:anio(\\d+)")}," ",r.a.createElement(_l,null)," "));default:return r.a.createElement(r.a.Fragment,null)}}(c)))))))},$u=t(1152),Qu=t(712),Ku=t.n(Qu);function Xu(){return(Xu=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function ep(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var ap=r.a.createElement("path",{d:"M384.36531,591.40121H348.831V486.76183A20.95585,20.95585,0,0,0,327.87517,465.806h-8.32638a20.95585,20.95585,0,0,0-20.95586,20.95585V591.40121H198.36285a11.96327,11.96327,0,0,1-10.57763-17.552l106.0824-200.78034A20.95585,20.95585,0,0,0,284.28724,344.33l-6.26231-2.9572a20.95585,20.95585,0,0,0-27.4293,9.07005L121.21416,592.4754a28.41578,28.41578,0,0,0-3.35584,13.39612v0a28.41583,28.41583,0,0,0,28.41584,28.41583H298.59293v66.16727a25.119,25.119,0,0,0,25.119,25.119h.00005a25.119,25.119,0,0,0,25.119-25.119V634.28739h35.53428a21.44307,21.44307,0,0,0,21.44307-21.44307v0A21.44307,21.44307,0,0,0,384.36531,591.40121Z",transform:"translate(-93.054 -207.8845) scale(0.65 0.65)",fill:"#f57c00"}),tp=r.a.createElement("path",{d:"M583.47969,324.89424c-85.94407,0-147.651,55.13938-147.651,183.79791,0,145.813,61.70691,184.41057,147.651,184.41057s151.327-42.27352,151.327-184.41057C734.80664,356.75255,669.42376,324.89424,583.47969,324.89424Zm.56495,319.80837c-59.52686,0-90.62592-34.92288-90.62592-135.9163,0-89.11185,32.37209-136.10461,91.899-136.10461s91.899,30.86774,91.899,136.10461C677.21663,607.23367,643.5715,644.70261,584.04464,644.70261Z",transform:"translate(233.054 -87.8845) scale(0.65 0.65)",fill:"#2f2e41"}),np=r.a.createElement("path",{d:"M1042.36183,591.40121h-35.53428V486.76183A20.95585,20.95585,0,0,0,985.87169,465.806h-8.32638a20.95585,20.95585,0,0,0-20.95586,20.95585V591.40121H856.35937a11.96326,11.96326,0,0,1-10.57763-17.552L951.86413,373.06891A20.95586,20.95586,0,0,0,942.28376,344.33l-6.26231-2.9572a20.95586,20.95586,0,0,0-27.42931,9.07005L779.21068,592.4754a28.41578,28.41578,0,0,0-3.35584,13.39612v0a28.41583,28.41583,0,0,0,28.41583,28.41583H956.58945v66.16727a25.119,25.119,0,0,0,25.119,25.119h0a25.119,25.119,0,0,0,25.119-25.119V634.28739h35.53428a21.44307,21.44307,0,0,0,21.44307-21.44307v0A21.44307,21.44307,0,0,0,1042.36183,591.40121Z",transform:"translate(453.054 -207.8845) scale(0.65 0.65)",fill:"#f57c00"}),rp=r.a.createElement("circle",{cx:212.59226,cy:103,r:64,fill:"#ff6584"}),op=r.a.createElement("path",{d:"M563.68016,404.16381c0,151.01141-89.77389,203.73895-200.51559,203.73895S162.649,555.17522,162.649,404.16381,363.16457,61.04208,363.16457,61.04208,563.68016,253.1524,563.68016,404.16381Z",transform:"translate(-39.70387 -61.04208)",fill:"#f2f2f2"}),cp=r.a.createElement("polygon",{points:"316.156 523.761 318.21 397.378 403.674 241.024 318.532 377.552 319.455 320.725 378.357 207.605 319.699 305.687 319.699 305.687 321.359 203.481 384.433 113.423 321.621 187.409 322.658 0 316.138 248.096 316.674 237.861 252.547 139.704 315.646 257.508 309.671 371.654 309.493 368.625 235.565 265.329 309.269 379.328 308.522 393.603 308.388 393.818 308.449 394.99 293.29 684.589 313.544 684.589 315.974 535.005 389.496 421.285 316.156 523.761",fill:"#3f3d56"}),ip=r.a.createElement("path",{d:"M1160.29613,466.01367c0,123.61-73.4842,166.77-164.13156,166.77s-164.13156-43.16-164.13156-166.77S996.16457,185.15218,996.16457,185.15218,1160.29613,342.40364,1160.29613,466.01367Z",transform:"translate(-69.70387 -61.04208)",fill:"#f2f2f2"}),lp=r.a.createElement("polygon",{points:"950.482 552.833 952.162 449.383 1022.119 321.4 952.426 433.154 953.182 386.639 1001.396 294.044 953.382 374.329 953.382 374.329 954.741 290.669 1006.369 216.952 954.954 277.514 955.804 124.11 950.467 327.188 950.906 318.811 898.414 238.464 950.064 334.893 945.173 428.327 945.027 425.847 884.514 341.294 944.844 434.608 944.232 446.293 944.123 446.469 944.173 447.428 931.764 684.478 948.343 684.478 950.332 562.037 1010.514 468.952 950.482 552.833",fill:"#3f3d56",transform:"translate(-30 0)"}),sp=r.a.createElement("ellipse",{cx:554.59226,cy:680.47903,rx:554.59226,ry:28.03433,fill:"#3f3d56"}),up=r.a.createElement("ellipse",{cx:892.44491,cy:726.79663,rx:94.98858,ry:4.80162,fill:"#3f3d56"}),pp=r.a.createElement("ellipse",{cx:548.71959,cy:773.11422,rx:94.98858,ry:4.80162,fill:"#3f3d56"}),dp=r.a.createElement("ellipse",{cx:287.94432,cy:734.27887,rx:217.01436,ry:10.96996,fill:"#3f3d56"}),mp=r.a.createElement("circle",{cx:97.08375,cy:566.26982,r:79,fill:"#2f2e41"}),fp=r.a.createElement("rect",{x:99.80546,y:689.02332,width:24,height:43,transform:"translate(-31.32451 -62.31008) rotate(0.67509)",fill:"#2f2e41"}),vp=r.a.createElement("rect",{x:147.80213,y:689.58887,width:24,height:43,transform:"translate(-31.31452 -62.87555) rotate(0.67509)",fill:"#2f2e41"}),hp=r.a.createElement("ellipse",{cx:119.54569,cy:732.61606,rx:7.5,ry:20,transform:"translate(-654.1319 782.47948) rotate(-89.32491)",fill:"#2f2e41"}),bp=r.a.createElement("ellipse",{cx:167.55414,cy:732.18168,rx:7.5,ry:20,transform:"translate(-606.25475 830.05533) rotate(-89.32491)",fill:"#2f2e41"}),Ep=r.a.createElement("circle",{cx:99.31925,cy:546.29477,r:27,fill:"#fff"}),gp=r.a.createElement("circle",{cx:99.31925,cy:546.29477,r:9,fill:"#3f3d56"}),_p=r.a.createElement("path",{d:"M61.02588,552.94636c-6.04185-28.64075,14.68758-57.26483,46.30049-63.93367s62.13813,11.14292,68.18,39.78367-14.97834,38.93-46.59124,45.59886S67.06774,581.58712,61.02588,552.94636Z",transform:"translate(-39.70387 -61.04208)",fill:"#f57c00"}),yp=r.a.createElement("path",{d:"M257.29613,671.38411c0,55.07585-32.73985,74.3063-73.13,74.3063q-1.40351,0-2.80255-.0312c-1.87139-.04011-3.72494-.1292-5.55619-.254-36.45135-2.57979-64.77127-22.79937-64.77127-74.02113,0-53.00843,67.73872-119.89612,72.827-124.84633l.00892-.00889c.19608-.19159.29409-.28516.29409-.28516S257.29613,616.30827,257.29613,671.38411Z",transform:"translate(-39.70387 -61.04208)",fill:"#f57c00"}),xp=r.a.createElement("path",{d:"M181.50168,737.26482l26.747-37.37367-26.81386,41.4773-.07125,4.29076c-1.87139-.04011-3.72494-.1292-5.55619-.254l2.88282-55.10258-.0223-.42775.049-.0802.27179-5.20415-26.88076-41.5798,26.96539,37.67668.06244,1.105,2.17874-41.63324-23.0132-42.96551,23.29391,35.6583,2.26789-86.31419.00892-.294v.28516l-.37871,68.064,22.91079-26.98321-23.00435,32.84678-.60595,37.27566L204.18523,621.958l-21.4805,41.259-.33863,20.723,31.05561-49.79149-31.17146,57.023Z",transform:"translate(-39.70387 -61.04208)",fill:"#3f3d56"}),jp=r.a.createElement("circle",{cx:712.48505,cy:565.41532,r:79,fill:"#2f2e41"}),Op=r.a.createElement("rect",{x:741.77716,y:691.82355,width:24,height:43,transform:"translate(-215.99457 191.86399) rotate(-17.08345)",fill:"#2f2e41"}),Cp=r.a.createElement("rect",{x:787.6593,y:677.72286,width:24,height:43,transform:"matrix(0.95588, -0.29376, 0.29376, 0.95588, -209.82788, 204.72037)",fill:"#2f2e41"}),kp=r.a.createElement("ellipse",{cx:767.887,cy:732.00275,rx:20,ry:7.5,transform:"translate(-220.8593 196.83312) rotate(-17.08345)",fill:"#2f2e41"}),wp=r.a.createElement("ellipse",{cx:813.47537,cy:716.94619,rx:20,ry:7.5,transform:"translate(-214.42477 209.56103) rotate(-17.08345)",fill:"#2f2e41"}),Sp=r.a.createElement("circle",{cx:708.52153,cy:545.71023,r:27,fill:"#fff"}),Ap=r.a.createElement("circle",{cx:708.52153,cy:545.71023,r:9,fill:"#3f3d56"}),Dp=r.a.createElement("path",{d:"M657.35526,578.74316c-14.48957-25.43323-3.47841-59.016,24.59412-75.0092s62.57592-8.34055,77.06549,17.09268-2.39072,41.6435-30.46325,57.63671S671.84483,604.17639,657.35526,578.74316Z",transform:"translate(-39.70387 -61.04208)",fill:"#f57c00"}),Tp=r.a.createElement("path",{d:"M611.29613,661.29875c0,50.55711-30.05368,68.20979-67.13,68.20979q-1.28835,0-2.57261-.02864c-1.71785-.03682-3.41933-.1186-5.10033-.23313-33.46068-2.36813-59.45707-20.92878-59.45707-67.948,0-48.65932,62.18106-110.05916,66.85186-114.60322l.00819-.00817c.18-.17587.27-.26177.27-.26177S611.29613,610.74164,611.29613,661.29875Z",transform:"translate(-39.70387 -61.04208)",fill:"#f57c00"}),Rp=r.a.createElement("path",{d:"M541.72029,721.77424l24.55253-34.30732-24.6139,38.07426-.0654,3.93872c-1.71785-.03682-3.41933-.1186-5.10033-.23313l2.6463-50.58165-.02047-.39266.045-.07361.24949-4.77718-24.67531-38.16836,24.753,34.58547.05731,1.01433,2-38.21741-21.12507-39.44039L541.80616,625.928l2.08182-79.23247.00819-.26994v.26177l-.34764,62.47962,21.031-24.76934-21.11693,30.15184-.55624,34.21735,19.63634-32.839-19.71812,37.87389-.31085,19.0228,28.50763-45.70631-28.614,52.34448Z",transform:"translate(-39.70387 -61.04208)",fill:"#3f3d56"}),Ip=r.a.createElement("path",{d:"M875.29613,682.38411c0,55.07585-32.73985,74.3063-73.13,74.3063q-1.4035,0-2.80255-.0312c-1.87139-.04011-3.72494-.1292-5.55619-.254-36.45135-2.57979-64.77127-22.79937-64.77127-74.02113,0-53.00843,67.73872-119.89612,72.827-124.84633l.00892-.00889c.19608-.19159.29409-.28516.29409-.28516S875.29613,627.30827,875.29613,682.38411Z",transform:"translate(-39.70387 -61.04208)",fill:"#f57c00"}),Np=r.a.createElement("path",{d:"M799.50168,748.26482l26.747-37.37367-26.81386,41.4773-.07125,4.29076c-1.87139-.04011-3.72494-.1292-5.55619-.254l2.88282-55.10258-.0223-.42775.049-.0802.27179-5.20415L770.108,654.01076l26.96539,37.67668.06244,1.105,2.17874-41.63324-23.0132-42.96551,23.29391,35.6583,2.26789-86.31419.00892-.294v.28516l-.37871,68.064,22.91079-26.98321-23.00435,32.84678-.606,37.27566L822.18523,632.958l-21.4805,41.259-.33863,20.723,31.05561-49.79149-31.17146,57.023Z",transform:"translate(-39.70387 -61.04208)",fill:"#3f3d56"}),Lp=r.a.createElement("ellipse",{cx:721.51694,cy:656.82212,rx:12.40027,ry:39.5,transform:"translate(-220.83517 966.22323) rotate(-64.62574)",fill:"#2f2e41"}),Pp=r.a.createElement("ellipse",{cx:112.51694,cy:651.82212,rx:12.40027,ry:39.5,transform:"translate(-574.07936 452.71367) rotate(-68.15829)",fill:"#2f2e41"}),qp=function(e){var a=e.svgRef,t=e.title,n=ep(e,["svgRef","title"]);return r.a.createElement("svg",Xu({id:"a706cf1c-1654-439b-8fcf-310eb7aa0e00","data-name":"Layer 1",width:1220.59226,height:777.91584,viewBox:"0 0 1120.59226 777.91584",ref:a},n),t?r.a.createElement("title",null,t):null,ap,tp,np,rp,op,cp,ip,lp,sp,up,pp,dp,mp,fp,vp,hp,bp,Ep,gp,_p,yp,xp,jp,Op,Cp,kp,wp,Sp,Ap,Dp,Tp,Rp,Ip,Np,Lp,Pp)},Fp=r.a.forwardRef((function(e,a){return r.a.createElement(qp,Xu({svgRef:a},e))}));t.p;function zp(){return(zp=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function Yp(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var Up=r.a.createElement("ellipse",{cx:836.60911,cy:660.5,rx:283,ry:38.5,fill:"#f2f2f2"}),Mp=r.a.createElement("ellipse",{cx:310.60911,cy:645.5,rx:170,ry:23.12721,fill:"#f2f2f2"}),Bp=r.a.createElement("path",{d:"M494,726.5c90,23,263-30,282-90",transform:"translate(-31.39089 -100.5)",fill:"none",stroke:"#2f2e41",strokeMiterlimit:10,strokeWidth:2}),Wp=r.a.createElement("path",{d:"M341,359.5s130-36,138,80-107,149-17,172",transform:"translate(-31.39089 -100.5)",fill:"none",stroke:"#2f2e41",strokeMiterlimit:10,strokeWidth:2}),Hp=r.a.createElement("path",{d:"M215.40233,637.78332s39.0723-10.82,41.47675,24.04449-32.15951,44.78287-5.10946,51.69566",transform:"translate(-31.39089 -100.5)",fill:"none",stroke:"#2f2e41",strokeMiterlimit:10,strokeWidth:2}),Gp=r.a.createElement("path",{d:"M810.09554,663.73988,802.218,714.03505s-38.78182,20.60284-11.51335,21.20881,155.73324,0,155.73324,0,24.84461,0-14.54318-21.81478l-7.87756-52.719Z",transform:"translate(-31.39089 -100.5)",fill:"#D0D2D6"}),Vp=r.a.createElement("path",{d:"M785.21906,734.69812c6.193-5.51039,16.9989-11.252,16.9989-11.252l7.87756-50.2952,113.9216.10717,7.87756,49.582c9.185,5.08711,14.8749,8.987,18.20362,11.97818,5.05882-1.15422,10.58716-5.44353-18.20362-21.38921l-7.87756-52.719-113.9216,3.02983L802.218,714.03506S769.62985,731.34968,785.21906,734.69812Z",transform:"translate(-31.39089 -100.5)",opacity:.1}),Jp=r.a.createElement("rect",{x:578.43291,y:212.68859,width:513.25314,height:357.51989,rx:18.04568,fill:"#2f2e41"}),Zp=r.a.createElement("rect",{x:595.70294,y:231.77652,width:478.71308,height:267.83694,fill:"#3f3d56"}),$p=r.a.createElement("circle",{cx:835.05948,cy:223.29299,r:3.02983,fill:"#f2f2f2"}),Qp=r.a.createElement("path",{d:"M1123.07694,621.32226V652.6628a18.04341,18.04341,0,0,1-18.04568,18.04568H627.86949A18.04341,18.04341,0,0,1,609.8238,652.6628V621.32226Z",transform:"translate(-31.39089 -100.5)",fill:"#D0D2D6"}),Kp=r.a.createElement("polygon",{points:"968.978 667.466 968.978 673.526 642.968 673.526 642.968 668.678 643.417 667.466 651.452 645.651 962.312 645.651 968.978 667.466",fill:"#2f2e41"}),Xp=r.a.createElement("path",{d:"M1125.828,762.03359c-.59383,2.539-2.83591,5.21743-7.90178,7.75032-18.179,9.08949-55.1429-2.42386-55.1429-2.42386s-28.4804-4.84773-28.4804-17.573a22.72457,22.72457,0,0,1,2.49658-1.48459c7.64294-4.04351,32.98449-14.02122,77.9177.42248a18.73921,18.73921,0,0,1,8.54106,5.59715C1125.07908,756.45353,1126.50669,759.15715,1125.828,762.03359Z",transform:"translate(-31.39089 -100.5)",fill:"#2f2e41"}),ed=r.a.createElement("path",{d:"M1125.828,762.03359c-22.251,8.526-42.0843,9.1622-62.43871-4.975-10.26507-7.12617-19.59089-8.88955-26.58979-8.75618,7.64294-4.04351,32.98449-14.02122,77.9177.42248a18.73921,18.73921,0,0,1,8.54106,5.59715C1125.07908,756.45353,1126.50669,759.15715,1125.828,762.03359Z",transform:"translate(-31.39089 -100.5)",opacity:.1}),ad=r.a.createElement("ellipse",{cx:1066.53846,cy:654.13477,rx:7.87756,ry:2.42386,fill:"#f2f2f2"}),td=r.a.createElement("circle",{cx:835.05948,cy:545.66686,r:11.51335,fill:"#A6ACB3"}),nd=r.a.createElement("polygon",{points:"968.978 667.466 968.978 673.526 642.968 673.526 642.968 668.678 643.417 667.466 968.978 667.466",opacity:.1}),rd=r.a.createElement("rect",{x:108.60911,y:159,width:208,height:242,fill:"#2f2e41"}),od=r.a.createElement("rect",{x:87.60911,y:135,width:250,height:86,fill:"#3f3d56"}),cd=r.a.createElement("rect",{x:87.60911,y:237,width:250,height:86,fill:"#3f3d56"}),id=r.a.createElement("rect",{x:87.60911,y:339,width:250,height:86,fill:"#3f3d56"}),ld=r.a.createElement("rect",{x:271.60911,y:150,width:16,height:16,fill:"#f57c00",opacity:.4}),sd=r.a.createElement("rect",{x:294.60911,y:150,width:16,height:16,fill:"#f57c00",opacity:.8}),ud=r.a.createElement("rect",{x:317.60911,y:150,width:16,height:16,fill:"#f57c00"}),pd=r.a.createElement("rect",{x:271.60911,y:251,width:16,height:16,fill:"#f57c00",opacity:.4}),dd=r.a.createElement("rect",{x:294.60911,y:251,width:16,height:16,fill:"#f57c00",opacity:.8}),md=r.a.createElement("rect",{x:317.60911,y:251,width:16,height:16,fill:"#f57c00"}),fd=r.a.createElement("rect",{x:271.60911,y:352,width:16,height:16,fill:"#f57c00",opacity:.4}),vd=r.a.createElement("rect",{x:294.60911,y:352,width:16,height:16,fill:"#f57c00",opacity:.8}),hd=r.a.createElement("rect",{x:317.60911,y:352,width:16,height:16,fill:"#f57c00"}),bd=r.a.createElement("circle",{cx:316.60911,cy:538,r:79,fill:"#2f2e41"}),Ed=r.a.createElement("rect",{x:280.60911,y:600,width:24,height:43,fill:"#2f2e41"}),gd=r.a.createElement("rect",{x:328.60911,y:600,width:24,height:43,fill:"#2f2e41"}),_d=r.a.createElement("ellipse",{cx:300.60911,cy:643.5,rx:20,ry:7.5,fill:"#2f2e41"}),yd=r.a.createElement("ellipse",{cx:348.60911,cy:642.5,rx:20,ry:7.5,fill:"#2f2e41"}),xd=r.a.createElement("circle",{cx:318.60911,cy:518,r:27,fill:"#fff"}),jd=r.a.createElement("circle",{cx:318.60911,cy:518,r:9,fill:"#3f3d56"}),Od=r.a.createElement("path",{d:"M271.36733,565.03228c-6.37889-28.56758,14.01185-57.43392,45.544-64.47477s62.2651,10.41,68.644,38.9776-14.51861,39.10379-46.05075,46.14464S277.74622,593.59986,271.36733,565.03228Z",transform:"translate(-31.39089 -100.5)",fill:"#f57c00"}),Cd=r.a.createElement("ellipse",{cx:417.21511,cy:611.34365,rx:39.5,ry:12.40027,transform:"translate(-238.28665 112.98044) rotate(-23.17116)",fill:"#2f2e41"}),kd=r.a.createElement("ellipse",{cx:269.21511,cy:664.34365,rx:39.5,ry:12.40027,transform:"translate(-271.07969 59.02084) rotate(-23.17116)",fill:"#2f2e41"}),wd=r.a.createElement("path",{d:"M394,661.5c0,7.732-19.90861,23-42,23s-43-14.268-43-22,20.90861-6,43-6S394,653.768,394,661.5Z",transform:"translate(-31.39089 -100.5)",fill:"#fff"}),Sd=function(e){var a=e.svgRef,t=e.title,n=Yp(e,["svgRef","title"]);return r.a.createElement("svg",zp({id:"aa03ddf9-f8f2-4819-a4ce-be9b0a220741","data-name":"Layer 1",width:1119.60911,height:699,viewBox:"0 0 1119.60911 699",ref:a},n),t?r.a.createElement("title",null,t):null,Up,Mp,Bp,Wp,Hp,Gp,Vp,Jp,Zp,$p,Qp,Kp,Xp,ed,ad,td,nd,rd,od,cd,id,ld,sd,ud,pd,dd,md,fd,vd,hd,bd,Ed,gd,_d,yd,xd,jd,Od,Cd,kd,wd)},Ad=r.a.forwardRef((function(e,a){return r.a.createElement(Sd,zp({svgRef:a},e))})),Dd=(t.p,Object(Y.a)((function(){return{container:{},svg:{padding:"50px 0px",height:300,maxWidth:"100%",minWidth:"200px"},letrero:{fontSize:"50px",marginBottom:"20px"},button:{marginTop:40,animation:"$pulse 1s infinite"},"@keyframes pulse":{"0%":{boxShadow:"0 0 0 0 rgba(245,124,0,0.7)"},"70%":{boxShadow:"0 0 0 12px rgba(245,124,0,0)"},"100%":{boxShadow:"0 0 0 0 rgba(245,124,0,0)"}},footer:{marginTop:70}}}))),Td=Object(z.a)();Td=Object(F.a)(Td);var Rd=Object(Ne.a)((function(){return{root:{color:"#FFFFFF",backgroundColor:"#F57C00","&:hover":{backgroundColor:"#D84315"}}}}))(ra.a);function Id(e){var a=Dd(),t=function(){return r.a.createElement(j.a,{variant:"body2",color:"textSecondary",align:"center",display:"block",className:a.footer},r.a.createElement($u.a,{color:"inherit",href:"https://getconsultoria.com/"},"Copyright \xa9 GET Consultoria ",(new Date).getFullYear(),"."))},n={SVG:r.a.createElement(Ad,{className:a.svg}),H5:"No se ha podido establecer conexi\xf3n con el servidor.",Title1:"Es muy probable que est\xe9 en mantenimiento.",Title2:"Antes de todo \xbfYa revisaste tu conexi\xf3n de internet?"},o={SVG:r.a.createElement(Fp,{className:a.svg}),H5:"La p\xe1gina que solicit\xf3 no se encontr\xf3.",Title1:"Hemos buscado esta p\xe1gina por todas partes.",Title2:"\xbfEst\xe1s seguro de que la URL del sitio web es correcta?"},c="NotFound"===e.type?o:n;return r.a.createElement(P.a,{theme:Td},r.a.createElement(na.a,{container:!0,className:a.container,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:12,lg:12},c.SVG),r.a.createElement(na.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(j.a,{variant:"h4",display:"block",gutterBottom:!0,style:{textAlign:"center"}},c.H5),r.a.createElement(j.a,{variant:"h5",display:"block",gutterBottom:!0,style:{textAlign:"center",padding:10}},c.Title1),r.a.createElement(j.a,{variant:"h6",display:"block",gutterBottom:!0,style:{textAlign:"center",padding:10}},c.Title2)),r.a.createElement(na.a,{item:!0,xs:12,md:12,lg:12},r.a.createElement(Rd,{className:a.button,size:"large",href:"/nomina",startIcon:r.a.createElement(Ku.a,null)},"Ir a la p\xe1gina principal")),r.a.createElement(na.a,{item:!0,xs:12,md:12,lg:12},r.a.createElement(t,null))))}var Nd=t(713),Ld=t.n(Nd),Pd=Object(Y.a)((function(e){return{txtnaranja:{color:"#EC7902"},pad:{paddingBottom:"20px"}}}));function qd(){var e=Pd();return r.a.createElement(j.a,{variant:"body2",color:"textSecondary",align:"center",className:e.pad},"Copyright \xa9 ",r.a.createElement(p.c,{className:e.txtnaranja,to:"/"},"Get Consultor\xeda")," "," ",(new Date).getFullYear(),".")}var Fd=Object(Y.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://getconsultoria.com/wp-content/uploads/2020/05/pexels-photo-327540.jpeg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),backgroundColor:"#e0691e",color:"#ffffff","&:hover":{backgroundColor:"#dc7633"}},buttonProgress:{color:"#EC7902",position:"relative",top:"50%",left:"47.5%"},get:{width:"120px",height:"130px",marginTop:"15px"},olvide:{textAlign:"center",cursor:"pointer",color:Fl.a[500],"&:hover":{color:Fl.a[700]}}}})),zd={email:{value:"",verify:""},password:{value:"",verify:""},savesession:!1,showPassword:!1};function Yd(e){var a=Fd(),t=Object(d.g)(),o=r.a.useState(!1),c=Object(f.a)(o,2),i=c[0],l=c[1],s=r.a.useState(!1),u=Object(f.a)(s,2),m=u[0],v=u[1],b=r.a.useState(),E=Object(f.a)(b,2),g=E[0],_=E[1],x=r.a.useRef(),O=Object(n.useState)(zd),C=Object(f.a)(O,2),k=C[0],w=C[1],S=function(){var e=Object(q.a)({},k),a=0;return e.email.verify="".concat(k.email.verify).length>0&&k.email.verify&&Ut.esCorreo(k.email.value),m?a=k.email.verify:(e.password.verify="".concat(k.password.verify).length>0&&k.password.verify,a=k.email.verify&&k.password.verify),w(e),a},A=function(e){var a="".concat(e.target.id),t=e.target.value,n=Object(q.a)({},k);n[a]=Object(q.a)(Object(q.a)({},n[a]),{},{value:t,verify:"".concat(t).length>0}),w(n)},D=function(){var e=Object(We.a)(Be.a.mark((function e(a){var n,r;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new at.a("iToxD"),r=n.encrypt(JSON.stringify(a)),localStorage.setItem("fjFKsjfo_",r),t.push("/nomina");case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),T=function(e,a){_({type:e,message:a}),l(!1),x.current=setTimeout((function(){_()}),5e3)};return r.a.createElement(na.a,{container:!0,component:"main",className:a.root},r.a.createElement(h.a,null),r.a.createElement(na.a,{item:!0,xs:!1,sm:4,md:7,className:a.image}),r.a.createElement(na.a,{item:!0,xs:12,sm:8,md:5,component:cn.a,elevation:6,square:!0},r.a.createElement("div",{className:a.paper},r.a.createElement(p.c,{to:"/"},r.a.createElement(ru.a,{className:a.get,image:"https://getconsultoria.com/wp-content/uploads/2018/04/logo_GET_slider-01-645x774-2.png",title:"Get Consultoria"})," "),r.a.createElement(j.a,{component:"h1",variant:"h5"},"Ingresar"),r.a.createElement("form",{className:a.form,noValidate:!0},m&&r.a.createElement(j.a,{variant:"body1",style:{marginTop:"3vh"}},"Enviaremos un enlace para reestablecer tu contrase\xf1a al correo que proporciones"),r.a.createElement(ca.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Correo electr\xf3nico",name:"email",autoComplete:"email",autoFocus:!0,onChange:A,error:""!==k.email.verify&&!k.email.verify,helperText:!1===k.email.verify?"Campo requerido":""}),!m&&r.a.createElement(ca.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Contrase\xf1a",type:k.showPassword?"text":"password",id:"password",autoComplete:"current-password",onChange:A,error:""!==k.password.verify&&!k.password.verify,helperText:!1===k.password.verify?"Campo requerido":"",InputProps:{endAdornment:r.a.createElement(_a.a,{position:"end"},r.a.createElement(y.a,{"aria-label":"toggle password visibility",onClick:function(){w(Object(q.a)(Object(q.a)({},k),{},{showPassword:!k.showPassword}))},onMouseDown:function(e){e.preventDefault()}},k.showPassword?r.a.createElement(xr.a,null):r.a.createElement(Ld.a,null)))}}),!m&&r.a.createElement(vt.a,{control:r.a.createElement(Fr.a,{value:k.savesession,onChange:function(){w(Object(q.a)(Object(q.a)({},k),{},{savesession:!k.savesession}))},color:"primary"}),label:"Recordarme"}),r.a.createElement(na.a,{container:!0},r.a.createElement(ra.a,{disabled:i,fullWidth:!0,variant:"contained",color:"primary",type:"submit",className:a.submit,onClick:function(e){m?(e.preventDefault(),S()&&(l(!0),fetch(sa+"/api/rh/usuario/solicitar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:k.email.value})}).then((function(e){return e.json()})).then((function(e){var a=e.result,t=e.error;console.log(a,t),a?(T(!1,"Se ha enviado un correo con las instrucciones para reestablecer tu contrase\xf1a"),v(!1)):t&&T(!0,t.message),l(!1)})).catch((function(e){T(!0,"No hay conexi\xf3n con el servidor")})))):function(e){if(e.preventDefault(),S()){l(!0);var a={email:k.email.value,password:k.password.value,savesession:k.savesession};fetch(sa+"/api/rh/usuario/ingresar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error||"E"===e.rol?T(!0,"Usuario o contrase\xf1a incorrectos"):D(e)})).catch((function(e){T(!0,"No hay conexi\xf3n con el servidor")}))}}(e)}},m?"Enviar correo":"Ingresar")),!i&&r.a.createElement(j.a,{variant:"body1",color:"initial",display:"block",className:a.olvide,onClick:function(){return v(!m)}},m?"Volver":"Olvidaste tu contrase\xf1a?"),i&&r.a.createElement(Tt.a,{size:34,className:a.buttonProgress}),g&&r.a.createElement(j.a,{variant:"body1",display:"block",style:{textAlign:"center",color:"".concat(g.type?"red":"green")}},g.message),r.a.createElement(On.a,{mt:5},r.a.createElement(qd,null))))))}var Ud=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(d.d,null,r.a.createElement(ct,{restricted:!0,exact:!0,path:"/nomina/signin",redirect:"/nomina"},r.a.createElement(Yd,null)),r.a.createElement(ot,{path:"/nomina",redirect:"/nomina/signIn"},r.a.createElement(Zu,null)),r.a.createElement(d.b,{path:"/server-error"},r.a.createElement(Id,{type:"ServerError"})),r.a.createElement(d.b,{path:"/*"},r.a.createElement(Id,{type:"NotFound"})))))};function Md(){return r.a.createElement(p.b,{basename:"/frontend-cixous"},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/"},r.a.createElement(d.a,{to:"/nomina"})),r.a.createElement(Ud,null)))}var Bd=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Md,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(p.a,null,r.a.createElement(Bd,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},246:function(e){e.exports=JSON.parse('{"a":"https://getconsultoria.herokuapp.com/"}')},395:function(e,a,t){e.exports=t.p+"static/media/get.46f2f611.ico"},397:function(e,a,t){e.exports=t.p+"static/media/tower.0762b3a6.jpg"},699:function(e,a,t){e.exports=t.p+"static/media/employes.d1580b8b.jpg"},700:function(e,a,t){e.exports=t.p+"static/media/deal.76706c0f.jpg"},701:function(e,a,t){e.exports=t.p+"static/media/nomina.a2965ef7.jpg"},702:function(e,a,t){e.exports=t.p+"static/media/get.3c028480.png"},729:function(e,a,t){e.exports=t(1096)},734:function(e,a,t){},738:function(e,a,t){},760:function(e,a){},762:function(e,a){},773:function(e,a){},775:function(e,a){},802:function(e,a){},804:function(e,a){},805:function(e,a){},811:function(e,a){},813:function(e,a){},831:function(e,a){},833:function(e,a){},845:function(e,a){},848:function(e,a){}},[[729,1,2]]]);
//# sourceMappingURL=main.2d48f98d.chunk.js.map